var f3=Object.defineProperty,h3=Object.defineProperties;var c3=Object.getOwnPropertyDescriptors;var v1=Object.getOwnPropertySymbols;var d3=Object.prototype.hasOwnProperty,p3=Object.prototype.propertyIsEnumerable;var _1=(e,t,r)=>t in e?f3(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Yr=(e,t)=>{for(var r in t||(t={}))d3.call(t,r)&&_1(e,r,t[r]);if(v1)for(var r of v1(t))p3.call(t,r)&&_1(e,r,t[r]);return e},m1=(e,t)=>h3(e,c3(t));const v3=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function r(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerpolicy&&(o.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?o.credentials="include":i.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(i){if(i.ep)return;i.ep=!0;const o=r(i);fetch(i.href,o)}};v3();var tr=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};function Ff(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var It={exports:{}},nt={};/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var g1=Object.getOwnPropertySymbols,_3=Object.prototype.hasOwnProperty,m3=Object.prototype.propertyIsEnumerable;function g3(e){if(e==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}function y3(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de",Object.getOwnPropertyNames(e)[0]==="5")return!1;for(var t={},r=0;r<10;r++)t["_"+String.fromCharCode(r)]=r;var n=Object.getOwnPropertyNames(t).map(function(o){return t[o]});if(n.join("")!=="0123456789")return!1;var i={};return"abcdefghijklmnopqrst".split("").forEach(function(o){i[o]=o}),Object.keys(Object.assign({},i)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}var Fm=y3()?Object.assign:function(e,t){for(var r,n=g3(e),i,o=1;o<arguments.length;o++){r=Object(arguments[o]);for(var a in r)_3.call(r,a)&&(n[a]=r[a]);if(g1){i=g1(r);for(var u=0;u<i.length;u++)m3.call(r,i[u])&&(n[i[u]]=r[i[u]])}}return n};/** @license React v17.0.2
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Um=Fm,Ss=60103,Pw=60106;nt.Fragment=60107;nt.StrictMode=60108;nt.Profiler=60114;var Aw=60109,Ow=60110,Lw=60112;nt.Suspense=60113;var Fw=60115,Uw=60116;if(typeof Symbol=="function"&&Symbol.for){var bn=Symbol.for;Ss=bn("react.element"),Pw=bn("react.portal"),nt.Fragment=bn("react.fragment"),nt.StrictMode=bn("react.strict_mode"),nt.Profiler=bn("react.profiler"),Aw=bn("react.provider"),Ow=bn("react.context"),Lw=bn("react.forward_ref"),nt.Suspense=bn("react.suspense"),Fw=bn("react.memo"),Uw=bn("react.lazy")}var y1=typeof Symbol=="function"&&Symbol.iterator;function x3(e){return e===null||typeof e!="object"?null:(e=y1&&e[y1]||e["@@iterator"],typeof e=="function"?e:null)}function gl(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var kw={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Bw={};function Cs(e,t,r){this.props=e,this.context=t,this.refs=Bw,this.updater=r||kw}Cs.prototype.isReactComponent={};Cs.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error(gl(85));this.updater.enqueueSetState(this,e,t,"setState")};Cs.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Mw(){}Mw.prototype=Cs.prototype;function km(e,t,r){this.props=e,this.context=t,this.refs=Bw,this.updater=r||kw}var Bm=km.prototype=new Mw;Bm.constructor=km;Um(Bm,Cs.prototype);Bm.isPureReactComponent=!0;var Mm={current:null},Dw=Object.prototype.hasOwnProperty,Gw={key:!0,ref:!0,__self:!0,__source:!0};function Hw(e,t,r){var n,i={},o=null,a=null;if(t!=null)for(n in t.ref!==void 0&&(a=t.ref),t.key!==void 0&&(o=""+t.key),t)Dw.call(t,n)&&!Gw.hasOwnProperty(n)&&(i[n]=t[n]);var u=arguments.length-2;if(u===1)i.children=r;else if(1<u){for(var f=Array(u),h=0;h<u;h++)f[h]=arguments[h+2];i.children=f}if(e&&e.defaultProps)for(n in u=e.defaultProps,u)i[n]===void 0&&(i[n]=u[n]);return{$$typeof:Ss,type:e,key:o,ref:a,props:i,_owner:Mm.current}}function T3(e,t){return{$$typeof:Ss,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Dm(e){return typeof e=="object"&&e!==null&&e.$$typeof===Ss}function E3(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var x1=/\/+/g;function kp(e,t){return typeof e=="object"&&e!==null&&e.key!=null?E3(""+e.key):t.toString(36)}function Eh(e,t,r,n,i){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var a=!1;if(e===null)a=!0;else switch(o){case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case Ss:case Pw:a=!0}}if(a)return a=e,i=i(a),e=n===""?"."+kp(a,0):n,Array.isArray(i)?(r="",e!=null&&(r=e.replace(x1,"$&/")+"/"),Eh(i,t,r,"",function(h){return h})):i!=null&&(Dm(i)&&(i=T3(i,r+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(x1,"$&/")+"/")+e)),t.push(i)),1;if(a=0,n=n===""?".":n+":",Array.isArray(e))for(var u=0;u<e.length;u++){o=e[u];var f=n+kp(o,u);a+=Eh(o,t,r,f,i)}else if(f=x3(e),typeof f=="function")for(e=f.call(e),u=0;!(o=e.next()).done;)o=o.value,f=n+kp(o,u++),a+=Eh(o,t,r,f,i);else if(o==="object")throw t=""+e,Error(gl(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t));return a}function Uf(e,t,r){if(e==null)return e;var n=[],i=0;return Eh(e,n,"","",function(o){return t.call(r,o,i++)}),n}function w3(e){if(e._status===-1){var t=e._result;t=t(),e._status=0,e._result=t,t.then(function(r){e._status===0&&(r=r.default,e._status=1,e._result=r)},function(r){e._status===0&&(e._status=2,e._result=r)})}if(e._status===1)return e._result;throw e._result}var Xw={current:null};function Ci(){var e=Xw.current;if(e===null)throw Error(gl(321));return e}var b3={ReactCurrentDispatcher:Xw,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:Mm,IsSomeRendererActing:{current:!1},assign:Um};nt.Children={map:Uf,forEach:function(e,t,r){Uf(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return Uf(e,function(){t++}),t},toArray:function(e){return Uf(e,function(t){return t})||[]},only:function(e){if(!Dm(e))throw Error(gl(143));return e}};nt.Component=Cs;nt.PureComponent=km;nt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=b3;nt.cloneElement=function(e,t,r){if(e==null)throw Error(gl(267,e));var n=Um({},e.props),i=e.key,o=e.ref,a=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,a=Mm.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var u=e.type.defaultProps;for(f in t)Dw.call(t,f)&&!Gw.hasOwnProperty(f)&&(n[f]=t[f]===void 0&&u!==void 0?u[f]:t[f])}var f=arguments.length-2;if(f===1)n.children=r;else if(1<f){u=Array(f);for(var h=0;h<f;h++)u[h]=arguments[h+2];n.children=u}return{$$typeof:Ss,type:e.type,key:i,ref:o,props:n,_owner:a}};nt.createContext=function(e,t){return t===void 0&&(t=null),e={$$typeof:Ow,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null},e.Provider={$$typeof:Aw,_context:e},e.Consumer=e};nt.createElement=Hw;nt.createFactory=function(e){var t=Hw.bind(null,e);return t.type=e,t};nt.createRef=function(){return{current:null}};nt.forwardRef=function(e){return{$$typeof:Lw,render:e}};nt.isValidElement=Dm;nt.lazy=function(e){return{$$typeof:Uw,_payload:{_status:-1,_result:e},_init:w3}};nt.memo=function(e,t){return{$$typeof:Fw,type:e,compare:t===void 0?null:t}};nt.useCallback=function(e,t){return Ci().useCallback(e,t)};nt.useContext=function(e,t){return Ci().useContext(e,t)};nt.useDebugValue=function(){};nt.useEffect=function(e,t){return Ci().useEffect(e,t)};nt.useImperativeHandle=function(e,t,r){return Ci().useImperativeHandle(e,t,r)};nt.useLayoutEffect=function(e,t){return Ci().useLayoutEffect(e,t)};nt.useMemo=function(e,t){return Ci().useMemo(e,t)};nt.useReducer=function(e,t,r){return Ci().useReducer(e,t,r)};nt.useRef=function(e){return Ci().useRef(e)};nt.useState=function(e){return Ci().useState(e)};nt.version="17.0.2";It.exports=nt;var xe=It.exports,zw={exports:{}},mn={},Vw={exports:{}},Ww={};/** @license React v0.20.2
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){var t,r,n,i;if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var a=Date,u=a.now();e.unstable_now=function(){return a.now()-u}}if(typeof window=="undefined"||typeof MessageChannel!="function"){var f=null,h=null,d=function(){if(f!==null)try{var V=e.unstable_now();f(!0,V),f=null}catch(re){throw setTimeout(d,0),re}};t=function(V){f!==null?setTimeout(t,0,V):(f=V,setTimeout(d,0))},r=function(V,re){h=setTimeout(V,re)},n=function(){clearTimeout(h)},e.unstable_shouldYield=function(){return!1},i=e.unstable_forceFrameRate=function(){}}else{var p=window.setTimeout,v=window.clearTimeout;if(typeof console!="undefined"){var m=window.cancelAnimationFrame;typeof window.requestAnimationFrame!="function"&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),typeof m!="function"&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var y=!1,E=null,g=-1,x=5,w=0;e.unstable_shouldYield=function(){return e.unstable_now()>=w},i=function(){},e.unstable_forceFrameRate=function(V){0>V||125<V?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):x=0<V?Math.floor(1e3/V):5};var N=new MessageChannel,O=N.port2;N.port1.onmessage=function(){if(E!==null){var V=e.unstable_now();w=V+x;try{E(!0,V)?O.postMessage(null):(y=!1,E=null)}catch(re){throw O.postMessage(null),re}}else y=!1},t=function(V){E=V,y||(y=!0,O.postMessage(null))},r=function(V,re){g=p(function(){V(e.unstable_now())},re)},n=function(){v(g),g=-1}}function R(V,re){var he=V.length;V.push(re);e:for(;;){var Ee=he-1>>>1,Ae=V[Ee];if(Ae!==void 0&&0<z(Ae,re))V[Ee]=re,V[he]=Ae,he=Ee;else break e}}function I(V){return V=V[0],V===void 0?null:V}function B(V){var re=V[0];if(re!==void 0){var he=V.pop();if(he!==re){V[0]=he;e:for(var Ee=0,Ae=V.length;Ee<Ae;){var ke=2*(Ee+1)-1,ot=V[ke],at=ke+1,je=V[at];if(ot!==void 0&&0>z(ot,he))je!==void 0&&0>z(je,ot)?(V[Ee]=je,V[at]=he,Ee=at):(V[Ee]=ot,V[ke]=he,Ee=ke);else if(je!==void 0&&0>z(je,he))V[Ee]=je,V[at]=he,Ee=at;else break e}}return re}return null}function z(V,re){var he=V.sortIndex-re.sortIndex;return he!==0?he:V.id-re.id}var M=[],$=[],de=1,ae=null,pe=3,We=!1,le=!1,fe=!1;function ye(V){for(var re=I($);re!==null;){if(re.callback===null)B($);else if(re.startTime<=V)B($),re.sortIndex=re.expirationTime,R(M,re);else break;re=I($)}}function Oe(V){if(fe=!1,ye(V),!le)if(I(M)!==null)le=!0,t(ht);else{var re=I($);re!==null&&r(Oe,re.startTime-V)}}function ht(V,re){le=!1,fe&&(fe=!1,n()),We=!0;var he=pe;try{for(ye(re),ae=I(M);ae!==null&&(!(ae.expirationTime>re)||V&&!e.unstable_shouldYield());){var Ee=ae.callback;if(typeof Ee=="function"){ae.callback=null,pe=ae.priorityLevel;var Ae=Ee(ae.expirationTime<=re);re=e.unstable_now(),typeof Ae=="function"?ae.callback=Ae:ae===I(M)&&B(M),ye(re)}else B(M);ae=I(M)}if(ae!==null)var ke=!0;else{var ot=I($);ot!==null&&r(Oe,ot.startTime-re),ke=!1}return ke}finally{ae=null,pe=he,We=!1}}var Z=i;e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(V){V.callback=null},e.unstable_continueExecution=function(){le||We||(le=!0,t(ht))},e.unstable_getCurrentPriorityLevel=function(){return pe},e.unstable_getFirstCallbackNode=function(){return I(M)},e.unstable_next=function(V){switch(pe){case 1:case 2:case 3:var re=3;break;default:re=pe}var he=pe;pe=re;try{return V()}finally{pe=he}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=Z,e.unstable_runWithPriority=function(V,re){switch(V){case 1:case 2:case 3:case 4:case 5:break;default:V=3}var he=pe;pe=V;try{return re()}finally{pe=he}},e.unstable_scheduleCallback=function(V,re,he){var Ee=e.unstable_now();switch(typeof he=="object"&&he!==null?(he=he.delay,he=typeof he=="number"&&0<he?Ee+he:Ee):he=Ee,V){case 1:var Ae=-1;break;case 2:Ae=250;break;case 5:Ae=1073741823;break;case 4:Ae=1e4;break;default:Ae=5e3}return Ae=he+Ae,V={id:de++,callback:re,priorityLevel:V,startTime:he,expirationTime:Ae,sortIndex:-1},he>Ee?(V.sortIndex=he,R($,V),I(M)===null&&V===I($)&&(fe?n():fe=!0,r(Oe,he-Ee))):(V.sortIndex=Ae,R(M,V),le||We||(le=!0,t(ht))),V},e.unstable_wrapCallback=function(V){var re=pe;return function(){var he=pe;pe=re;try{return V.apply(this,arguments)}finally{pe=he}}}})(Ww);Vw.exports=Ww;/** @license React v17.0.2
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ec=It.exports,Rt=Fm,rr=Vw.exports;function ne(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!Ec)throw Error(ne(227));var jw=new Set,Vu={};function ra(e,t){ps(e,t),ps(e+"Capture",t)}function ps(e,t){for(Vu[e]=t,e=0;e<t.length;e++)jw.add(t[e])}var Ti=!(typeof window=="undefined"||typeof window.document=="undefined"||typeof window.document.createElement=="undefined"),S3=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,T1=Object.prototype.hasOwnProperty,E1={},w1={};function C3(e){return T1.call(w1,e)?!0:T1.call(E1,e)?!1:S3.test(e)?w1[e]=!0:(E1[e]=!0,!1)}function I3(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function R3(e,t,r,n){if(t===null||typeof t=="undefined"||I3(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Rr(e,t,r,n,i,o,a){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=a}var fr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){fr[e]=new Rr(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];fr[t]=new Rr(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){fr[e]=new Rr(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){fr[e]=new Rr(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){fr[e]=new Rr(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){fr[e]=new Rr(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){fr[e]=new Rr(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){fr[e]=new Rr(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){fr[e]=new Rr(e,5,!1,e.toLowerCase(),null,!1,!1)});var Gm=/[\-:]([a-z])/g;function Hm(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Gm,Hm);fr[t]=new Rr(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Gm,Hm);fr[t]=new Rr(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Gm,Hm);fr[t]=new Rr(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){fr[e]=new Rr(e,1,!1,e.toLowerCase(),null,!1,!1)});fr.xlinkHref=new Rr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){fr[e]=new Rr(e,1,!1,e.toLowerCase(),null,!0,!0)});function Xm(e,t,r,n){var i=fr.hasOwnProperty(t)?fr[t]:null,o=i!==null?i.type===0:n?!1:!(!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N");o||(R3(t,r,i,n)&&(r=null),n||i===null?C3(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):i.mustUseProperty?e[i.propertyName]=r===null?i.type===3?!1:"":r:(t=i.attributeName,n=i.attributeNamespace,r===null?e.removeAttribute(t):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var na=Ec.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Su=60103,Xo=60106,ji=60107,zm=60108,Pu=60114,Vm=60109,Wm=60110,wc=60112,Au=60113,Hh=60120,bc=60115,jm=60116,$m=60121,Ym=60128,$w=60129,qm=60130,Kv=60131;if(typeof Symbol=="function"&&Symbol.for){var er=Symbol.for;Su=er("react.element"),Xo=er("react.portal"),ji=er("react.fragment"),zm=er("react.strict_mode"),Pu=er("react.profiler"),Vm=er("react.provider"),Wm=er("react.context"),wc=er("react.forward_ref"),Au=er("react.suspense"),Hh=er("react.suspense_list"),bc=er("react.memo"),jm=er("react.lazy"),$m=er("react.block"),er("react.scope"),Ym=er("react.opaque.id"),$w=er("react.debug_trace_mode"),qm=er("react.offscreen"),Kv=er("react.legacy_hidden")}var b1=typeof Symbol=="function"&&Symbol.iterator;function nu(e){return e===null||typeof e!="object"?null:(e=b1&&e[b1]||e["@@iterator"],typeof e=="function"?e:null)}var Bp;function Cu(e){if(Bp===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);Bp=t&&t[1]||""}return`
`+Bp+e}var Mp=!1;function kf(e,t){if(!e||Mp)return"";Mp=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(f){var n=f}Reflect.construct(e,[],t)}else{try{t.call()}catch(f){n=f}e.call(t.prototype)}else{try{throw Error()}catch(f){n=f}e()}}catch(f){if(f&&n&&typeof f.stack=="string"){for(var i=f.stack.split(`
`),o=n.stack.split(`
`),a=i.length-1,u=o.length-1;1<=a&&0<=u&&i[a]!==o[u];)u--;for(;1<=a&&0<=u;a--,u--)if(i[a]!==o[u]){if(a!==1||u!==1)do if(a--,u--,0>u||i[a]!==o[u])return`
`+i[a].replace(" at new "," at ");while(1<=a&&0<=u);break}}}finally{Mp=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?Cu(e):""}function N3(e){switch(e.tag){case 5:return Cu(e.type);case 16:return Cu("Lazy");case 13:return Cu("Suspense");case 19:return Cu("SuspenseList");case 0:case 2:case 15:return e=kf(e.type,!1),e;case 11:return e=kf(e.type.render,!1),e;case 22:return e=kf(e.type._render,!1),e;case 1:return e=kf(e.type,!0),e;default:return""}}function es(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case ji:return"Fragment";case Xo:return"Portal";case Pu:return"Profiler";case zm:return"StrictMode";case Au:return"Suspense";case Hh:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Wm:return(e.displayName||"Context")+".Consumer";case Vm:return(e._context.displayName||"Context")+".Provider";case wc:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case bc:return es(e.type);case $m:return es(e._render);case jm:t=e._payload,e=e._init;try{return es(e(t))}catch{}}return null}function so(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function Yw(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function P3(e){var t=Yw(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r!="undefined"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,o=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(a){n=""+a,o.call(this,a)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(a){n=""+a},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Bf(e){e._valueTracker||(e._valueTracker=P3(e))}function qw(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=Yw(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function Xh(e){if(e=e||(typeof document!="undefined"?document:void 0),typeof e=="undefined")return null;try{return e.activeElement||e.body}catch{return e.body}}function Zv(e,t){var r=t.checked;return Rt({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r!=null?r:e._wrapperState.initialChecked})}function S1(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=so(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Kw(e,t){t=t.checked,t!=null&&Xm(e,"checked",t,!1)}function Jv(e,t){Kw(e,t);var r=so(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Qv(e,t.type,r):t.hasOwnProperty("defaultValue")&&Qv(e,t.type,so(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function C1(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function Qv(e,t,r){(t!=="number"||Xh(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}function A3(e){var t="";return Ec.Children.forEach(e,function(r){r!=null&&(t+=r)}),t}function e_(e,t){return e=Rt({children:void 0},t),(t=A3(t.children))&&(e.children=t),e}function ts(e,t,r,n){if(e=e.options,t){t={};for(var i=0;i<r.length;i++)t["$"+r[i]]=!0;for(r=0;r<e.length;r++)i=t.hasOwnProperty("$"+e[r].value),e[r].selected!==i&&(e[r].selected=i),i&&n&&(e[r].defaultSelected=!0)}else{for(r=""+so(r),t=null,i=0;i<e.length;i++){if(e[i].value===r){e[i].selected=!0,n&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function t_(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(ne(91));return Rt({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function I1(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(ne(92));if(Array.isArray(r)){if(!(1>=r.length))throw Error(ne(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:so(r)}}function Zw(e,t){var r=so(t.value),n=so(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function R1(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}var r_={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg"};function Jw(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function n_(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Jw(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Mf,Qw=function(e){return typeof MSApp!="undefined"&&MSApp.execUnsafeLocalFunction?function(t,r,n,i){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,i)})}:e}(function(e,t){if(e.namespaceURI!==r_.svg||"innerHTML"in e)e.innerHTML=t;else{for(Mf=Mf||document.createElement("div"),Mf.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Mf.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Wu(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var Ou={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},O3=["Webkit","ms","Moz","O"];Object.keys(Ou).forEach(function(e){O3.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Ou[t]=Ou[e]})});function eb(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||Ou.hasOwnProperty(e)&&Ou[e]?(""+t).trim():t+"px"}function tb(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=eb(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,i):e[r]=i}}var L3=Rt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function i_(e,t){if(t){if(L3[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(ne(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(ne(60));if(!(typeof t.dangerouslySetInnerHTML=="object"&&"__html"in t.dangerouslySetInnerHTML))throw Error(ne(61))}if(t.style!=null&&typeof t.style!="object")throw Error(ne(62))}}function o_(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function Km(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var a_=null,rs=null,ns=null;function N1(e){if(e=xl(e)){if(typeof a_!="function")throw Error(ne(280));var t=e.stateNode;t&&(t=Pc(t),a_(e.stateNode,e.type,t))}}function rb(e){rs?ns?ns.push(e):ns=[e]:rs=e}function nb(){if(rs){var e=rs,t=ns;if(ns=rs=null,N1(e),t)for(e=0;e<t.length;e++)N1(t[e])}}function Zm(e,t){return e(t)}function ib(e,t,r,n,i){return e(t,r,n,i)}function Jm(){}var ob=Zm,zo=!1,Dp=!1;function Qm(){(rs!==null||ns!==null)&&(Jm(),nb())}function F3(e,t,r){if(Dp)return e(t,r);Dp=!0;try{return ob(e,t,r)}finally{Dp=!1,Qm()}}function ju(e,t){var r=e.stateNode;if(r===null)return null;var n=Pc(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(ne(231,t,typeof r));return r}var s_=!1;if(Ti)try{var iu={};Object.defineProperty(iu,"passive",{get:function(){s_=!0}}),window.addEventListener("test",iu,iu),window.removeEventListener("test",iu,iu)}catch{s_=!1}function U3(e,t,r,n,i,o,a,u,f){var h=Array.prototype.slice.call(arguments,3);try{t.apply(r,h)}catch(d){this.onError(d)}}var Lu=!1,zh=null,Vh=!1,u_=null,k3={onError:function(e){Lu=!0,zh=e}};function B3(e,t,r,n,i,o,a,u,f){Lu=!1,zh=null,U3.apply(k3,arguments)}function M3(e,t,r,n,i,o,a,u,f){if(B3.apply(this,arguments),Lu){if(Lu){var h=zh;Lu=!1,zh=null}else throw Error(ne(198));Vh||(Vh=!0,u_=h)}}function ia(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&1026)!==0&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function ab(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function P1(e){if(ia(e)!==e)throw Error(ne(188))}function D3(e){var t=e.alternate;if(!t){if(t=ia(e),t===null)throw Error(ne(188));return t!==e?null:e}for(var r=e,n=t;;){var i=r.return;if(i===null)break;var o=i.alternate;if(o===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===r)return P1(i),e;if(o===n)return P1(i),t;o=o.sibling}throw Error(ne(188))}if(r.return!==n.return)r=i,n=o;else{for(var a=!1,u=i.child;u;){if(u===r){a=!0,r=i,n=o;break}if(u===n){a=!0,n=i,r=o;break}u=u.sibling}if(!a){for(u=o.child;u;){if(u===r){a=!0,r=o,n=i;break}if(u===n){a=!0,n=o,r=i;break}u=u.sibling}if(!a)throw Error(ne(189))}}if(r.alternate!==n)throw Error(ne(190))}if(r.tag!==3)throw Error(ne(188));return r.stateNode.current===r?e:t}function sb(e){if(e=D3(e),!e)return null;for(var t=e;;){if(t.tag===5||t.tag===6)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function A1(e,t){for(var r=e.alternate;t!==null;){if(t===e||t===r)return!0;t=t.return}return!1}var ub,eg,lb,fb,l_=!1,Hn=[],Ji=null,Qi=null,eo=null,$u=new Map,Yu=new Map,ou=[],O1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function f_(e,t,r,n,i){return{blockedOn:e,domEventName:t,eventSystemFlags:r|16,nativeEvent:i,targetContainers:[n]}}function L1(e,t){switch(e){case"focusin":case"focusout":Ji=null;break;case"dragenter":case"dragleave":Qi=null;break;case"mouseover":case"mouseout":eo=null;break;case"pointerover":case"pointerout":$u.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Yu.delete(t.pointerId)}}function au(e,t,r,n,i,o){return e===null||e.nativeEvent!==o?(e=f_(t,r,n,i,o),t!==null&&(t=xl(t),t!==null&&eg(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function G3(e,t,r,n,i){switch(t){case"focusin":return Ji=au(Ji,e,t,r,n,i),!0;case"dragenter":return Qi=au(Qi,e,t,r,n,i),!0;case"mouseover":return eo=au(eo,e,t,r,n,i),!0;case"pointerover":var o=i.pointerId;return $u.set(o,au($u.get(o)||null,e,t,r,n,i)),!0;case"gotpointercapture":return o=i.pointerId,Yu.set(o,au(Yu.get(o)||null,e,t,r,n,i)),!0}return!1}function H3(e){var t=Vo(e.target);if(t!==null){var r=ia(t);if(r!==null){if(t=r.tag,t===13){if(t=ab(r),t!==null){e.blockedOn=t,fb(e.lanePriority,function(){rr.unstable_runWithPriority(e.priority,function(){lb(r)})});return}}else if(t===3&&r.stateNode.hydrate){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function wh(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=ig(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r!==null)return t=xl(r),t!==null&&eg(t),e.blockedOn=r,!1;t.shift()}return!0}function F1(e,t,r){wh(e)&&r.delete(t)}function X3(){for(l_=!1;0<Hn.length;){var e=Hn[0];if(e.blockedOn!==null){e=xl(e.blockedOn),e!==null&&ub(e);break}for(var t=e.targetContainers;0<t.length;){var r=ig(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r!==null){e.blockedOn=r;break}t.shift()}e.blockedOn===null&&Hn.shift()}Ji!==null&&wh(Ji)&&(Ji=null),Qi!==null&&wh(Qi)&&(Qi=null),eo!==null&&wh(eo)&&(eo=null),$u.forEach(F1),Yu.forEach(F1)}function su(e,t){e.blockedOn===t&&(e.blockedOn=null,l_||(l_=!0,rr.unstable_scheduleCallback(rr.unstable_NormalPriority,X3)))}function hb(e){function t(i){return su(i,e)}if(0<Hn.length){su(Hn[0],e);for(var r=1;r<Hn.length;r++){var n=Hn[r];n.blockedOn===e&&(n.blockedOn=null)}}for(Ji!==null&&su(Ji,e),Qi!==null&&su(Qi,e),eo!==null&&su(eo,e),$u.forEach(t),Yu.forEach(t),r=0;r<ou.length;r++)n=ou[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<ou.length&&(r=ou[0],r.blockedOn===null);)H3(r),r.blockedOn===null&&ou.shift()}function Df(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var za={animationend:Df("Animation","AnimationEnd"),animationiteration:Df("Animation","AnimationIteration"),animationstart:Df("Animation","AnimationStart"),transitionend:Df("Transition","TransitionEnd")},Gp={},cb={};Ti&&(cb=document.createElement("div").style,"AnimationEvent"in window||(delete za.animationend.animation,delete za.animationiteration.animation,delete za.animationstart.animation),"TransitionEvent"in window||delete za.transitionend.transition);function Sc(e){if(Gp[e])return Gp[e];if(!za[e])return e;var t=za[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in cb)return Gp[e]=t[r];return e}var db=Sc("animationend"),pb=Sc("animationiteration"),vb=Sc("animationstart"),_b=Sc("transitionend"),mb=new Map,tg=new Map,z3=["abort","abort",db,"animationEnd",pb,"animationIteration",vb,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",_b,"transitionEnd","waiting","waiting"];function rg(e,t){for(var r=0;r<e.length;r+=2){var n=e[r],i=e[r+1];i="on"+(i[0].toUpperCase()+i.slice(1)),tg.set(n,t),mb.set(n,i),ra(i,[n])}}var V3=rr.unstable_now;V3();var mt=8;function Ga(e){if((1&e)!==0)return mt=15,1;if((2&e)!==0)return mt=14,2;if((4&e)!==0)return mt=13,4;var t=24&e;return t!==0?(mt=12,t):(e&32)!==0?(mt=11,32):(t=192&e,t!==0?(mt=10,t):(e&256)!==0?(mt=9,256):(t=3584&e,t!==0?(mt=8,t):(e&4096)!==0?(mt=7,4096):(t=4186112&e,t!==0?(mt=6,t):(t=62914560&e,t!==0?(mt=5,t):e&67108864?(mt=4,67108864):(e&134217728)!==0?(mt=3,134217728):(t=805306368&e,t!==0?(mt=2,t):(1073741824&e)!==0?(mt=1,1073741824):(mt=8,e))))))}function W3(e){switch(e){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}function j3(e){switch(e){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(ne(358,e))}}function qu(e,t){var r=e.pendingLanes;if(r===0)return mt=0;var n=0,i=0,o=e.expiredLanes,a=e.suspendedLanes,u=e.pingedLanes;if(o!==0)n=o,i=mt=15;else if(o=r&134217727,o!==0){var f=o&~a;f!==0?(n=Ga(f),i=mt):(u&=o,u!==0&&(n=Ga(u),i=mt))}else o=r&~a,o!==0?(n=Ga(o),i=mt):u!==0&&(n=Ga(u),i=mt);if(n===0)return 0;if(n=31-uo(n),n=r&((0>n?0:1<<n)<<1)-1,t!==0&&t!==n&&(t&a)===0){if(Ga(t),i<=mt)return t;mt=i}if(t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-uo(t),i=1<<r,n|=e[r],t&=~i;return n}function gb(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Wh(e,t){switch(e){case 15:return 1;case 14:return 2;case 12:return e=Ha(24&~t),e===0?Wh(10,t):e;case 10:return e=Ha(192&~t),e===0?Wh(8,t):e;case 8:return e=Ha(3584&~t),e===0&&(e=Ha(4186112&~t),e===0&&(e=512)),e;case 2:return t=Ha(805306368&~t),t===0&&(t=268435456),t}throw Error(ne(358,e))}function Ha(e){return e&-e}function Hp(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Cc(e,t,r){e.pendingLanes|=t;var n=t-1;e.suspendedLanes&=n,e.pingedLanes&=n,e=e.eventTimes,t=31-uo(t),e[t]=r}var uo=Math.clz32?Math.clz32:q3,$3=Math.log,Y3=Math.LN2;function q3(e){return e===0?32:31-($3(e)/Y3|0)|0}var K3=rr.unstable_UserBlockingPriority,Z3=rr.unstable_runWithPriority,bh=!0;function J3(e,t,r,n){zo||Jm();var i=ng,o=zo;zo=!0;try{ib(i,e,t,r,n)}finally{(zo=o)||Qm()}}function Q3(e,t,r,n){Z3(K3,ng.bind(null,e,t,r,n))}function ng(e,t,r,n){if(bh){var i;if((i=(t&4)===0)&&0<Hn.length&&-1<O1.indexOf(e))e=f_(null,e,t,r,n),Hn.push(e);else{var o=ig(e,t,r,n);if(o===null)i&&L1(e,n);else{if(i){if(-1<O1.indexOf(e)){e=f_(o,e,t,r,n),Hn.push(e);return}if(G3(o,e,t,r,n))return;L1(e,n)}Ab(e,t,n,null,r)}}}}function ig(e,t,r,n){var i=Km(n);if(i=Vo(i),i!==null){var o=ia(i);if(o===null)i=null;else{var a=o.tag;if(a===13){if(i=ab(o),i!==null)return i;i=null}else if(a===3){if(o.stateNode.hydrate)return o.tag===3?o.stateNode.containerInfo:null;i=null}else o!==i&&(i=null)}}return Ab(e,t,n,i,r),null}var $i=null,og=null,Sh=null;function yb(){if(Sh)return Sh;var e,t=og,r=t.length,n,i="value"in $i?$i.value:$i.textContent,o=i.length;for(e=0;e<r&&t[e]===i[e];e++);var a=r-e;for(n=1;n<=a&&t[r-n]===i[o-n];n++);return Sh=i.slice(e,1<n?1-n:void 0)}function Ch(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Gf(){return!0}function U1(){return!1}function Jr(e){function t(r,n,i,o,a){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=o,this.target=a,this.currentTarget=null;for(var u in e)e.hasOwnProperty(u)&&(r=e[u],this[u]=r?r(o):o[u]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Gf:U1,this.isPropagationStopped=U1,this}return Rt(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Gf)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Gf)},persist:function(){},isPersistent:Gf}),t}var Is={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ag=Jr(Is),yl=Rt({},Is,{view:0,detail:0}),eL=Jr(yl),Xp,zp,uu,Ic=Rt({},yl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:sg,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==uu&&(uu&&e.type==="mousemove"?(Xp=e.screenX-uu.screenX,zp=e.screenY-uu.screenY):zp=Xp=0,uu=e),Xp)},movementY:function(e){return"movementY"in e?e.movementY:zp}}),k1=Jr(Ic),tL=Rt({},Ic,{dataTransfer:0}),rL=Jr(tL),nL=Rt({},yl,{relatedTarget:0}),Vp=Jr(nL),iL=Rt({},Is,{animationName:0,elapsedTime:0,pseudoElement:0}),oL=Jr(iL),aL=Rt({},Is,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),sL=Jr(aL),uL=Rt({},Is,{data:0}),B1=Jr(uL),lL={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},fL={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},hL={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function cL(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=hL[e])?!!t[e]:!1}function sg(){return cL}var dL=Rt({},yl,{key:function(e){if(e.key){var t=lL[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Ch(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?fL[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:sg,charCode:function(e){return e.type==="keypress"?Ch(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ch(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),pL=Jr(dL),vL=Rt({},Ic,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),M1=Jr(vL),_L=Rt({},yl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:sg}),mL=Jr(_L),gL=Rt({},Is,{propertyName:0,elapsedTime:0,pseudoElement:0}),yL=Jr(gL),xL=Rt({},Ic,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),TL=Jr(xL),EL=[9,13,27,32],ug=Ti&&"CompositionEvent"in window,Fu=null;Ti&&"documentMode"in document&&(Fu=document.documentMode);var wL=Ti&&"TextEvent"in window&&!Fu,xb=Ti&&(!ug||Fu&&8<Fu&&11>=Fu),D1=String.fromCharCode(32),G1=!1;function Tb(e,t){switch(e){case"keyup":return EL.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Eb(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Va=!1;function bL(e,t){switch(e){case"compositionend":return Eb(t);case"keypress":return t.which!==32?null:(G1=!0,D1);case"textInput":return e=t.data,e===D1&&G1?null:e;default:return null}}function SL(e,t){if(Va)return e==="compositionend"||!ug&&Tb(e,t)?(e=yb(),Sh=og=$i=null,Va=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return xb&&t.locale!=="ko"?null:t.data;default:return null}}var CL={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function H1(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!CL[e.type]:t==="textarea"}function wb(e,t,r,n){rb(n),t=jh(t,"onChange"),0<t.length&&(r=new ag("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var Uu=null,Ku=null;function IL(e){Rb(e,0)}function Rc(e){var t=ja(e);if(qw(t))return e}function RL(e,t){if(e==="change")return t}var bb=!1;if(Ti){var Wp;if(Ti){var jp="oninput"in document;if(!jp){var X1=document.createElement("div");X1.setAttribute("oninput","return;"),jp=typeof X1.oninput=="function"}Wp=jp}else Wp=!1;bb=Wp&&(!document.documentMode||9<document.documentMode)}function z1(){Uu&&(Uu.detachEvent("onpropertychange",Sb),Ku=Uu=null)}function Sb(e){if(e.propertyName==="value"&&Rc(Ku)){var t=[];if(wb(t,Ku,e,Km(e)),e=IL,zo)e(t);else{zo=!0;try{Zm(e,t)}finally{zo=!1,Qm()}}}}function NL(e,t,r){e==="focusin"?(z1(),Uu=t,Ku=r,Uu.attachEvent("onpropertychange",Sb)):e==="focusout"&&z1()}function PL(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Rc(Ku)}function AL(e,t){if(e==="click")return Rc(t)}function OL(e,t){if(e==="input"||e==="change")return Rc(t)}function LL(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var hn=typeof Object.is=="function"?Object.is:LL,FL=Object.prototype.hasOwnProperty;function Zu(e,t){if(hn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++)if(!FL.call(t,r[n])||!hn(e[r[n]],t[r[n]]))return!1;return!0}function V1(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function W1(e,t){var r=V1(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=V1(r)}}function Cb(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Cb(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function j1(){for(var e=window,t=Xh();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=Xh(e.document)}return t}function h_(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var UL=Ti&&"documentMode"in document&&11>=document.documentMode,Wa=null,c_=null,ku=null,d_=!1;function $1(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;d_||Wa==null||Wa!==Xh(n)||(n=Wa,"selectionStart"in n&&h_(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),ku&&Zu(ku,n)||(ku=n,n=jh(c_,"onSelect"),0<n.length&&(t=new ag("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=Wa)))}rg("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0);rg("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1);rg(z3,2);for(var Y1="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),$p=0;$p<Y1.length;$p++)tg.set(Y1[$p],0);ps("onMouseEnter",["mouseout","mouseover"]);ps("onMouseLeave",["mouseout","mouseover"]);ps("onPointerEnter",["pointerout","pointerover"]);ps("onPointerLeave",["pointerout","pointerover"]);ra("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ra("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ra("onBeforeInput",["compositionend","keypress","textInput","paste"]);ra("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ra("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ra("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Iu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ib=new Set("cancel close invalid load scroll toggle".split(" ").concat(Iu));function q1(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,M3(n,t,void 0,e),e.currentTarget=null}function Rb(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],i=n.event;n=n.listeners;e:{var o=void 0;if(t)for(var a=n.length-1;0<=a;a--){var u=n[a],f=u.instance,h=u.currentTarget;if(u=u.listener,f!==o&&i.isPropagationStopped())break e;q1(i,u,h),o=f}else for(a=0;a<n.length;a++){if(u=n[a],f=u.instance,h=u.currentTarget,u=u.listener,f!==o&&i.isPropagationStopped())break e;q1(i,u,h),o=f}}}if(Vh)throw e=u_,Vh=!1,u_=null,e}function Tt(e,t){var r=Lb(t),n=e+"__bubble";r.has(n)||(Pb(t,e,2,!1),r.add(n))}var K1="_reactListening"+Math.random().toString(36).slice(2);function Nb(e){e[K1]||(e[K1]=!0,jw.forEach(function(t){Ib.has(t)||Z1(t,!1,e,null),Z1(t,!0,e,null)}))}function Z1(e,t,r,n){var i=4<arguments.length&&arguments[4]!==void 0?arguments[4]:0,o=r;if(e==="selectionchange"&&r.nodeType!==9&&(o=r.ownerDocument),n!==null&&!t&&Ib.has(e)){if(e!=="scroll")return;i|=2,o=n}var a=Lb(o),u=e+"__"+(t?"capture":"bubble");a.has(u)||(t&&(i|=4),Pb(o,e,i,t),a.add(u))}function Pb(e,t,r,n){var i=tg.get(t);switch(i===void 0?2:i){case 0:i=J3;break;case 1:i=Q3;break;default:i=ng}r=i.bind(null,t,r,e),i=void 0,!s_||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),n?i!==void 0?e.addEventListener(t,r,{capture:!0,passive:i}):e.addEventListener(t,r,!0):i!==void 0?e.addEventListener(t,r,{passive:i}):e.addEventListener(t,r,!1)}function Ab(e,t,r,n,i){var o=n;if((t&1)===0&&(t&2)===0&&n!==null)e:for(;;){if(n===null)return;var a=n.tag;if(a===3||a===4){var u=n.stateNode.containerInfo;if(u===i||u.nodeType===8&&u.parentNode===i)break;if(a===4)for(a=n.return;a!==null;){var f=a.tag;if((f===3||f===4)&&(f=a.stateNode.containerInfo,f===i||f.nodeType===8&&f.parentNode===i))return;a=a.return}for(;u!==null;){if(a=Vo(u),a===null)return;if(f=a.tag,f===5||f===6){n=o=a;continue e}u=u.parentNode}}n=n.return}F3(function(){var h=o,d=Km(r),p=[];e:{var v=mb.get(e);if(v!==void 0){var m=ag,y=e;switch(e){case"keypress":if(Ch(r)===0)break e;case"keydown":case"keyup":m=pL;break;case"focusin":y="focus",m=Vp;break;case"focusout":y="blur",m=Vp;break;case"beforeblur":case"afterblur":m=Vp;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=k1;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=rL;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=mL;break;case db:case pb:case vb:m=oL;break;case _b:m=yL;break;case"scroll":m=eL;break;case"wheel":m=TL;break;case"copy":case"cut":case"paste":m=sL;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=M1}var E=(t&4)!==0,g=!E&&e==="scroll",x=E?v!==null?v+"Capture":null:v;E=[];for(var w=h,N;w!==null;){N=w;var O=N.stateNode;if(N.tag===5&&O!==null&&(N=O,x!==null&&(O=ju(w,x),O!=null&&E.push(Ju(w,O,N)))),g)break;w=w.return}0<E.length&&(v=new m(v,y,null,r,d),p.push({event:v,listeners:E}))}}if((t&7)===0){e:{if(v=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",v&&(t&16)===0&&(y=r.relatedTarget||r.fromElement)&&(Vo(y)||y[Rs]))break e;if((m||v)&&(v=d.window===d?d:(v=d.ownerDocument)?v.defaultView||v.parentWindow:window,m?(y=r.relatedTarget||r.toElement,m=h,y=y?Vo(y):null,y!==null&&(g=ia(y),y!==g||y.tag!==5&&y.tag!==6)&&(y=null)):(m=null,y=h),m!==y)){if(E=k1,O="onMouseLeave",x="onMouseEnter",w="mouse",(e==="pointerout"||e==="pointerover")&&(E=M1,O="onPointerLeave",x="onPointerEnter",w="pointer"),g=m==null?v:ja(m),N=y==null?v:ja(y),v=new E(O,w+"leave",m,r,d),v.target=g,v.relatedTarget=N,O=null,Vo(d)===h&&(E=new E(x,w+"enter",y,r,d),E.target=N,E.relatedTarget=g,O=E),g=O,m&&y)t:{for(E=m,x=y,w=0,N=E;N;N=Aa(N))w++;for(N=0,O=x;O;O=Aa(O))N++;for(;0<w-N;)E=Aa(E),w--;for(;0<N-w;)x=Aa(x),N--;for(;w--;){if(E===x||x!==null&&E===x.alternate)break t;E=Aa(E),x=Aa(x)}E=null}else E=null;m!==null&&J1(p,v,m,E,!1),y!==null&&g!==null&&J1(p,g,y,E,!0)}}e:{if(v=h?ja(h):window,m=v.nodeName&&v.nodeName.toLowerCase(),m==="select"||m==="input"&&v.type==="file")var R=RL;else if(H1(v))if(bb)R=OL;else{R=PL;var I=NL}else(m=v.nodeName)&&m.toLowerCase()==="input"&&(v.type==="checkbox"||v.type==="radio")&&(R=AL);if(R&&(R=R(e,h))){wb(p,R,r,d);break e}I&&I(e,v,h),e==="focusout"&&(I=v._wrapperState)&&I.controlled&&v.type==="number"&&Qv(v,"number",v.value)}switch(I=h?ja(h):window,e){case"focusin":(H1(I)||I.contentEditable==="true")&&(Wa=I,c_=h,ku=null);break;case"focusout":ku=c_=Wa=null;break;case"mousedown":d_=!0;break;case"contextmenu":case"mouseup":case"dragend":d_=!1,$1(p,r,d);break;case"selectionchange":if(UL)break;case"keydown":case"keyup":$1(p,r,d)}var B;if(ug)e:{switch(e){case"compositionstart":var z="onCompositionStart";break e;case"compositionend":z="onCompositionEnd";break e;case"compositionupdate":z="onCompositionUpdate";break e}z=void 0}else Va?Tb(e,r)&&(z="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(z="onCompositionStart");z&&(xb&&r.locale!=="ko"&&(Va||z!=="onCompositionStart"?z==="onCompositionEnd"&&Va&&(B=yb()):($i=d,og="value"in $i?$i.value:$i.textContent,Va=!0)),I=jh(h,z),0<I.length&&(z=new B1(z,e,null,r,d),p.push({event:z,listeners:I}),B?z.data=B:(B=Eb(r),B!==null&&(z.data=B)))),(B=wL?bL(e,r):SL(e,r))&&(h=jh(h,"onBeforeInput"),0<h.length&&(d=new B1("onBeforeInput","beforeinput",null,r,d),p.push({event:d,listeners:h}),d.data=B))}Rb(p,t)})}function Ju(e,t,r){return{instance:e,listener:t,currentTarget:r}}function jh(e,t){for(var r=t+"Capture",n=[];e!==null;){var i=e,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=ju(e,r),o!=null&&n.unshift(Ju(e,o,i)),o=ju(e,t),o!=null&&n.push(Ju(e,o,i))),e=e.return}return n}function Aa(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function J1(e,t,r,n,i){for(var o=t._reactName,a=[];r!==null&&r!==n;){var u=r,f=u.alternate,h=u.stateNode;if(f!==null&&f===n)break;u.tag===5&&h!==null&&(u=h,i?(f=ju(r,o),f!=null&&a.unshift(Ju(r,f,u))):i||(f=ju(r,o),f!=null&&a.push(Ju(r,f,u)))),r=r.return}a.length!==0&&e.push({event:t,listeners:a})}function $h(){}var Yp=null,qp=null;function Ob(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function p_(e,t){return e==="textarea"||e==="option"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Q1=typeof setTimeout=="function"?setTimeout:void 0,kL=typeof clearTimeout=="function"?clearTimeout:void 0;function lg(e){e.nodeType===1?e.textContent="":e.nodeType===9&&(e=e.body,e!=null&&(e.textContent=""))}function is(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break}return e}function ex(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var Kp=0;function BL(e){return{$$typeof:Ym,toString:e,valueOf:e}}var Nc=Math.random().toString(36).slice(2),Yi="__reactFiber$"+Nc,Yh="__reactProps$"+Nc,Rs="__reactContainer$"+Nc,tx="__reactEvents$"+Nc;function Vo(e){var t=e[Yi];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Rs]||r[Yi]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=ex(e);e!==null;){if(r=e[Yi])return r;e=ex(e)}return t}e=r,r=e.parentNode}return null}function xl(e){return e=e[Yi]||e[Rs],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function ja(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(ne(33))}function Pc(e){return e[Yh]||null}function Lb(e){var t=e[tx];return t===void 0&&(t=e[tx]=new Set),t}var v_=[],$a=-1;function po(e){return{current:e}}function Et(e){0>$a||(e.current=v_[$a],v_[$a]=null,$a--)}function kt(e,t){$a++,v_[$a]=e.current,e.current=t}var lo={},yr=po(lo),Br=po(!1),Ko=lo;function vs(e,t){var r=e.type.contextTypes;if(!r)return lo;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in r)i[o]=t[o];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Mr(e){return e=e.childContextTypes,e!=null}function qh(){Et(Br),Et(yr)}function rx(e,t,r){if(yr.current!==lo)throw Error(ne(168));kt(yr,t),kt(Br,r)}function Fb(e,t,r){var n=e.stateNode;if(e=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in e))throw Error(ne(108,es(t)||"Unknown",i));return Rt({},r,n)}function Ih(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||lo,Ko=yr.current,kt(yr,e),kt(Br,Br.current),!0}function nx(e,t,r){var n=e.stateNode;if(!n)throw Error(ne(169));r?(e=Fb(e,t,Ko),n.__reactInternalMemoizedMergedChildContext=e,Et(Br),Et(yr),kt(yr,e)):Et(Br),kt(Br,r)}var fg=null,$o=null,ML=rr.unstable_runWithPriority,hg=rr.unstable_scheduleCallback,__=rr.unstable_cancelCallback,DL=rr.unstable_shouldYield,ix=rr.unstable_requestPaint,m_=rr.unstable_now,GL=rr.unstable_getCurrentPriorityLevel,Ac=rr.unstable_ImmediatePriority,Ub=rr.unstable_UserBlockingPriority,kb=rr.unstable_NormalPriority,Bb=rr.unstable_LowPriority,Mb=rr.unstable_IdlePriority,Zp={},HL=ix!==void 0?ix:function(){},ci=null,Rh=null,Jp=!1,ox=m_(),mr=1e4>ox?m_:function(){return m_()-ox};function _s(){switch(GL()){case Ac:return 99;case Ub:return 98;case kb:return 97;case Bb:return 96;case Mb:return 95;default:throw Error(ne(332))}}function Db(e){switch(e){case 99:return Ac;case 98:return Ub;case 97:return kb;case 96:return Bb;case 95:return Mb;default:throw Error(ne(332))}}function Zo(e,t){return e=Db(e),ML(e,t)}function Qu(e,t,r){return e=Db(e),hg(e,t,r)}function Kn(){if(Rh!==null){var e=Rh;Rh=null,__(e)}Gb()}function Gb(){if(!Jp&&ci!==null){Jp=!0;var e=0;try{var t=ci;Zo(99,function(){for(;e<t.length;e++){var r=t[e];do r=r(!0);while(r!==null)}}),ci=null}catch(r){throw ci!==null&&(ci=ci.slice(e+1)),hg(Ac,Kn),r}finally{Jp=!1}}}var XL=na.ReactCurrentBatchConfig;function Rn(e,t){if(e&&e.defaultProps){t=Rt({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}var Kh=po(null),Zh=null,Ya=null,Jh=null;function cg(){Jh=Ya=Zh=null}function dg(e){var t=Kh.current;Et(Kh),e.type._context._currentValue=t}function Hb(e,t){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)===t){if(r===null||(r.childLanes&t)===t)break;r.childLanes|=t}else e.childLanes|=t,r!==null&&(r.childLanes|=t);e=e.return}}function os(e,t){Zh=e,Jh=Ya=null,e=e.dependencies,e!==null&&e.firstContext!==null&&((e.lanes&t)!==0&&(Nn=!0),e.firstContext=null)}function pn(e,t){if(Jh!==e&&t!==!1&&t!==0)if((typeof t!="number"||t===1073741823)&&(Jh=e,t=1073741823),t={context:e,observedBits:t,next:null},Ya===null){if(Zh===null)throw Error(ne(308));Ya=t,Zh.dependencies={lanes:0,firstContext:t,responders:null}}else Ya=Ya.next=t;return e._currentValue}var Vi=!1;function pg(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function Xb(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function to(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function ro(e,t){if(e=e.updateQueue,e!==null){e=e.shared;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}}function ax(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,o=null;if(r=r.firstBaseUpdate,r!==null){do{var a={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};o===null?i=o=a:o=o.next=a,r=r.next}while(r!==null);o===null?i=o=t:o=o.next=t}else i=o=t;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function el(e,t,r,n){var i=e.updateQueue;Vi=!1;var o=i.firstBaseUpdate,a=i.lastBaseUpdate,u=i.shared.pending;if(u!==null){i.shared.pending=null;var f=u,h=f.next;f.next=null,a===null?o=h:a.next=h,a=f;var d=e.alternate;if(d!==null){d=d.updateQueue;var p=d.lastBaseUpdate;p!==a&&(p===null?d.firstBaseUpdate=h:p.next=h,d.lastBaseUpdate=f)}}if(o!==null){p=i.baseState,a=0,d=h=f=null;do{u=o.lane;var v=o.eventTime;if((n&u)===u){d!==null&&(d=d.next={eventTime:v,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var m=e,y=o;switch(u=t,v=r,y.tag){case 1:if(m=y.payload,typeof m=="function"){p=m.call(v,p,u);break e}p=m;break e;case 3:m.flags=m.flags&-4097|64;case 0:if(m=y.payload,u=typeof m=="function"?m.call(v,p,u):m,u==null)break e;p=Rt({},p,u);break e;case 2:Vi=!0}}o.callback!==null&&(e.flags|=32,u=i.effects,u===null?i.effects=[o]:u.push(o))}else v={eventTime:v,lane:u,tag:o.tag,payload:o.payload,callback:o.callback,next:null},d===null?(h=d=v,f=p):d=d.next=v,a|=u;if(o=o.next,o===null){if(u=i.shared.pending,u===null)break;o=u.next,u.next=null,i.lastBaseUpdate=u,i.shared.pending=null}}while(1);d===null&&(f=p),i.baseState=f,i.firstBaseUpdate=h,i.lastBaseUpdate=d,El|=a,e.lanes=a,e.memoizedState=p}}function sx(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(ne(191,i));i.call(n)}}}var zb=new Ec.Component().refs;function Qh(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:Rt({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Oc={isMounted:function(e){return(e=e._reactInternals)?ia(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=Zr(),i=no(e),o=to(n,i);o.payload=t,r!=null&&(o.callback=r),ro(e,o),io(e,i,n)},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=Zr(),i=no(e),o=to(n,i);o.tag=1,o.payload=t,r!=null&&(o.callback=r),ro(e,o),io(e,i,n)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Zr(),n=no(e),i=to(r,n);i.tag=2,t!=null&&(i.callback=t),ro(e,i),io(e,n,r)}};function ux(e,t,r,n,i,o,a){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,o,a):t.prototype&&t.prototype.isPureReactComponent?!Zu(r,n)||!Zu(i,o):!0}function Vb(e,t,r){var n=!1,i=lo,o=t.contextType;return typeof o=="object"&&o!==null?o=pn(o):(i=Mr(t)?Ko:yr.current,n=t.contextTypes,o=(n=n!=null)?vs(e,i):lo),t=new t(r,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Oc,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function lx(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&Oc.enqueueReplaceState(t,t.state,null)}function g_(e,t,r,n){var i=e.stateNode;i.props=r,i.state=e.memoizedState,i.refs=zb,pg(e);var o=t.contextType;typeof o=="object"&&o!==null?i.context=pn(o):(o=Mr(t)?Ko:yr.current,i.context=vs(e,o)),el(e,r,i,n),i.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(Qh(e,t,o,r),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&Oc.enqueueReplaceState(i,i.state,null),el(e,r,i,n),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4)}var Hf=Array.isArray;function lu(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(ne(309));var n=r.stateNode}if(!n)throw Error(ne(147,e));var i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var a=n.refs;a===zb&&(a=n.refs={}),o===null?delete a[i]:a[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(ne(284));if(!r._owner)throw Error(ne(290,e))}return e}function Xf(e,t){if(e.type!=="textarea")throw Error(ne(31,Object.prototype.toString.call(t)==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":t))}function Wb(e){function t(g,x){if(e){var w=g.lastEffect;w!==null?(w.nextEffect=x,g.lastEffect=x):g.firstEffect=g.lastEffect=x,x.nextEffect=null,x.flags=8}}function r(g,x){if(!e)return null;for(;x!==null;)t(g,x),x=x.sibling;return null}function n(g,x){for(g=new Map;x!==null;)x.key!==null?g.set(x.key,x):g.set(x.index,x),x=x.sibling;return g}function i(g,x){return g=ho(g,x),g.index=0,g.sibling=null,g}function o(g,x,w){return g.index=w,e?(w=g.alternate,w!==null?(w=w.index,w<x?(g.flags=2,x):w):(g.flags=2,x)):x}function a(g){return e&&g.alternate===null&&(g.flags=2),g}function u(g,x,w,N){return x===null||x.tag!==6?(x=nv(w,g.mode,N),x.return=g,x):(x=i(x,w),x.return=g,x)}function f(g,x,w,N){return x!==null&&x.elementType===w.type?(N=i(x,w.props),N.ref=lu(g,x,w),N.return=g,N):(N=Oh(w.type,w.key,w.props,null,g.mode,N),N.ref=lu(g,x,w),N.return=g,N)}function h(g,x,w,N){return x===null||x.tag!==4||x.stateNode.containerInfo!==w.containerInfo||x.stateNode.implementation!==w.implementation?(x=iv(w,g.mode,N),x.return=g,x):(x=i(x,w.children||[]),x.return=g,x)}function d(g,x,w,N,O){return x===null||x.tag!==7?(x=ls(w,g.mode,N,O),x.return=g,x):(x=i(x,w),x.return=g,x)}function p(g,x,w){if(typeof x=="string"||typeof x=="number")return x=nv(""+x,g.mode,w),x.return=g,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Su:return w=Oh(x.type,x.key,x.props,null,g.mode,w),w.ref=lu(g,null,x),w.return=g,w;case Xo:return x=iv(x,g.mode,w),x.return=g,x}if(Hf(x)||nu(x))return x=ls(x,g.mode,w,null),x.return=g,x;Xf(g,x)}return null}function v(g,x,w,N){var O=x!==null?x.key:null;if(typeof w=="string"||typeof w=="number")return O!==null?null:u(g,x,""+w,N);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Su:return w.key===O?w.type===ji?d(g,x,w.props.children,N,O):f(g,x,w,N):null;case Xo:return w.key===O?h(g,x,w,N):null}if(Hf(w)||nu(w))return O!==null?null:d(g,x,w,N,null);Xf(g,w)}return null}function m(g,x,w,N,O){if(typeof N=="string"||typeof N=="number")return g=g.get(w)||null,u(x,g,""+N,O);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case Su:return g=g.get(N.key===null?w:N.key)||null,N.type===ji?d(x,g,N.props.children,O,N.key):f(x,g,N,O);case Xo:return g=g.get(N.key===null?w:N.key)||null,h(x,g,N,O)}if(Hf(N)||nu(N))return g=g.get(w)||null,d(x,g,N,O,null);Xf(x,N)}return null}function y(g,x,w,N){for(var O=null,R=null,I=x,B=x=0,z=null;I!==null&&B<w.length;B++){I.index>B?(z=I,I=null):z=I.sibling;var M=v(g,I,w[B],N);if(M===null){I===null&&(I=z);break}e&&I&&M.alternate===null&&t(g,I),x=o(M,x,B),R===null?O=M:R.sibling=M,R=M,I=z}if(B===w.length)return r(g,I),O;if(I===null){for(;B<w.length;B++)I=p(g,w[B],N),I!==null&&(x=o(I,x,B),R===null?O=I:R.sibling=I,R=I);return O}for(I=n(g,I);B<w.length;B++)z=m(I,g,B,w[B],N),z!==null&&(e&&z.alternate!==null&&I.delete(z.key===null?B:z.key),x=o(z,x,B),R===null?O=z:R.sibling=z,R=z);return e&&I.forEach(function($){return t(g,$)}),O}function E(g,x,w,N){var O=nu(w);if(typeof O!="function")throw Error(ne(150));if(w=O.call(w),w==null)throw Error(ne(151));for(var R=O=null,I=x,B=x=0,z=null,M=w.next();I!==null&&!M.done;B++,M=w.next()){I.index>B?(z=I,I=null):z=I.sibling;var $=v(g,I,M.value,N);if($===null){I===null&&(I=z);break}e&&I&&$.alternate===null&&t(g,I),x=o($,x,B),R===null?O=$:R.sibling=$,R=$,I=z}if(M.done)return r(g,I),O;if(I===null){for(;!M.done;B++,M=w.next())M=p(g,M.value,N),M!==null&&(x=o(M,x,B),R===null?O=M:R.sibling=M,R=M);return O}for(I=n(g,I);!M.done;B++,M=w.next())M=m(I,g,B,M.value,N),M!==null&&(e&&M.alternate!==null&&I.delete(M.key===null?B:M.key),x=o(M,x,B),R===null?O=M:R.sibling=M,R=M);return e&&I.forEach(function(de){return t(g,de)}),O}return function(g,x,w,N){var O=typeof w=="object"&&w!==null&&w.type===ji&&w.key===null;O&&(w=w.props.children);var R=typeof w=="object"&&w!==null;if(R)switch(w.$$typeof){case Su:e:{for(R=w.key,O=x;O!==null;){if(O.key===R){switch(O.tag){case 7:if(w.type===ji){r(g,O.sibling),x=i(O,w.props.children),x.return=g,g=x;break e}break;default:if(O.elementType===w.type){r(g,O.sibling),x=i(O,w.props),x.ref=lu(g,O,w),x.return=g,g=x;break e}}r(g,O);break}else t(g,O);O=O.sibling}w.type===ji?(x=ls(w.props.children,g.mode,N,w.key),x.return=g,g=x):(N=Oh(w.type,w.key,w.props,null,g.mode,N),N.ref=lu(g,x,w),N.return=g,g=N)}return a(g);case Xo:e:{for(O=w.key;x!==null;){if(x.key===O)if(x.tag===4&&x.stateNode.containerInfo===w.containerInfo&&x.stateNode.implementation===w.implementation){r(g,x.sibling),x=i(x,w.children||[]),x.return=g,g=x;break e}else{r(g,x);break}else t(g,x);x=x.sibling}x=iv(w,g.mode,N),x.return=g,g=x}return a(g)}if(typeof w=="string"||typeof w=="number")return w=""+w,x!==null&&x.tag===6?(r(g,x.sibling),x=i(x,w),x.return=g,g=x):(r(g,x),x=nv(w,g.mode,N),x.return=g,g=x),a(g);if(Hf(w))return y(g,x,w,N);if(nu(w))return E(g,x,w,N);if(R&&Xf(g,w),typeof w=="undefined"&&!O)switch(g.tag){case 1:case 22:case 0:case 11:case 15:throw Error(ne(152,es(g.type)||"Component"))}return r(g,x)}}var ec=Wb(!0),jb=Wb(!1),Tl={},jn=po(Tl),tl=po(Tl),rl=po(Tl);function Wo(e){if(e===Tl)throw Error(ne(174));return e}function y_(e,t){switch(kt(rl,t),kt(tl,e),kt(jn,Tl),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:n_(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=n_(t,e)}Et(jn),kt(jn,t)}function ms(){Et(jn),Et(tl),Et(rl)}function fx(e){Wo(rl.current);var t=Wo(jn.current),r=n_(t,e.type);t!==r&&(kt(tl,e),kt(jn,r))}function vg(e){tl.current===e&&(Et(jn),Et(tl))}var Ut=po(0);function tc(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if((t.flags&64)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var _i=null,qi=null,$n=!1;function $b(e,t){var r=cn(5,null,null,0);r.elementType="DELETED",r.type="DELETED",r.stateNode=t,r.return=e,r.flags=8,e.lastEffect!==null?(e.lastEffect.nextEffect=r,e.lastEffect=r):e.firstEffect=e.lastEffect=r}function hx(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,!0):!1;case 13:return!1;default:return!1}}function x_(e){if($n){var t=qi;if(t){var r=t;if(!hx(e,t)){if(t=is(r.nextSibling),!t||!hx(e,t)){e.flags=e.flags&-1025|2,$n=!1,_i=e;return}$b(_i,r)}_i=e,qi=is(t.firstChild)}else e.flags=e.flags&-1025|2,$n=!1,_i=e}}function cx(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;_i=e}function zf(e){if(e!==_i)return!1;if(!$n)return cx(e),$n=!0,!1;var t=e.type;if(e.tag!==5||t!=="head"&&t!=="body"&&!p_(t,e.memoizedProps))for(t=qi;t;)$b(e,t),t=is(t.nextSibling);if(cx(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(ne(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){qi=is(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}qi=null}}else qi=_i?is(e.stateNode.nextSibling):null;return!0}function Qp(){qi=_i=null,$n=!1}var as=[];function _g(){for(var e=0;e<as.length;e++)as[e]._workInProgressVersionPrimary=null;as.length=0}var Bu=na.ReactCurrentDispatcher,dn=na.ReactCurrentBatchConfig,nl=0,Vt=null,vr=null,sr=null,rc=!1,Mu=!1;function Fr(){throw Error(ne(321))}function mg(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!hn(e[r],t[r]))return!1;return!0}function gg(e,t,r,n,i,o){if(nl=o,Vt=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Bu.current=e===null||e.memoizedState===null?VL:WL,e=r(n,i),Mu){o=0;do{if(Mu=!1,!(25>o))throw Error(ne(301));o+=1,sr=vr=null,t.updateQueue=null,Bu.current=jL,e=r(n,i)}while(Mu)}if(Bu.current=ac,t=vr!==null&&vr.next!==null,nl=0,sr=vr=Vt=null,rc=!1,t)throw Error(ne(300));return e}function jo(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return sr===null?Vt.memoizedState=sr=e:sr=sr.next=e,sr}function oa(){if(vr===null){var e=Vt.alternate;e=e!==null?e.memoizedState:null}else e=vr.next;var t=sr===null?Vt.memoizedState:sr.next;if(t!==null)sr=t,vr=e;else{if(e===null)throw Error(ne(310));vr=e,e={memoizedState:vr.memoizedState,baseState:vr.baseState,baseQueue:vr.baseQueue,queue:vr.queue,next:null},sr===null?Vt.memoizedState=sr=e:sr=sr.next=e}return sr}function Xn(e,t){return typeof t=="function"?t(e):t}function fu(e){var t=oa(),r=t.queue;if(r===null)throw Error(ne(311));r.lastRenderedReducer=e;var n=vr,i=n.baseQueue,o=r.pending;if(o!==null){if(i!==null){var a=i.next;i.next=o.next,o.next=a}n.baseQueue=i=o,r.pending=null}if(i!==null){i=i.next,n=n.baseState;var u=a=o=null,f=i;do{var h=f.lane;if((nl&h)===h)u!==null&&(u=u.next={lane:0,action:f.action,eagerReducer:f.eagerReducer,eagerState:f.eagerState,next:null}),n=f.eagerReducer===e?f.eagerState:e(n,f.action);else{var d={lane:h,action:f.action,eagerReducer:f.eagerReducer,eagerState:f.eagerState,next:null};u===null?(a=u=d,o=n):u=u.next=d,Vt.lanes|=h,El|=h}f=f.next}while(f!==null&&f!==i);u===null?o=n:u.next=a,hn(n,t.memoizedState)||(Nn=!0),t.memoizedState=n,t.baseState=o,t.baseQueue=u,r.lastRenderedState=n}return[t.memoizedState,r.dispatch]}function hu(e){var t=oa(),r=t.queue;if(r===null)throw Error(ne(311));r.lastRenderedReducer=e;var n=r.dispatch,i=r.pending,o=t.memoizedState;if(i!==null){r.pending=null;var a=i=i.next;do o=e(o,a.action),a=a.next;while(a!==i);hn(o,t.memoizedState)||(Nn=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),r.lastRenderedState=o}return[o,n]}function dx(e,t,r){var n=t._getVersion;n=n(t._source);var i=t._workInProgressVersionPrimary;if(i!==null?e=i===n:(e=e.mutableReadLanes,(e=(nl&e)===e)&&(t._workInProgressVersionPrimary=n,as.push(t))),e)return r(t._source);throw as.push(t),Error(ne(350))}function Yb(e,t,r,n){var i=br;if(i===null)throw Error(ne(349));var o=t._getVersion,a=o(t._source),u=Bu.current,f=u.useState(function(){return dx(i,t,r)}),h=f[1],d=f[0];f=sr;var p=e.memoizedState,v=p.refs,m=v.getSnapshot,y=p.source;p=p.subscribe;var E=Vt;return e.memoizedState={refs:v,source:t,subscribe:n},u.useEffect(function(){v.getSnapshot=r,v.setSnapshot=h;var g=o(t._source);if(!hn(a,g)){g=r(t._source),hn(d,g)||(h(g),g=no(E),i.mutableReadLanes|=g&i.pendingLanes),g=i.mutableReadLanes,i.entangledLanes|=g;for(var x=i.entanglements,w=g;0<w;){var N=31-uo(w),O=1<<N;x[N]|=g,w&=~O}}},[r,t,n]),u.useEffect(function(){return n(t._source,function(){var g=v.getSnapshot,x=v.setSnapshot;try{x(g(t._source));var w=no(E);i.mutableReadLanes|=w&i.pendingLanes}catch(N){x(function(){throw N})}})},[t,n]),hn(m,r)&&hn(y,t)&&hn(p,n)||(e={pending:null,dispatch:null,lastRenderedReducer:Xn,lastRenderedState:d},e.dispatch=h=Tg.bind(null,Vt,e),f.queue=e,f.baseQueue=null,d=dx(i,t,r),f.memoizedState=f.baseState=d),d}function qb(e,t,r){var n=oa();return Yb(n,e,t,r)}function cu(e){var t=jo();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e=t.queue={pending:null,dispatch:null,lastRenderedReducer:Xn,lastRenderedState:e},e=e.dispatch=Tg.bind(null,Vt,e),[t.memoizedState,e]}function nc(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=Vt.updateQueue,t===null?(t={lastEffect:null},Vt.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function px(e){var t=jo();return e={current:e},t.memoizedState=e}function ic(){return oa().memoizedState}function T_(e,t,r,n){var i=jo();Vt.flags|=e,i.memoizedState=nc(1|t,r,void 0,n===void 0?null:n)}function yg(e,t,r,n){var i=oa();n=n===void 0?null:n;var o=void 0;if(vr!==null){var a=vr.memoizedState;if(o=a.destroy,n!==null&&mg(n,a.deps)){nc(t,r,o,n);return}}Vt.flags|=e,i.memoizedState=nc(1|t,r,o,n)}function vx(e,t){return T_(516,4,e,t)}function oc(e,t){return yg(516,4,e,t)}function Kb(e,t){return yg(4,2,e,t)}function Zb(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Jb(e,t,r){return r=r!=null?r.concat([e]):null,yg(4,2,Zb.bind(null,t,e),r)}function xg(){}function Qb(e,t){var r=oa();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&mg(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function eS(e,t){var r=oa();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&mg(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function zL(e,t){var r=_s();Zo(98>r?98:r,function(){e(!0)}),Zo(97<r?97:r,function(){var n=dn.transition;dn.transition=1;try{e(!1),t()}finally{dn.transition=n}})}function Tg(e,t,r){var n=Zr(),i=no(e),o={lane:i,action:r,eagerReducer:null,eagerState:null,next:null},a=t.pending;if(a===null?o.next=o:(o.next=a.next,a.next=o),t.pending=o,a=e.alternate,e===Vt||a!==null&&a===Vt)Mu=rc=!0;else{if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var u=t.lastRenderedState,f=a(u,r);if(o.eagerReducer=a,o.eagerState=f,hn(f,u))return}catch{}finally{}io(e,i,n)}}var ac={readContext:pn,useCallback:Fr,useContext:Fr,useEffect:Fr,useImperativeHandle:Fr,useLayoutEffect:Fr,useMemo:Fr,useReducer:Fr,useRef:Fr,useState:Fr,useDebugValue:Fr,useDeferredValue:Fr,useTransition:Fr,useMutableSource:Fr,useOpaqueIdentifier:Fr,unstable_isNewReconciler:!1},VL={readContext:pn,useCallback:function(e,t){return jo().memoizedState=[e,t===void 0?null:t],e},useContext:pn,useEffect:vx,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,T_(4,2,Zb.bind(null,t,e),r)},useLayoutEffect:function(e,t){return T_(4,2,e,t)},useMemo:function(e,t){var r=jo();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=jo();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e=n.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},e=e.dispatch=Tg.bind(null,Vt,e),[n.memoizedState,e]},useRef:px,useState:cu,useDebugValue:xg,useDeferredValue:function(e){var t=cu(e),r=t[0],n=t[1];return vx(function(){var i=dn.transition;dn.transition=1;try{n(e)}finally{dn.transition=i}},[e]),r},useTransition:function(){var e=cu(!1),t=e[0];return e=zL.bind(null,e[1]),px(e),[e,t]},useMutableSource:function(e,t,r){var n=jo();return n.memoizedState={refs:{getSnapshot:t,setSnapshot:null},source:e,subscribe:r},Yb(n,e,t,r)},useOpaqueIdentifier:function(){if($n){var e=!1,t=BL(function(){throw e||(e=!0,r("r:"+(Kp++).toString(36))),Error(ne(355))}),r=cu(t)[1];return(Vt.mode&2)===0&&(Vt.flags|=516,nc(5,function(){r("r:"+(Kp++).toString(36))},void 0,null)),t}return t="r:"+(Kp++).toString(36),cu(t),t},unstable_isNewReconciler:!1},WL={readContext:pn,useCallback:Qb,useContext:pn,useEffect:oc,useImperativeHandle:Jb,useLayoutEffect:Kb,useMemo:eS,useReducer:fu,useRef:ic,useState:function(){return fu(Xn)},useDebugValue:xg,useDeferredValue:function(e){var t=fu(Xn),r=t[0],n=t[1];return oc(function(){var i=dn.transition;dn.transition=1;try{n(e)}finally{dn.transition=i}},[e]),r},useTransition:function(){var e=fu(Xn)[0];return[ic().current,e]},useMutableSource:qb,useOpaqueIdentifier:function(){return fu(Xn)[0]},unstable_isNewReconciler:!1},jL={readContext:pn,useCallback:Qb,useContext:pn,useEffect:oc,useImperativeHandle:Jb,useLayoutEffect:Kb,useMemo:eS,useReducer:hu,useRef:ic,useState:function(){return hu(Xn)},useDebugValue:xg,useDeferredValue:function(e){var t=hu(Xn),r=t[0],n=t[1];return oc(function(){var i=dn.transition;dn.transition=1;try{n(e)}finally{dn.transition=i}},[e]),r},useTransition:function(){var e=hu(Xn)[0];return[ic().current,e]},useMutableSource:qb,useOpaqueIdentifier:function(){return hu(Xn)[0]},unstable_isNewReconciler:!1},$L=na.ReactCurrentOwner,Nn=!1;function Ur(e,t,r,n){t.child=e===null?jb(t,null,r,n):ec(t,e.child,r,n)}function _x(e,t,r,n,i){r=r.render;var o=t.ref;return os(t,i),n=gg(e,t,r,n,o,i),e!==null&&!Nn?(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,mi(e,t,i)):(t.flags|=1,Ur(e,t,n,i),t.child)}function mx(e,t,r,n,i,o){if(e===null){var a=r.type;return typeof a=="function"&&!Ig(a)&&a.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=a,tS(e,t,a,n,i,o)):(e=Oh(r.type,null,n,t,t.mode,o),e.ref=t.ref,e.return=t,t.child=e)}return a=e.child,(i&o)===0&&(i=a.memoizedProps,r=r.compare,r=r!==null?r:Zu,r(i,n)&&e.ref===t.ref)?mi(e,t,o):(t.flags|=1,e=ho(a,n),e.ref=t.ref,e.return=t,t.child=e)}function tS(e,t,r,n,i,o){if(e!==null&&Zu(e.memoizedProps,n)&&e.ref===t.ref)if(Nn=!1,(o&i)!==0)(e.flags&16384)!==0&&(Nn=!0);else return t.lanes=e.lanes,mi(e,t,o);return E_(e,t,r,n,o)}function ev(e,t,r){var n=t.pendingProps,i=n.children,o=e!==null?e.memoizedState:null;if(n.mode==="hidden"||n.mode==="unstable-defer-without-hiding")if((t.mode&4)===0)t.memoizedState={baseLanes:0},Wf(t,r);else if((r&1073741824)!==0)t.memoizedState={baseLanes:0},Wf(t,o!==null?o.baseLanes:r);else return e=o!==null?o.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e},Wf(t,e),null;else o!==null?(n=o.baseLanes|r,t.memoizedState=null):n=r,Wf(t,n);return Ur(e,t,i,r),t.child}function rS(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=128)}function E_(e,t,r,n,i){var o=Mr(r)?Ko:yr.current;return o=vs(t,o),os(t,i),r=gg(e,t,r,n,o,i),e!==null&&!Nn?(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,mi(e,t,i)):(t.flags|=1,Ur(e,t,r,i),t.child)}function gx(e,t,r,n,i){if(Mr(r)){var o=!0;Ih(t)}else o=!1;if(os(t,i),t.stateNode===null)e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2),Vb(t,r,n),g_(t,r,n,i),n=!0;else if(e===null){var a=t.stateNode,u=t.memoizedProps;a.props=u;var f=a.context,h=r.contextType;typeof h=="object"&&h!==null?h=pn(h):(h=Mr(r)?Ko:yr.current,h=vs(t,h));var d=r.getDerivedStateFromProps,p=typeof d=="function"||typeof a.getSnapshotBeforeUpdate=="function";p||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(u!==n||f!==h)&&lx(t,a,n,h),Vi=!1;var v=t.memoizedState;a.state=v,el(t,n,a,i),f=t.memoizedState,u!==n||v!==f||Br.current||Vi?(typeof d=="function"&&(Qh(t,r,d,n),f=t.memoizedState),(u=Vi||ux(t,r,u,n,v,f,h))?(p||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(t.flags|=4)):(typeof a.componentDidMount=="function"&&(t.flags|=4),t.memoizedProps=n,t.memoizedState=f),a.props=n,a.state=f,a.context=h,n=u):(typeof a.componentDidMount=="function"&&(t.flags|=4),n=!1)}else{a=t.stateNode,Xb(e,t),u=t.memoizedProps,h=t.type===t.elementType?u:Rn(t.type,u),a.props=h,p=t.pendingProps,v=a.context,f=r.contextType,typeof f=="object"&&f!==null?f=pn(f):(f=Mr(r)?Ko:yr.current,f=vs(t,f));var m=r.getDerivedStateFromProps;(d=typeof m=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(u!==p||v!==f)&&lx(t,a,n,f),Vi=!1,v=t.memoizedState,a.state=v,el(t,n,a,i);var y=t.memoizedState;u!==p||v!==y||Br.current||Vi?(typeof m=="function"&&(Qh(t,r,m,n),y=t.memoizedState),(h=Vi||ux(t,r,h,n,v,y,f))?(d||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(n,y,f),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(n,y,f)),typeof a.componentDidUpdate=="function"&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(t.flags|=256)):(typeof a.componentDidUpdate!="function"||u===e.memoizedProps&&v===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||u===e.memoizedProps&&v===e.memoizedState||(t.flags|=256),t.memoizedProps=n,t.memoizedState=y),a.props=n,a.state=y,a.context=f,n=h):(typeof a.componentDidUpdate!="function"||u===e.memoizedProps&&v===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||u===e.memoizedProps&&v===e.memoizedState||(t.flags|=256),n=!1)}return w_(e,t,r,n,o,i)}function w_(e,t,r,n,i,o){rS(e,t);var a=(t.flags&64)!==0;if(!n&&!a)return i&&nx(t,r,!1),mi(e,t,o);n=t.stateNode,$L.current=t;var u=a&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&a?(t.child=ec(t,e.child,null,o),t.child=ec(t,null,u,o)):Ur(e,t,u,o),t.memoizedState=n.state,i&&nx(t,r,!0),t.child}function yx(e){var t=e.stateNode;t.pendingContext?rx(e,t.pendingContext,t.pendingContext!==t.context):t.context&&rx(e,t.context,!1),y_(e,t.containerInfo)}var Vf={dehydrated:null,retryLane:0};function xx(e,t,r){var n=t.pendingProps,i=Ut.current,o=!1,a;return(a=(t.flags&64)!==0)||(a=e!==null&&e.memoizedState===null?!1:(i&2)!==0),a?(o=!0,t.flags&=-65):e!==null&&e.memoizedState===null||n.fallback===void 0||n.unstable_avoidThisFallback===!0||(i|=1),kt(Ut,i&1),e===null?(n.fallback!==void 0&&x_(t),e=n.children,i=n.fallback,o?(e=Tx(t,e,i,r),t.child.memoizedState={baseLanes:r},t.memoizedState=Vf,e):typeof n.unstable_expectedLoadTime=="number"?(e=Tx(t,e,i,r),t.child.memoizedState={baseLanes:r},t.memoizedState=Vf,t.lanes=33554432,e):(r=Rg({mode:"visible",children:e},t.mode,r,null),r.return=t,t.child=r)):e.memoizedState!==null?o?(n=wx(e,t,n.children,n.fallback,r),o=t.child,i=e.child.memoizedState,o.memoizedState=i===null?{baseLanes:r}:{baseLanes:i.baseLanes|r},o.childLanes=e.childLanes&~r,t.memoizedState=Vf,n):(r=Ex(e,t,n.children,r),t.memoizedState=null,r):o?(n=wx(e,t,n.children,n.fallback,r),o=t.child,i=e.child.memoizedState,o.memoizedState=i===null?{baseLanes:r}:{baseLanes:i.baseLanes|r},o.childLanes=e.childLanes&~r,t.memoizedState=Vf,n):(r=Ex(e,t,n.children,r),t.memoizedState=null,r)}function Tx(e,t,r,n){var i=e.mode,o=e.child;return t={mode:"hidden",children:t},(i&2)===0&&o!==null?(o.childLanes=0,o.pendingProps=t):o=Rg(t,i,0,null),r=ls(r,i,n,null),o.return=e,r.return=e,o.sibling=r,e.child=o,r}function Ex(e,t,r,n){var i=e.child;return e=i.sibling,r=ho(i,{mode:"visible",children:r}),(t.mode&2)===0&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(e.nextEffect=null,e.flags=8,t.firstEffect=t.lastEffect=e),t.child=r}function wx(e,t,r,n,i){var o=t.mode,a=e.child;e=a.sibling;var u={mode:"hidden",children:r};return(o&2)===0&&t.child!==a?(r=t.child,r.childLanes=0,r.pendingProps=u,a=r.lastEffect,a!==null?(t.firstEffect=r.firstEffect,t.lastEffect=a,a.nextEffect=null):t.firstEffect=t.lastEffect=null):r=ho(a,u),e!==null?n=ho(e,n):(n=ls(n,o,i,null),n.flags|=2),n.return=t,r.return=t,r.sibling=n,t.child=r,n}function bx(e,t){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Hb(e.return,t)}function tv(e,t,r,n,i,o){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i,lastEffect:o}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=n,a.tail=r,a.tailMode=i,a.lastEffect=o)}function Sx(e,t,r){var n=t.pendingProps,i=n.revealOrder,o=n.tail;if(Ur(e,t,n.children,r),n=Ut.current,(n&2)!==0)n=n&1|2,t.flags|=64;else{if(e!==null&&(e.flags&64)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&bx(e,r);else if(e.tag===19)bx(e,r);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(kt(Ut,n),(t.mode&2)===0)t.memoizedState=null;else switch(i){case"forwards":for(r=t.child,i=null;r!==null;)e=r.alternate,e!==null&&tc(e)===null&&(i=r),r=r.sibling;r=i,r===null?(i=t.child,t.child=null):(i=r.sibling,r.sibling=null),tv(t,!1,i,r,o,t.lastEffect);break;case"backwards":for(r=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&tc(e)===null){t.child=i;break}e=i.sibling,i.sibling=r,r=i,i=e}tv(t,!0,r,null,o,t.lastEffect);break;case"together":tv(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function mi(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),El|=t.lanes,(r&t.childLanes)!==0){if(e!==null&&t.child!==e.child)throw Error(ne(153));if(t.child!==null){for(e=t.child,r=ho(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=ho(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}return null}var nS,b_,iS,oS;nS=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};b_=function(){};iS=function(e,t,r,n){var i=e.memoizedProps;if(i!==n){e=t.stateNode,Wo(jn.current);var o=null;switch(r){case"input":i=Zv(e,i),n=Zv(e,n),o=[];break;case"option":i=e_(e,i),n=e_(e,n),o=[];break;case"select":i=Rt({},i,{value:void 0}),n=Rt({},n,{value:void 0}),o=[];break;case"textarea":i=t_(e,i),n=t_(e,n),o=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=$h)}i_(r,n);var a;r=null;for(h in i)if(!n.hasOwnProperty(h)&&i.hasOwnProperty(h)&&i[h]!=null)if(h==="style"){var u=i[h];for(a in u)u.hasOwnProperty(a)&&(r||(r={}),r[a]="")}else h!=="dangerouslySetInnerHTML"&&h!=="children"&&h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&h!=="autoFocus"&&(Vu.hasOwnProperty(h)?o||(o=[]):(o=o||[]).push(h,null));for(h in n){var f=n[h];if(u=i!=null?i[h]:void 0,n.hasOwnProperty(h)&&f!==u&&(f!=null||u!=null))if(h==="style")if(u){for(a in u)!u.hasOwnProperty(a)||f&&f.hasOwnProperty(a)||(r||(r={}),r[a]="");for(a in f)f.hasOwnProperty(a)&&u[a]!==f[a]&&(r||(r={}),r[a]=f[a])}else r||(o||(o=[]),o.push(h,r)),r=f;else h==="dangerouslySetInnerHTML"?(f=f?f.__html:void 0,u=u?u.__html:void 0,f!=null&&u!==f&&(o=o||[]).push(h,f)):h==="children"?typeof f!="string"&&typeof f!="number"||(o=o||[]).push(h,""+f):h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&(Vu.hasOwnProperty(h)?(f!=null&&h==="onScroll"&&Tt("scroll",e),o||u===f||(o=[])):typeof f=="object"&&f!==null&&f.$$typeof===Ym?f.toString():(o=o||[]).push(h,f))}r&&(o=o||[]).push("style",r);var h=o;(t.updateQueue=h)&&(t.flags|=4)}};oS=function(e,t,r,n){r!==n&&(t.flags|=4)};function du(e,t){if(!$n)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function YL(e,t,r){var n=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return Mr(t.type)&&qh(),null;case 3:return ms(),Et(Br),Et(yr),_g(),n=t.stateNode,n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(zf(t)?t.flags|=4:n.hydrate||(t.flags|=256)),b_(t),null;case 5:vg(t);var i=Wo(rl.current);if(r=t.type,e!==null&&t.stateNode!=null)iS(e,t,r,n,i),e.ref!==t.ref&&(t.flags|=128);else{if(!n){if(t.stateNode===null)throw Error(ne(166));return null}if(e=Wo(jn.current),zf(t)){n=t.stateNode,r=t.type;var o=t.memoizedProps;switch(n[Yi]=t,n[Yh]=o,r){case"dialog":Tt("cancel",n),Tt("close",n);break;case"iframe":case"object":case"embed":Tt("load",n);break;case"video":case"audio":for(e=0;e<Iu.length;e++)Tt(Iu[e],n);break;case"source":Tt("error",n);break;case"img":case"image":case"link":Tt("error",n),Tt("load",n);break;case"details":Tt("toggle",n);break;case"input":S1(n,o),Tt("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!o.multiple},Tt("invalid",n);break;case"textarea":I1(n,o),Tt("invalid",n)}i_(r,o),e=null;for(var a in o)o.hasOwnProperty(a)&&(i=o[a],a==="children"?typeof i=="string"?n.textContent!==i&&(e=["children",i]):typeof i=="number"&&n.textContent!==""+i&&(e=["children",""+i]):Vu.hasOwnProperty(a)&&i!=null&&a==="onScroll"&&Tt("scroll",n));switch(r){case"input":Bf(n),C1(n,o,!0);break;case"textarea":Bf(n),R1(n);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(n.onclick=$h)}n=e,t.updateQueue=n,n!==null&&(t.flags|=4)}else{switch(a=i.nodeType===9?i:i.ownerDocument,e===r_.html&&(e=Jw(r)),e===r_.html?r==="script"?(e=a.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=a.createElement(r,{is:n.is}):(e=a.createElement(r),r==="select"&&(a=e,n.multiple?a.multiple=!0:n.size&&(a.size=n.size))):e=a.createElementNS(e,r),e[Yi]=t,e[Yh]=n,nS(e,t,!1,!1),t.stateNode=e,a=o_(r,n),r){case"dialog":Tt("cancel",e),Tt("close",e),i=n;break;case"iframe":case"object":case"embed":Tt("load",e),i=n;break;case"video":case"audio":for(i=0;i<Iu.length;i++)Tt(Iu[i],e);i=n;break;case"source":Tt("error",e),i=n;break;case"img":case"image":case"link":Tt("error",e),Tt("load",e),i=n;break;case"details":Tt("toggle",e),i=n;break;case"input":S1(e,n),i=Zv(e,n),Tt("invalid",e);break;case"option":i=e_(e,n);break;case"select":e._wrapperState={wasMultiple:!!n.multiple},i=Rt({},n,{value:void 0}),Tt("invalid",e);break;case"textarea":I1(e,n),i=t_(e,n),Tt("invalid",e);break;default:i=n}i_(r,i);var u=i;for(o in u)if(u.hasOwnProperty(o)){var f=u[o];o==="style"?tb(e,f):o==="dangerouslySetInnerHTML"?(f=f?f.__html:void 0,f!=null&&Qw(e,f)):o==="children"?typeof f=="string"?(r!=="textarea"||f!=="")&&Wu(e,f):typeof f=="number"&&Wu(e,""+f):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(Vu.hasOwnProperty(o)?f!=null&&o==="onScroll"&&Tt("scroll",e):f!=null&&Xm(e,o,f,a))}switch(r){case"input":Bf(e),C1(e,n,!1);break;case"textarea":Bf(e),R1(e);break;case"option":n.value!=null&&e.setAttribute("value",""+so(n.value));break;case"select":e.multiple=!!n.multiple,o=n.value,o!=null?ts(e,!!n.multiple,o,!1):n.defaultValue!=null&&ts(e,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=$h)}Ob(r,n)&&(t.flags|=4)}t.ref!==null&&(t.flags|=128)}return null;case 6:if(e&&t.stateNode!=null)oS(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(ne(166));r=Wo(rl.current),Wo(jn.current),zf(t)?(n=t.stateNode,r=t.memoizedProps,n[Yi]=t,n.nodeValue!==r&&(t.flags|=4)):(n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Yi]=t,t.stateNode=n)}return null;case 13:return Et(Ut),n=t.memoizedState,(t.flags&64)!==0?(t.lanes=r,t):(n=n!==null,r=!1,e===null?t.memoizedProps.fallback!==void 0&&zf(t):r=e.memoizedState!==null,n&&!r&&(t.mode&2)!==0&&(e===null&&t.memoizedProps.unstable_avoidThisFallback!==!0||(Ut.current&1)!==0?ur===0&&(ur=3):((ur===0||ur===3)&&(ur=4),br===null||(El&134217727)===0&&(Ps&134217727)===0||ss(br,gr))),(n||r)&&(t.flags|=4),null);case 4:return ms(),b_(t),e===null&&Nb(t.stateNode.containerInfo),null;case 10:return dg(t),null;case 17:return Mr(t.type)&&qh(),null;case 19:if(Et(Ut),n=t.memoizedState,n===null)return null;if(o=(t.flags&64)!==0,a=n.rendering,a===null)if(o)du(n,!1);else{if(ur!==0||e!==null&&(e.flags&64)!==0)for(e=t.child;e!==null;){if(a=tc(e),a!==null){for(t.flags|=64,du(n,!1),o=a.updateQueue,o!==null&&(t.updateQueue=o,t.flags|=4),n.lastEffect===null&&(t.firstEffect=null),t.lastEffect=n.lastEffect,n=r,r=t.child;r!==null;)o=r,e=n,o.flags&=2,o.nextEffect=null,o.firstEffect=null,o.lastEffect=null,a=o.alternate,a===null?(o.childLanes=0,o.lanes=e,o.child=null,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=a.childLanes,o.lanes=a.lanes,o.child=a.child,o.memoizedProps=a.memoizedProps,o.memoizedState=a.memoizedState,o.updateQueue=a.updateQueue,o.type=a.type,e=a.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return kt(Ut,Ut.current&1|2),t.child}e=e.sibling}n.tail!==null&&mr()>P_&&(t.flags|=64,o=!0,du(n,!1),t.lanes=33554432)}else{if(!o)if(e=tc(a),e!==null){if(t.flags|=64,o=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),du(n,!0),n.tail===null&&n.tailMode==="hidden"&&!a.alternate&&!$n)return t=t.lastEffect=n.lastEffect,t!==null&&(t.nextEffect=null),null}else 2*mr()-n.renderingStartTime>P_&&r!==1073741824&&(t.flags|=64,o=!0,du(n,!1),t.lanes=33554432);n.isBackwards?(a.sibling=t.child,t.child=a):(r=n.last,r!==null?r.sibling=a:t.child=a,n.last=a)}return n.tail!==null?(r=n.tail,n.rendering=r,n.tail=r.sibling,n.lastEffect=t.lastEffect,n.renderingStartTime=mr(),r.sibling=null,t=Ut.current,kt(Ut,o?t&1|2:t&1),r):null;case 23:case 24:return Cg(),e!==null&&e.memoizedState!==null!=(t.memoizedState!==null)&&n.mode!=="unstable-defer-without-hiding"&&(t.flags|=4),null}throw Error(ne(156,t.tag))}function qL(e){switch(e.tag){case 1:Mr(e.type)&&qh();var t=e.flags;return t&4096?(e.flags=t&-4097|64,e):null;case 3:if(ms(),Et(Br),Et(yr),_g(),t=e.flags,(t&64)!==0)throw Error(ne(285));return e.flags=t&-4097|64,e;case 5:return vg(e),null;case 13:return Et(Ut),t=e.flags,t&4096?(e.flags=t&-4097|64,e):null;case 19:return Et(Ut),null;case 4:return ms(),null;case 10:return dg(e),null;case 23:case 24:return Cg(),null;default:return null}}function Eg(e,t){try{var r="",n=t;do r+=N3(n),n=n.return;while(n);var i=r}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:i}}function S_(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var KL=typeof WeakMap=="function"?WeakMap:Map;function aS(e,t,r){r=to(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){uc||(uc=!0,A_=n),S_(e,t)},r}function sS(e,t,r){r=to(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var i=t.value;r.payload=function(){return S_(e,t),n(i)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(r.callback=function(){typeof n!="function"&&(zn===null?zn=new Set([this]):zn.add(this),S_(e,t));var a=t.stack;this.componentDidCatch(t.value,{componentStack:a!==null?a:""})}),r}var ZL=typeof WeakSet=="function"?WeakSet:Set;function Cx(e){var t=e.ref;if(t!==null)if(typeof t=="function")try{t(null)}catch(r){oo(e,r)}else t.current=null}function JL(e,t){switch(t.tag){case 0:case 11:case 15:case 22:return;case 1:if(t.flags&256&&e!==null){var r=e.memoizedProps,n=e.memoizedState;e=t.stateNode,t=e.getSnapshotBeforeUpdate(t.elementType===t.type?r:Rn(t.type,r),n),e.__reactInternalSnapshotBeforeUpdate=t}return;case 3:t.flags&256&&lg(t.stateNode.containerInfo);return;case 5:case 6:case 4:case 17:return}throw Error(ne(163))}function QL(e,t,r){switch(r.tag){case 0:case 11:case 15:case 22:if(t=r.updateQueue,t=t!==null?t.lastEffect:null,t!==null){e=t=t.next;do{if((e.tag&3)===3){var n=e.create;e.destroy=n()}e=e.next}while(e!==t)}if(t=r.updateQueue,t=t!==null?t.lastEffect:null,t!==null){e=t=t.next;do{var i=e;n=i.next,i=i.tag,(i&4)!==0&&(i&1)!==0&&(_S(r,e),sF(r,e)),e=n}while(e!==t)}return;case 1:e=r.stateNode,r.flags&4&&(t===null?e.componentDidMount():(n=r.elementType===r.type?t.memoizedProps:Rn(r.type,t.memoizedProps),e.componentDidUpdate(n,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate))),t=r.updateQueue,t!==null&&sx(r,t,e);return;case 3:if(t=r.updateQueue,t!==null){if(e=null,r.child!==null)switch(r.child.tag){case 5:e=r.child.stateNode;break;case 1:e=r.child.stateNode}sx(r,t,e)}return;case 5:e=r.stateNode,t===null&&r.flags&4&&Ob(r.type,r.memoizedProps)&&e.focus();return;case 6:return;case 4:return;case 12:return;case 13:r.memoizedState===null&&(r=r.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null&&hb(r))));return;case 19:case 17:case 20:case 21:case 23:case 24:return}throw Error(ne(163))}function Ix(e,t){for(var r=e;;){if(r.tag===5){var n=r.stateNode;if(t)n=n.style,typeof n.setProperty=="function"?n.setProperty("display","none","important"):n.display="none";else{n=r.stateNode;var i=r.memoizedProps.style;i=i!=null&&i.hasOwnProperty("display")?i.display:null,n.style.display=eb("display",i)}}else if(r.tag===6)r.stateNode.nodeValue=t?"":r.memoizedProps;else if((r.tag!==23&&r.tag!==24||r.memoizedState===null||r===e)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}}function Rx(e,t){if($o&&typeof $o.onCommitFiberUnmount=="function")try{$o.onCommitFiberUnmount(fg,t)}catch{}switch(t.tag){case 0:case 11:case 14:case 15:case 22:if(e=t.updateQueue,e!==null&&(e=e.lastEffect,e!==null)){var r=e=e.next;do{var n=r,i=n.destroy;if(n=n.tag,i!==void 0)if((n&4)!==0)_S(t,r);else{n=t;try{i()}catch(o){oo(n,o)}}r=r.next}while(r!==e)}break;case 1:if(Cx(t),e=t.stateNode,typeof e.componentWillUnmount=="function")try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(o){oo(t,o)}break;case 5:Cx(t);break;case 4:uS(e,t)}}function Nx(e){e.alternate=null,e.child=null,e.dependencies=null,e.firstEffect=null,e.lastEffect=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.return=null,e.updateQueue=null}function Px(e){return e.tag===5||e.tag===3||e.tag===4}function Ax(e){e:{for(var t=e.return;t!==null;){if(Px(t))break e;t=t.return}throw Error(ne(160))}var r=t;switch(t=r.stateNode,r.tag){case 5:var n=!1;break;case 3:t=t.containerInfo,n=!0;break;case 4:t=t.containerInfo,n=!0;break;default:throw Error(ne(161))}r.flags&16&&(Wu(t,""),r.flags&=-17);e:t:for(r=e;;){for(;r.sibling===null;){if(r.return===null||Px(r.return)){r=null;break e}r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.flags&2||r.child===null||r.tag===4)continue t;r.child.return=r,r=r.child}if(!(r.flags&2)){r=r.stateNode;break e}}n?C_(e,r,t):I_(e,r,t)}function C_(e,t,r){var n=e.tag,i=n===5||n===6;if(i)e=i?e.stateNode:e.stateNode.instance,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=$h));else if(n!==4&&(e=e.child,e!==null))for(C_(e,t,r),e=e.sibling;e!==null;)C_(e,t,r),e=e.sibling}function I_(e,t,r){var n=e.tag,i=n===5||n===6;if(i)e=i?e.stateNode:e.stateNode.instance,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(I_(e,t,r),e=e.sibling;e!==null;)I_(e,t,r),e=e.sibling}function uS(e,t){for(var r=t,n=!1,i,o;;){if(!n){n=r.return;e:for(;;){if(n===null)throw Error(ne(160));switch(i=n.stateNode,n.tag){case 5:o=!1;break e;case 3:i=i.containerInfo,o=!0;break e;case 4:i=i.containerInfo,o=!0;break e}n=n.return}n=!0}if(r.tag===5||r.tag===6){e:for(var a=e,u=r,f=u;;)if(Rx(a,f),f.child!==null&&f.tag!==4)f.child.return=f,f=f.child;else{if(f===u)break e;for(;f.sibling===null;){if(f.return===null||f.return===u)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}o?(a=i,u=r.stateNode,a.nodeType===8?a.parentNode.removeChild(u):a.removeChild(u)):i.removeChild(r.stateNode)}else if(r.tag===4){if(r.child!==null){i=r.stateNode.containerInfo,o=!0,r.child.return=r,r=r.child;continue}}else if(Rx(e,r),r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return,r.tag===4&&(n=!1)}r.sibling.return=r.return,r=r.sibling}}function rv(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 22:var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var n=r=r.next;do(n.tag&3)===3&&(e=n.destroy,n.destroy=void 0,e!==void 0&&e()),n=n.next;while(n!==r)}return;case 1:return;case 5:if(r=t.stateNode,r!=null){n=t.memoizedProps;var i=e!==null?e.memoizedProps:n;e=t.type;var o=t.updateQueue;if(t.updateQueue=null,o!==null){for(r[Yh]=n,e==="input"&&n.type==="radio"&&n.name!=null&&Kw(r,n),o_(e,i),t=o_(e,n),i=0;i<o.length;i+=2){var a=o[i],u=o[i+1];a==="style"?tb(r,u):a==="dangerouslySetInnerHTML"?Qw(r,u):a==="children"?Wu(r,u):Xm(r,a,u,t)}switch(e){case"input":Jv(r,n);break;case"textarea":Zw(r,n);break;case"select":e=r._wrapperState.wasMultiple,r._wrapperState.wasMultiple=!!n.multiple,o=n.value,o!=null?ts(r,!!n.multiple,o,!1):e!==!!n.multiple&&(n.defaultValue!=null?ts(r,!!n.multiple,n.defaultValue,!0):ts(r,!!n.multiple,n.multiple?[]:"",!1))}}}return;case 6:if(t.stateNode===null)throw Error(ne(162));t.stateNode.nodeValue=t.memoizedProps;return;case 3:r=t.stateNode,r.hydrate&&(r.hydrate=!1,hb(r.containerInfo));return;case 12:return;case 13:t.memoizedState!==null&&(Sg=mr(),Ix(t.child,!0)),Ox(t);return;case 19:Ox(t);return;case 17:return;case 23:case 24:Ix(t,t.memoizedState!==null);return}throw Error(ne(163))}function Ox(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new ZL),t.forEach(function(n){var i=fF.bind(null,e,n);r.has(n)||(r.add(n),n.then(i,i))})}}function eF(e,t){return e!==null&&(e=e.memoizedState,e===null||e.dehydrated!==null)?(t=t.memoizedState,t!==null&&t.dehydrated===null):!1}var tF=Math.ceil,sc=na.ReactCurrentDispatcher,wg=na.ReactCurrentOwner,Fe=0,br=null,Zt=null,gr=0,Jo=0,R_=po(0),ur=0,Lc=null,Ns=0,El=0,Ps=0,bg=0,N_=null,Sg=0,P_=1/0;function As(){P_=mr()+500}var _e=null,uc=!1,A_=null,zn=null,fo=!1,Du=null,Ru=90,O_=[],L_=[],yi=null,Gu=0,F_=null,Nh=-1,di=0,Ph=0,Hu=null,Ah=!1;function Zr(){return(Fe&48)!==0?mr():Nh!==-1?Nh:Nh=mr()}function no(e){if(e=e.mode,(e&2)===0)return 1;if((e&4)===0)return _s()===99?1:2;if(di===0&&(di=Ns),XL.transition!==0){Ph!==0&&(Ph=N_!==null?N_.pendingLanes:0),e=di;var t=4186112&~Ph;return t&=-t,t===0&&(e=4186112&~e,t=e&-e,t===0&&(t=8192)),t}return e=_s(),(Fe&4)!==0&&e===98?e=Wh(12,di):(e=W3(e),e=Wh(e,di)),e}function io(e,t,r){if(50<Gu)throw Gu=0,F_=null,Error(ne(185));if(e=Fc(e,t),e===null)return null;Cc(e,t,r),e===br&&(Ps|=t,ur===4&&ss(e,gr));var n=_s();t===1?(Fe&8)!==0&&(Fe&48)===0?U_(e):(vn(e,r),Fe===0&&(As(),Kn())):((Fe&4)===0||n!==98&&n!==99||(yi===null?yi=new Set([e]):yi.add(e)),vn(e,r)),N_=e}function Fc(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}function vn(e,t){for(var r=e.callbackNode,n=e.suspendedLanes,i=e.pingedLanes,o=e.expirationTimes,a=e.pendingLanes;0<a;){var u=31-uo(a),f=1<<u,h=o[u];if(h===-1){if((f&n)===0||(f&i)!==0){h=t,Ga(f);var d=mt;o[u]=10<=d?h+250:6<=d?h+5e3:-1}}else h<=t&&(e.expiredLanes|=f);a&=~f}if(n=qu(e,e===br?gr:0),t=mt,n===0)r!==null&&(r!==Zp&&__(r),e.callbackNode=null,e.callbackPriority=0);else{if(r!==null){if(e.callbackPriority===t)return;r!==Zp&&__(r)}t===15?(r=U_.bind(null,e),ci===null?(ci=[r],Rh=hg(Ac,Gb)):ci.push(r),r=Zp):t===14?r=Qu(99,U_.bind(null,e)):(r=j3(t),r=Qu(r,lS.bind(null,e))),e.callbackPriority=t,e.callbackNode=r}}function lS(e){if(Nh=-1,Ph=di=0,(Fe&48)!==0)throw Error(ne(327));var t=e.callbackNode;if(vo()&&e.callbackNode!==t)return null;var r=qu(e,e===br?gr:0);if(r===0)return null;var n=r,i=Fe;Fe|=16;var o=dS();(br!==e||gr!==n)&&(As(),us(e,n));do try{iF();break}catch(u){cS(e,u)}while(1);if(cg(),sc.current=o,Fe=i,Zt!==null?n=0:(br=null,gr=0,n=ur),(Ns&Ps)!==0)us(e,0);else if(n!==0){if(n===2&&(Fe|=64,e.hydrate&&(e.hydrate=!1,lg(e.containerInfo)),r=gb(e),r!==0&&(n=Nu(e,r))),n===1)throw t=Lc,us(e,0),ss(e,r),vn(e,mr()),t;switch(e.finishedWork=e.current.alternate,e.finishedLanes=r,n){case 0:case 1:throw Error(ne(345));case 2:Bo(e);break;case 3:if(ss(e,r),(r&62914560)===r&&(n=Sg+500-mr(),10<n)){if(qu(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){Zr(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Q1(Bo.bind(null,e),n);break}Bo(e);break;case 4:if(ss(e,r),(r&4186112)===r)break;for(n=e.eventTimes,i=-1;0<r;){var a=31-uo(r);o=1<<a,a=n[a],a>i&&(i=a),r&=~o}if(r=i,r=mr()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*tF(r/1960))-r,10<r){e.timeoutHandle=Q1(Bo.bind(null,e),r);break}Bo(e);break;case 5:Bo(e);break;default:throw Error(ne(329))}}return vn(e,mr()),e.callbackNode===t?lS.bind(null,e):null}function ss(e,t){for(t&=~bg,t&=~Ps,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-uo(t),n=1<<r;e[r]=-1,t&=~n}}function U_(e){if((Fe&48)!==0)throw Error(ne(327));if(vo(),e===br&&(e.expiredLanes&gr)!==0){var t=gr,r=Nu(e,t);(Ns&Ps)!==0&&(t=qu(e,t),r=Nu(e,t))}else t=qu(e,0),r=Nu(e,t);if(e.tag!==0&&r===2&&(Fe|=64,e.hydrate&&(e.hydrate=!1,lg(e.containerInfo)),t=gb(e),t!==0&&(r=Nu(e,t))),r===1)throw r=Lc,us(e,0),ss(e,t),vn(e,mr()),r;return e.finishedWork=e.current.alternate,e.finishedLanes=t,Bo(e),vn(e,mr()),null}function rF(){if(yi!==null){var e=yi;yi=null,e.forEach(function(t){t.expiredLanes|=24&t.pendingLanes,vn(t,mr())})}Kn()}function fS(e,t){var r=Fe;Fe|=1;try{return e(t)}finally{Fe=r,Fe===0&&(As(),Kn())}}function hS(e,t){var r=Fe;Fe&=-2,Fe|=8;try{return e(t)}finally{Fe=r,Fe===0&&(As(),Kn())}}function Wf(e,t){kt(R_,Jo),Jo|=t,Ns|=t}function Cg(){Jo=R_.current,Et(R_)}function us(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,kL(r)),Zt!==null)for(r=Zt.return;r!==null;){var n=r;switch(n.tag){case 1:n=n.type.childContextTypes,n!=null&&qh();break;case 3:ms(),Et(Br),Et(yr),_g();break;case 5:vg(n);break;case 4:ms();break;case 13:Et(Ut);break;case 19:Et(Ut);break;case 10:dg(n);break;case 23:case 24:Cg()}r=r.return}br=e,Zt=ho(e.current,null),gr=Jo=Ns=t,ur=0,Lc=null,bg=Ps=El=0}function cS(e,t){do{var r=Zt;try{if(cg(),Bu.current=ac,rc){for(var n=Vt.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}rc=!1}if(nl=0,sr=vr=Vt=null,Mu=!1,wg.current=null,r===null||r.return===null){ur=1,Lc=t,Zt=null;break}e:{var o=e,a=r.return,u=r,f=t;if(t=gr,u.flags|=2048,u.firstEffect=u.lastEffect=null,f!==null&&typeof f=="object"&&typeof f.then=="function"){var h=f;if((u.mode&2)===0){var d=u.alternate;d?(u.updateQueue=d.updateQueue,u.memoizedState=d.memoizedState,u.lanes=d.lanes):(u.updateQueue=null,u.memoizedState=null)}var p=(Ut.current&1)!==0,v=a;do{var m;if(m=v.tag===13){var y=v.memoizedState;if(y!==null)m=y.dehydrated!==null;else{var E=v.memoizedProps;m=E.fallback===void 0?!1:E.unstable_avoidThisFallback!==!0?!0:!p}}if(m){var g=v.updateQueue;if(g===null){var x=new Set;x.add(h),v.updateQueue=x}else g.add(h);if((v.mode&2)===0){if(v.flags|=64,u.flags|=16384,u.flags&=-2981,u.tag===1)if(u.alternate===null)u.tag=17;else{var w=to(-1,1);w.tag=2,ro(u,w)}u.lanes|=1;break e}f=void 0,u=t;var N=o.pingCache;if(N===null?(N=o.pingCache=new KL,f=new Set,N.set(h,f)):(f=N.get(h),f===void 0&&(f=new Set,N.set(h,f))),!f.has(u)){f.add(u);var O=lF.bind(null,o,h,u);h.then(O,O)}v.flags|=4096,v.lanes=t;break e}v=v.return}while(v!==null);f=Error((es(u.type)||"A React component")+` suspended while rendering, but no fallback UI was specified.

Add a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.`)}ur!==5&&(ur=2),f=Eg(f,u),v=a;do{switch(v.tag){case 3:o=f,v.flags|=4096,t&=-t,v.lanes|=t;var R=aS(v,o,t);ax(v,R);break e;case 1:o=f;var I=v.type,B=v.stateNode;if((v.flags&64)===0&&(typeof I.getDerivedStateFromError=="function"||B!==null&&typeof B.componentDidCatch=="function"&&(zn===null||!zn.has(B)))){v.flags|=4096,t&=-t,v.lanes|=t;var z=sS(v,o,t);ax(v,z);break e}}v=v.return}while(v!==null)}vS(r)}catch(M){t=M,Zt===r&&r!==null&&(Zt=r=r.return);continue}break}while(1)}function dS(){var e=sc.current;return sc.current=ac,e===null?ac:e}function Nu(e,t){var r=Fe;Fe|=16;var n=dS();br===e&&gr===t||us(e,t);do try{nF();break}catch(i){cS(e,i)}while(1);if(cg(),Fe=r,sc.current=n,Zt!==null)throw Error(ne(261));return br=null,gr=0,ur}function nF(){for(;Zt!==null;)pS(Zt)}function iF(){for(;Zt!==null&&!DL();)pS(Zt)}function pS(e){var t=mS(e.alternate,e,Jo);e.memoizedProps=e.pendingProps,t===null?vS(e):Zt=t,wg.current=null}function vS(e){var t=e;do{var r=t.alternate;if(e=t.return,(t.flags&2048)===0){if(r=YL(r,t,Jo),r!==null){Zt=r;return}if(r=t,r.tag!==24&&r.tag!==23||r.memoizedState===null||(Jo&1073741824)!==0||(r.mode&4)===0){for(var n=0,i=r.child;i!==null;)n|=i.lanes|i.childLanes,i=i.sibling;r.childLanes=n}e!==null&&(e.flags&2048)===0&&(e.firstEffect===null&&(e.firstEffect=t.firstEffect),t.lastEffect!==null&&(e.lastEffect!==null&&(e.lastEffect.nextEffect=t.firstEffect),e.lastEffect=t.lastEffect),1<t.flags&&(e.lastEffect!==null?e.lastEffect.nextEffect=t:e.firstEffect=t,e.lastEffect=t))}else{if(r=qL(t),r!==null){r.flags&=2047,Zt=r;return}e!==null&&(e.firstEffect=e.lastEffect=null,e.flags|=2048)}if(t=t.sibling,t!==null){Zt=t;return}Zt=t=e}while(t!==null);ur===0&&(ur=5)}function Bo(e){var t=_s();return Zo(99,oF.bind(null,e,t)),null}function oF(e,t){do vo();while(Du!==null);if((Fe&48)!==0)throw Error(ne(327));var r=e.finishedWork;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(ne(177));e.callbackNode=null;var n=r.lanes|r.childLanes,i=n,o=e.pendingLanes&~i;e.pendingLanes=i,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=i,e.mutableReadLanes&=i,e.entangledLanes&=i,i=e.entanglements;for(var a=e.eventTimes,u=e.expirationTimes;0<o;){var f=31-uo(o),h=1<<f;i[f]=0,a[f]=-1,u[f]=-1,o&=~h}if(yi!==null&&(n&24)===0&&yi.has(e)&&yi.delete(e),e===br&&(Zt=br=null,gr=0),1<r.flags?r.lastEffect!==null?(r.lastEffect.nextEffect=r,n=r.firstEffect):n=r:n=r.firstEffect,n!==null){if(i=Fe,Fe|=32,wg.current=null,Yp=bh,a=j1(),h_(a)){if("selectionStart"in a)u={start:a.selectionStart,end:a.selectionEnd};else e:if(u=(u=a.ownerDocument)&&u.defaultView||window,(h=u.getSelection&&u.getSelection())&&h.rangeCount!==0){u=h.anchorNode,o=h.anchorOffset,f=h.focusNode,h=h.focusOffset;try{u.nodeType,f.nodeType}catch{u=null;break e}var d=0,p=-1,v=-1,m=0,y=0,E=a,g=null;t:for(;;){for(var x;E!==u||o!==0&&E.nodeType!==3||(p=d+o),E!==f||h!==0&&E.nodeType!==3||(v=d+h),E.nodeType===3&&(d+=E.nodeValue.length),(x=E.firstChild)!==null;)g=E,E=x;for(;;){if(E===a)break t;if(g===u&&++m===o&&(p=d),g===f&&++y===h&&(v=d),(x=E.nextSibling)!==null)break;E=g,g=E.parentNode}E=x}u=p===-1||v===-1?null:{start:p,end:v}}else u=null;u=u||{start:0,end:0}}else u=null;qp={focusedElem:a,selectionRange:u},bh=!1,Hu=null,Ah=!1,_e=n;do try{aF()}catch(M){if(_e===null)throw Error(ne(330));oo(_e,M),_e=_e.nextEffect}while(_e!==null);Hu=null,_e=n;do try{for(a=e;_e!==null;){var w=_e.flags;if(w&16&&Wu(_e.stateNode,""),w&128){var N=_e.alternate;if(N!==null){var O=N.ref;O!==null&&(typeof O=="function"?O(null):O.current=null)}}switch(w&1038){case 2:Ax(_e),_e.flags&=-3;break;case 6:Ax(_e),_e.flags&=-3,rv(_e.alternate,_e);break;case 1024:_e.flags&=-1025;break;case 1028:_e.flags&=-1025,rv(_e.alternate,_e);break;case 4:rv(_e.alternate,_e);break;case 8:u=_e,uS(a,u);var R=u.alternate;Nx(u),R!==null&&Nx(R)}_e=_e.nextEffect}}catch(M){if(_e===null)throw Error(ne(330));oo(_e,M),_e=_e.nextEffect}while(_e!==null);if(O=qp,N=j1(),w=O.focusedElem,a=O.selectionRange,N!==w&&w&&w.ownerDocument&&Cb(w.ownerDocument.documentElement,w)){for(a!==null&&h_(w)&&(N=a.start,O=a.end,O===void 0&&(O=N),"selectionStart"in w?(w.selectionStart=N,w.selectionEnd=Math.min(O,w.value.length)):(O=(N=w.ownerDocument||document)&&N.defaultView||window,O.getSelection&&(O=O.getSelection(),u=w.textContent.length,R=Math.min(a.start,u),a=a.end===void 0?R:Math.min(a.end,u),!O.extend&&R>a&&(u=a,a=R,R=u),u=W1(w,R),o=W1(w,a),u&&o&&(O.rangeCount!==1||O.anchorNode!==u.node||O.anchorOffset!==u.offset||O.focusNode!==o.node||O.focusOffset!==o.offset)&&(N=N.createRange(),N.setStart(u.node,u.offset),O.removeAllRanges(),R>a?(O.addRange(N),O.extend(o.node,o.offset)):(N.setEnd(o.node,o.offset),O.addRange(N)))))),N=[],O=w;O=O.parentNode;)O.nodeType===1&&N.push({element:O,left:O.scrollLeft,top:O.scrollTop});for(typeof w.focus=="function"&&w.focus(),w=0;w<N.length;w++)O=N[w],O.element.scrollLeft=O.left,O.element.scrollTop=O.top}bh=!!Yp,qp=Yp=null,e.current=r,_e=n;do try{for(w=e;_e!==null;){var I=_e.flags;if(I&36&&QL(w,_e.alternate,_e),I&128){N=void 0;var B=_e.ref;if(B!==null){var z=_e.stateNode;switch(_e.tag){case 5:N=z;break;default:N=z}typeof B=="function"?B(N):B.current=N}}_e=_e.nextEffect}}catch(M){if(_e===null)throw Error(ne(330));oo(_e,M),_e=_e.nextEffect}while(_e!==null);_e=null,HL(),Fe=i}else e.current=r;if(fo)fo=!1,Du=e,Ru=t;else for(_e=n;_e!==null;)t=_e.nextEffect,_e.nextEffect=null,_e.flags&8&&(I=_e,I.sibling=null,I.stateNode=null),_e=t;if(n=e.pendingLanes,n===0&&(zn=null),n===1?e===F_?Gu++:(Gu=0,F_=e):Gu=0,r=r.stateNode,$o&&typeof $o.onCommitFiberRoot=="function")try{$o.onCommitFiberRoot(fg,r,void 0,(r.current.flags&64)===64)}catch{}if(vn(e,mr()),uc)throw uc=!1,e=A_,A_=null,e;return(Fe&8)!==0||Kn(),null}function aF(){for(;_e!==null;){var e=_e.alternate;Ah||Hu===null||((_e.flags&8)!==0?A1(_e,Hu)&&(Ah=!0):_e.tag===13&&eF(e,_e)&&A1(_e,Hu)&&(Ah=!0));var t=_e.flags;(t&256)!==0&&JL(e,_e),(t&512)===0||fo||(fo=!0,Qu(97,function(){return vo(),null})),_e=_e.nextEffect}}function vo(){if(Ru!==90){var e=97<Ru?97:Ru;return Ru=90,Zo(e,uF)}return!1}function sF(e,t){O_.push(t,e),fo||(fo=!0,Qu(97,function(){return vo(),null}))}function _S(e,t){L_.push(t,e),fo||(fo=!0,Qu(97,function(){return vo(),null}))}function uF(){if(Du===null)return!1;var e=Du;if(Du=null,(Fe&48)!==0)throw Error(ne(331));var t=Fe;Fe|=32;var r=L_;L_=[];for(var n=0;n<r.length;n+=2){var i=r[n],o=r[n+1],a=i.destroy;if(i.destroy=void 0,typeof a=="function")try{a()}catch(f){if(o===null)throw Error(ne(330));oo(o,f)}}for(r=O_,O_=[],n=0;n<r.length;n+=2){i=r[n],o=r[n+1];try{var u=i.create;i.destroy=u()}catch(f){if(o===null)throw Error(ne(330));oo(o,f)}}for(u=e.current.firstEffect;u!==null;)e=u.nextEffect,u.nextEffect=null,u.flags&8&&(u.sibling=null,u.stateNode=null),u=e;return Fe=t,Kn(),!0}function Lx(e,t,r){t=Eg(r,t),t=aS(e,t,1),ro(e,t),t=Zr(),e=Fc(e,1),e!==null&&(Cc(e,1,t),vn(e,t))}function oo(e,t){if(e.tag===3)Lx(e,e,t);else for(var r=e.return;r!==null;){if(r.tag===3){Lx(r,e,t);break}else if(r.tag===1){var n=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(zn===null||!zn.has(n))){e=Eg(t,e);var i=sS(r,e,1);if(ro(r,i),i=Zr(),r=Fc(r,1),r!==null)Cc(r,1,i),vn(r,i);else if(typeof n.componentDidCatch=="function"&&(zn===null||!zn.has(n)))try{n.componentDidCatch(t,e)}catch{}break}}r=r.return}}function lF(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=Zr(),e.pingedLanes|=e.suspendedLanes&r,br===e&&(gr&r)===r&&(ur===4||ur===3&&(gr&62914560)===gr&&500>mr()-Sg?us(e,0):bg|=r),vn(e,t)}function fF(e,t){var r=e.stateNode;r!==null&&r.delete(t),t=0,t===0&&(t=e.mode,(t&2)===0?t=1:(t&4)===0?t=_s()===99?1:2:(di===0&&(di=Ns),t=Ha(62914560&~di),t===0&&(t=4194304))),r=Zr(),e=Fc(e,t),e!==null&&(Cc(e,t,r),vn(e,r))}var mS;mS=function(e,t,r){var n=t.lanes;if(e!==null)if(e.memoizedProps!==t.pendingProps||Br.current)Nn=!0;else if((r&n)!==0)Nn=(e.flags&16384)!==0;else{switch(Nn=!1,t.tag){case 3:yx(t),Qp();break;case 5:fx(t);break;case 1:Mr(t.type)&&Ih(t);break;case 4:y_(t,t.stateNode.containerInfo);break;case 10:n=t.memoizedProps.value;var i=t.type._context;kt(Kh,i._currentValue),i._currentValue=n;break;case 13:if(t.memoizedState!==null)return(r&t.child.childLanes)!==0?xx(e,t,r):(kt(Ut,Ut.current&1),t=mi(e,t,r),t!==null?t.sibling:null);kt(Ut,Ut.current&1);break;case 19:if(n=(r&t.childLanes)!==0,(e.flags&64)!==0){if(n)return Sx(e,t,r);t.flags|=64}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),kt(Ut,Ut.current),n)break;return null;case 23:case 24:return t.lanes=0,ev(e,t,r)}return mi(e,t,r)}else Nn=!1;switch(t.lanes=0,t.tag){case 2:if(n=t.type,e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=vs(t,yr.current),os(t,r),i=gg(null,t,n,e,i,r),t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,Mr(n)){var o=!0;Ih(t)}else o=!1;t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,pg(t);var a=n.getDerivedStateFromProps;typeof a=="function"&&Qh(t,n,a,e),i.updater=Oc,t.stateNode=i,i._reactInternals=t,g_(t,n,e,r),t=w_(null,t,n,!0,o,r)}else t.tag=0,Ur(null,t,i,r),t=t.child;return t;case 16:i=t.elementType;e:{switch(e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,o=i._init,i=o(i._payload),t.type=i,o=t.tag=cF(i),e=Rn(i,e),o){case 0:t=E_(null,t,i,e,r);break e;case 1:t=gx(null,t,i,e,r);break e;case 11:t=_x(null,t,i,e,r);break e;case 14:t=mx(null,t,i,Rn(i.type,e),n,r);break e}throw Error(ne(306,i,""))}return t;case 0:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Rn(n,i),E_(e,t,n,i,r);case 1:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Rn(n,i),gx(e,t,n,i,r);case 3:if(yx(t),n=t.updateQueue,e===null||n===null)throw Error(ne(282));if(n=t.pendingProps,i=t.memoizedState,i=i!==null?i.element:null,Xb(e,t),el(t,n,null,r),n=t.memoizedState.element,n===i)Qp(),t=mi(e,t,r);else{if(i=t.stateNode,(o=i.hydrate)&&(qi=is(t.stateNode.containerInfo.firstChild),_i=t,o=$n=!0),o){if(e=i.mutableSourceEagerHydrationData,e!=null)for(i=0;i<e.length;i+=2)o=e[i],o._workInProgressVersionPrimary=e[i+1],as.push(o);for(r=jb(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|1024,r=r.sibling}else Ur(e,t,n,r),Qp();t=t.child}return t;case 5:return fx(t),e===null&&x_(t),n=t.type,i=t.pendingProps,o=e!==null?e.memoizedProps:null,a=i.children,p_(n,i)?a=null:o!==null&&p_(n,o)&&(t.flags|=16),rS(e,t),Ur(e,t,a,r),t.child;case 6:return e===null&&x_(t),null;case 13:return xx(e,t,r);case 4:return y_(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=ec(t,null,n,r):Ur(e,t,n,r),t.child;case 11:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Rn(n,i),_x(e,t,n,i,r);case 7:return Ur(e,t,t.pendingProps,r),t.child;case 8:return Ur(e,t,t.pendingProps.children,r),t.child;case 12:return Ur(e,t,t.pendingProps.children,r),t.child;case 10:e:{n=t.type._context,i=t.pendingProps,a=t.memoizedProps,o=i.value;var u=t.type._context;if(kt(Kh,u._currentValue),u._currentValue=o,a!==null)if(u=a.value,o=hn(u,o)?0:(typeof n._calculateChangedBits=="function"?n._calculateChangedBits(u,o):1073741823)|0,o===0){if(a.children===i.children&&!Br.current){t=mi(e,t,r);break e}}else for(u=t.child,u!==null&&(u.return=t);u!==null;){var f=u.dependencies;if(f!==null){a=u.child;for(var h=f.firstContext;h!==null;){if(h.context===n&&(h.observedBits&o)!==0){u.tag===1&&(h=to(-1,r&-r),h.tag=2,ro(u,h)),u.lanes|=r,h=u.alternate,h!==null&&(h.lanes|=r),Hb(u.return,r),f.lanes|=r;break}h=h.next}}else a=u.tag===10&&u.type===t.type?null:u.child;if(a!==null)a.return=u;else for(a=u;a!==null;){if(a===t){a=null;break}if(u=a.sibling,u!==null){u.return=a.return,a=u;break}a=a.return}u=a}Ur(e,t,i.children,r),t=t.child}return t;case 9:return i=t.type,o=t.pendingProps,n=o.children,os(t,r),i=pn(i,o.unstable_observedBits),n=n(i),t.flags|=1,Ur(e,t,n,r),t.child;case 14:return i=t.type,o=Rn(i,t.pendingProps),o=Rn(i.type,o),mx(e,t,i,o,n,r);case 15:return tS(e,t,t.type,t.pendingProps,n,r);case 17:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Rn(n,i),e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,Mr(n)?(e=!0,Ih(t)):e=!1,os(t,r),Vb(t,n,i),g_(t,n,i,r),w_(null,t,n,!0,e,r);case 19:return Sx(e,t,r);case 23:return ev(e,t,r);case 24:return ev(e,t,r)}throw Error(ne(156,t.tag))};function hF(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function cn(e,t,r,n){return new hF(e,t,r,n)}function Ig(e){return e=e.prototype,!(!e||!e.isReactComponent)}function cF(e){if(typeof e=="function")return Ig(e)?1:0;if(e!=null){if(e=e.$$typeof,e===wc)return 11;if(e===bc)return 14}return 2}function ho(e,t){var r=e.alternate;return r===null?(r=cn(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.nextEffect=null,r.firstEffect=null,r.lastEffect=null),r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Oh(e,t,r,n,i,o){var a=2;if(n=e,typeof e=="function")Ig(e)&&(a=1);else if(typeof e=="string")a=5;else e:switch(e){case ji:return ls(r.children,i,o,t);case $w:a=8,i|=16;break;case zm:a=8,i|=1;break;case Pu:return e=cn(12,r,t,i|8),e.elementType=Pu,e.type=Pu,e.lanes=o,e;case Au:return e=cn(13,r,t,i),e.type=Au,e.elementType=Au,e.lanes=o,e;case Hh:return e=cn(19,r,t,i),e.elementType=Hh,e.lanes=o,e;case qm:return Rg(r,i,o,t);case Kv:return e=cn(24,r,t,i),e.elementType=Kv,e.lanes=o,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Vm:a=10;break e;case Wm:a=9;break e;case wc:a=11;break e;case bc:a=14;break e;case jm:a=16,n=null;break e;case $m:a=22;break e}throw Error(ne(130,e==null?e:typeof e,""))}return t=cn(a,r,t,i),t.elementType=e,t.type=n,t.lanes=o,t}function ls(e,t,r,n){return e=cn(7,e,n,t),e.lanes=r,e}function Rg(e,t,r,n){return e=cn(23,e,n,t),e.elementType=qm,e.lanes=r,e}function nv(e,t,r){return e=cn(6,e,null,t),e.lanes=r,e}function iv(e,t,r){return t=cn(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function dF(e,t,r){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=r,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=Hp(0),this.expirationTimes=Hp(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Hp(0),this.mutableSourceEagerHydrationData=null}function pF(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Xo,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function lc(e,t,r,n){var i=t.current,o=Zr(),a=no(i);e:if(r){r=r._reactInternals;t:{if(ia(r)!==r||r.tag!==1)throw Error(ne(170));var u=r;do{switch(u.tag){case 3:u=u.stateNode.context;break t;case 1:if(Mr(u.type)){u=u.stateNode.__reactInternalMemoizedMergedChildContext;break t}}u=u.return}while(u!==null);throw Error(ne(171))}if(r.tag===1){var f=r.type;if(Mr(f)){r=Fb(r,f,u);break e}}r=u}else r=lo;return t.context===null?t.context=r:t.pendingContext=r,t=to(o,a),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),ro(i,t),io(i,a,o),a}function ov(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Fx(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function Ng(e,t){Fx(e,t),(e=e.alternate)&&Fx(e,t)}function vF(){return null}function Pg(e,t,r){var n=r!=null&&r.hydrationOptions!=null&&r.hydrationOptions.mutableSources||null;if(r=new dF(e,t,r!=null&&r.hydrate===!0),t=cn(3,null,null,t===2?7:t===1?3:0),r.current=t,t.stateNode=r,pg(t),e[Rs]=r.current,Nb(e.nodeType===8?e.parentNode:e),n)for(e=0;e<n.length;e++){t=n[e];var i=t._getVersion;i=i(t._source),r.mutableSourceEagerHydrationData==null?r.mutableSourceEagerHydrationData=[t,i]:r.mutableSourceEagerHydrationData.push(t,i)}this._internalRoot=r}Pg.prototype.render=function(e){lc(e,this._internalRoot,null,null)};Pg.prototype.unmount=function(){var e=this._internalRoot,t=e.containerInfo;lc(null,e,null,function(){t[Rs]=null})};function wl(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function _F(e,t){if(t||(t=e?e.nodeType===9?e.documentElement:e.firstChild:null,t=!(!t||t.nodeType!==1||!t.hasAttribute("data-reactroot"))),!t)for(var r;r=e.lastChild;)e.removeChild(r);return new Pg(e,0,t?{hydrate:!0}:void 0)}function Uc(e,t,r,n,i){var o=r._reactRootContainer;if(o){var a=o._internalRoot;if(typeof i=="function"){var u=i;i=function(){var h=ov(a);u.call(h)}}lc(t,a,e,i)}else{if(o=r._reactRootContainer=_F(r,n),a=o._internalRoot,typeof i=="function"){var f=i;i=function(){var h=ov(a);f.call(h)}}hS(function(){lc(t,a,e,i)})}return ov(a)}ub=function(e){if(e.tag===13){var t=Zr();io(e,4,t),Ng(e,4)}};eg=function(e){if(e.tag===13){var t=Zr();io(e,67108864,t),Ng(e,67108864)}};lb=function(e){if(e.tag===13){var t=Zr(),r=no(e);io(e,r,t),Ng(e,r)}};fb=function(e,t){return t()};a_=function(e,t,r){switch(t){case"input":if(Jv(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var i=Pc(n);if(!i)throw Error(ne(90));qw(n),Jv(n,i)}}}break;case"textarea":Zw(e,r);break;case"select":t=r.value,t!=null&&ts(e,!!r.multiple,t,!1)}};Zm=fS;ib=function(e,t,r,n,i){var o=Fe;Fe|=4;try{return Zo(98,e.bind(null,t,r,n,i))}finally{Fe=o,Fe===0&&(As(),Kn())}};Jm=function(){(Fe&49)===0&&(rF(),vo())};ob=function(e,t){var r=Fe;Fe|=2;try{return e(t)}finally{Fe=r,Fe===0&&(As(),Kn())}};function gS(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!wl(t))throw Error(ne(200));return pF(e,t,null,r)}var mF={Events:[xl,ja,Pc,rb,nb,vo,{current:!1}]},pu={findFiberByHostInstance:Vo,bundleType:0,version:"17.0.2",rendererPackageName:"react-dom"},gF={bundleType:pu.bundleType,version:pu.version,rendererPackageName:pu.rendererPackageName,rendererConfig:pu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:na.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=sb(e),e===null?null:e.stateNode},findFiberByHostInstance:pu.findFiberByHostInstance||vF,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__!="undefined"){var jf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!jf.isDisabled&&jf.supportsFiber)try{fg=jf.inject(gF),$o=jf}catch{}}mn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=mF;mn.createPortal=gS;mn.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(ne(188)):Error(ne(268,Object.keys(e)));return e=sb(t),e=e===null?null:e.stateNode,e};mn.flushSync=function(e,t){var r=Fe;if((r&48)!==0)return e(t);Fe|=1;try{if(e)return Zo(99,e.bind(null,t))}finally{Fe=r,Kn()}};mn.hydrate=function(e,t,r){if(!wl(t))throw Error(ne(200));return Uc(null,e,t,!0,r)};mn.render=function(e,t,r){if(!wl(t))throw Error(ne(200));return Uc(null,e,t,!1,r)};mn.unmountComponentAtNode=function(e){if(!wl(e))throw Error(ne(40));return e._reactRootContainer?(hS(function(){Uc(null,null,e,!1,function(){e._reactRootContainer=null,e[Rs]=null})}),!0):!1};mn.unstable_batchedUpdates=fS;mn.unstable_createPortal=function(e,t){return gS(e,t,2<arguments.length&&arguments[2]!==void 0?arguments[2]:null)};mn.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!wl(r))throw Error(ne(200));if(e==null||e._reactInternals===void 0)throw Error(ne(38));return Uc(e,t,r,!1,n)};mn.version="17.0.2";function yS(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__=="undefined"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(yS)}catch(e){console.error(e)}}yS(),zw.exports=mn;var gs=zw.exports;var Xu={},kc={};Object.defineProperty(kc,"__esModule",{value:!0});class yF{constructor(t){this.state=t,this.subscribers=new Set,this.initialized=!1}notify(){for(const t of this.subscribers)t()}}kc.Container=yF;var Ag={};Object.defineProperty(Ag,"__esModule",{value:!0});const Ux=It.exports;Ag.Executor=Ux.memo(function(t){var r;const n=(r=t.args)!==null&&r!==void 0?r:[],i=t.useStore(...n);return t.container.state=i,t.container.initialized=!0,Ux.useEffect(()=>{t.onChange(i),t.container.notify()}),null},(e,t)=>t.memo?xF(e.args,t.args):!1);function xF(e,t){return e===t?!0:e.length!==t.length?!1:e.every((r,n)=>r===t[n])}var Og={};(function(e){var t=tr&&tr.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(e,"__esModule",{value:!0});const r=t(It.exports),n=kc;e.defaultStoreValue=Symbol();function i(o){return o.Context||(o.Context=r.default.createContext(new n.Container(e.defaultStoreValue))),o.Context}e.getStoreContext=i})(Og);(function(e){var t=tr&&tr.__importStar||function(f){if(f&&f.__esModule)return f;var h={};if(f!=null)for(var d in f)Object.hasOwnProperty.call(f,d)&&(h[d]=f[d]);return h.default=f,h};Object.defineProperty(e,"__esModule",{value:!0});const r=t(It.exports),n=It.exports,i=kc,o=Ag,a=Og;e.Provider=function(f){const h=a.getStoreContext(f.of),d=n.useRef();d.current||(d.current=new i.Container);const p=d.current,v=n.useRef();function m(y){f.storeRef&&(typeof f.storeRef=="function"?f.storeRef(y):f.storeRef.current=y),v.current.onInitialize()}return r.createElement(r.Fragment,null,r.createElement(o.Executor,{useStore:f.of,args:f.args,onChange:m,memo:f.memo,container:p}),r.createElement(h.Provider,{value:p},r.createElement(u,{container:p,ref:v},f.children)))},e.Provider.displayName="Provider",e.Provider.defaultProps={args:[]};const u=n.forwardRef((f,h)=>{const[d,p]=n.useState(f.container.initialized);return n.useImperativeHandle(h,()=>({onInitialize:()=>{p(!0)}})),d&&r.createElement(r.Fragment,null,f.children)});u.displayName="Checker"})(Xu);var il={exports:{}};/*!
    localForage -- Offline Storage, Improved
    Version 1.10.0
    https://localforage.github.io/localForage
    (c) 2013-2017 Mozilla, Apache License 2.0
*/(function(e,t){(function(r){e.exports=r()})(function(){return function r(n,i,o){function a(h,d){if(!i[h]){if(!n[h]){var p=typeof Ff=="function"&&Ff;if(!d&&p)return p(h,!0);if(u)return u(h,!0);var v=new Error("Cannot find module '"+h+"'");throw v.code="MODULE_NOT_FOUND",v}var m=i[h]={exports:{}};n[h][0].call(m.exports,function(y){var E=n[h][1][y];return a(E||y)},m,m.exports,r,n,i,o)}return i[h].exports}for(var u=typeof Ff=="function"&&Ff,f=0;f<o.length;f++)a(o[f]);return a}({1:[function(r,n,i){(function(o){var a=o.MutationObserver||o.WebKitMutationObserver,u;if(a){var f=0,h=new a(y),d=o.document.createTextNode("");h.observe(d,{characterData:!0}),u=function(){d.data=f=++f%2}}else if(!o.setImmediate&&typeof o.MessageChannel!="undefined"){var p=new o.MessageChannel;p.port1.onmessage=y,u=function(){p.port2.postMessage(0)}}else"document"in o&&"onreadystatechange"in o.document.createElement("script")?u=function(){var g=o.document.createElement("script");g.onreadystatechange=function(){y(),g.onreadystatechange=null,g.parentNode.removeChild(g),g=null},o.document.documentElement.appendChild(g)}:u=function(){setTimeout(y,0)};var v,m=[];function y(){v=!0;for(var g,x,w=m.length;w;){for(x=m,m=[],g=-1;++g<w;)x[g]();w=m.length}v=!1}n.exports=E;function E(g){m.push(g)===1&&!v&&u()}}).call(this,typeof tr!="undefined"?tr:typeof self!="undefined"?self:typeof window!="undefined"?window:{})},{}],2:[function(r,n,i){var o=r(1);function a(){}var u={},f=["REJECTED"],h=["FULFILLED"],d=["PENDING"];n.exports=p;function p(R){if(typeof R!="function")throw new TypeError("resolver must be a function");this.state=d,this.queue=[],this.outcome=void 0,R!==a&&E(this,R)}p.prototype.catch=function(R){return this.then(null,R)},p.prototype.then=function(R,I){if(typeof R!="function"&&this.state===h||typeof I!="function"&&this.state===f)return this;var B=new this.constructor(a);if(this.state!==d){var z=this.state===h?R:I;m(B,z,this.outcome)}else this.queue.push(new v(B,R,I));return B};function v(R,I,B){this.promise=R,typeof I=="function"&&(this.onFulfilled=I,this.callFulfilled=this.otherCallFulfilled),typeof B=="function"&&(this.onRejected=B,this.callRejected=this.otherCallRejected)}v.prototype.callFulfilled=function(R){u.resolve(this.promise,R)},v.prototype.otherCallFulfilled=function(R){m(this.promise,this.onFulfilled,R)},v.prototype.callRejected=function(R){u.reject(this.promise,R)},v.prototype.otherCallRejected=function(R){m(this.promise,this.onRejected,R)};function m(R,I,B){o(function(){var z;try{z=I(B)}catch(M){return u.reject(R,M)}z===R?u.reject(R,new TypeError("Cannot resolve promise with itself")):u.resolve(R,z)})}u.resolve=function(R,I){var B=g(y,I);if(B.status==="error")return u.reject(R,B.value);var z=B.value;if(z)E(R,z);else{R.state=h,R.outcome=I;for(var M=-1,$=R.queue.length;++M<$;)R.queue[M].callFulfilled(I)}return R},u.reject=function(R,I){R.state=f,R.outcome=I;for(var B=-1,z=R.queue.length;++B<z;)R.queue[B].callRejected(I);return R};function y(R){var I=R&&R.then;if(R&&(typeof R=="object"||typeof R=="function")&&typeof I=="function")return function(){I.apply(R,arguments)}}function E(R,I){var B=!1;function z(ae){B||(B=!0,u.reject(R,ae))}function M(ae){B||(B=!0,u.resolve(R,ae))}function $(){I(M,z)}var de=g($);de.status==="error"&&z(de.value)}function g(R,I){var B={};try{B.value=R(I),B.status="success"}catch(z){B.status="error",B.value=z}return B}p.resolve=x;function x(R){return R instanceof this?R:u.resolve(new this(a),R)}p.reject=w;function w(R){var I=new this(a);return u.reject(I,R)}p.all=N;function N(R){var I=this;if(Object.prototype.toString.call(R)!=="[object Array]")return this.reject(new TypeError("must be an array"));var B=R.length,z=!1;if(!B)return this.resolve([]);for(var M=new Array(B),$=0,de=-1,ae=new this(a);++de<B;)pe(R[de],de);return ae;function pe(We,le){I.resolve(We).then(fe,function(ye){z||(z=!0,u.reject(ae,ye))});function fe(ye){M[le]=ye,++$===B&&!z&&(z=!0,u.resolve(ae,M))}}}p.race=O;function O(R){var I=this;if(Object.prototype.toString.call(R)!=="[object Array]")return this.reject(new TypeError("must be an array"));var B=R.length,z=!1;if(!B)return this.resolve([]);for(var M=-1,$=new this(a);++M<B;)de(R[M]);return $;function de(ae){I.resolve(ae).then(function(pe){z||(z=!0,u.resolve($,pe))},function(pe){z||(z=!0,u.reject($,pe))})}}},{"1":1}],3:[function(r,n,i){(function(o){typeof o.Promise!="function"&&(o.Promise=r(2))}).call(this,typeof tr!="undefined"?tr:typeof self!="undefined"?self:typeof window!="undefined"?window:{})},{"2":2}],4:[function(r,n,i){var o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(S){return typeof S}:function(S){return S&&typeof Symbol=="function"&&S.constructor===Symbol&&S!==Symbol.prototype?"symbol":typeof S};function a(S,L){if(!(S instanceof L))throw new TypeError("Cannot call a class as a function")}function u(){try{if(typeof indexedDB!="undefined")return indexedDB;if(typeof webkitIndexedDB!="undefined")return webkitIndexedDB;if(typeof mozIndexedDB!="undefined")return mozIndexedDB;if(typeof OIndexedDB!="undefined")return OIndexedDB;if(typeof msIndexedDB!="undefined")return msIndexedDB}catch{return}}var f=u();function h(){try{if(!f||!f.open)return!1;var S=typeof openDatabase!="undefined"&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),L=typeof fetch=="function"&&fetch.toString().indexOf("[native code")!==-1;return(!S||L)&&typeof indexedDB!="undefined"&&typeof IDBKeyRange!="undefined"}catch{return!1}}function d(S,L){S=S||[],L=L||{};try{return new Blob(S,L)}catch(U){if(U.name!=="TypeError")throw U;for(var P=typeof BlobBuilder!="undefined"?BlobBuilder:typeof MSBlobBuilder!="undefined"?MSBlobBuilder:typeof MozBlobBuilder!="undefined"?MozBlobBuilder:WebKitBlobBuilder,k=new P,H=0;H<S.length;H+=1)k.append(S[H]);return k.getBlob(L.type)}}typeof Promise=="undefined"&&r(3);var p=Promise;function v(S,L){L&&S.then(function(P){L(null,P)},function(P){L(P)})}function m(S,L,P){typeof L=="function"&&S.then(L),typeof P=="function"&&S.catch(P)}function y(S){return typeof S!="string"&&(console.warn(S+" used as a key, but it is not a string."),S=String(S)),S}function E(){if(arguments.length&&typeof arguments[arguments.length-1]=="function")return arguments[arguments.length-1]}var g="local-forage-detect-blob-support",x=void 0,w={},N=Object.prototype.toString,O="readonly",R="readwrite";function I(S){for(var L=S.length,P=new ArrayBuffer(L),k=new Uint8Array(P),H=0;H<L;H++)k[H]=S.charCodeAt(H);return P}function B(S){return new p(function(L){var P=S.transaction(g,R),k=d([""]);P.objectStore(g).put(k,"key"),P.onabort=function(H){H.preventDefault(),H.stopPropagation(),L(!1)},P.oncomplete=function(){var H=navigator.userAgent.match(/Chrome\/(\d+)/),U=navigator.userAgent.match(/Edge\//);L(U||!H||parseInt(H[1],10)>=43)}}).catch(function(){return!1})}function z(S){return typeof x=="boolean"?p.resolve(x):B(S).then(function(L){return x=L,x})}function M(S){var L=w[S.name],P={};P.promise=new p(function(k,H){P.resolve=k,P.reject=H}),L.deferredOperations.push(P),L.dbReady?L.dbReady=L.dbReady.then(function(){return P.promise}):L.dbReady=P.promise}function $(S){var L=w[S.name],P=L.deferredOperations.pop();if(P)return P.resolve(),P.promise}function de(S,L){var P=w[S.name],k=P.deferredOperations.pop();if(k)return k.reject(L),k.promise}function ae(S,L){return new p(function(P,k){if(w[S.name]=w[S.name]||re(),S.db)if(L)M(S),S.db.close();else return P(S.db);var H=[S.name];L&&H.push(S.version);var U=f.open.apply(f,H);L&&(U.onupgradeneeded=function(Y){var Q=U.result;try{Q.createObjectStore(S.storeName),Y.oldVersion<=1&&Q.createObjectStore(g)}catch(ee){if(ee.name==="ConstraintError")console.warn('The database "'+S.name+'" has been upgraded from version '+Y.oldVersion+" to version "+Y.newVersion+', but the storage "'+S.storeName+'" already exists.');else throw ee}}),U.onerror=function(Y){Y.preventDefault(),k(U.error)},U.onsuccess=function(){var Y=U.result;Y.onversionchange=function(Q){Q.target.close()},P(Y),$(S)}})}function pe(S){return ae(S,!1)}function We(S){return ae(S,!0)}function le(S,L){if(!S.db)return!0;var P=!S.db.objectStoreNames.contains(S.storeName),k=S.version<S.db.version,H=S.version>S.db.version;if(k&&(S.version!==L&&console.warn('The database "'+S.name+`" can't be downgraded from version `+S.db.version+" to version "+S.version+"."),S.version=S.db.version),H||P){if(P){var U=S.db.version+1;U>S.version&&(S.version=U)}return!0}return!1}function fe(S){return new p(function(L,P){var k=new FileReader;k.onerror=P,k.onloadend=function(H){var U=btoa(H.target.result||"");L({__local_forage_encoded_blob:!0,data:U,type:S.type})},k.readAsBinaryString(S)})}function ye(S){var L=I(atob(S.data));return d([L],{type:S.type})}function Oe(S){return S&&S.__local_forage_encoded_blob}function ht(S){var L=this,P=L._initReady().then(function(){var k=w[L._dbInfo.name];if(k&&k.dbReady)return k.dbReady});return m(P,S,S),P}function Z(S){M(S);for(var L=w[S.name],P=L.forages,k=0;k<P.length;k++){var H=P[k];H._dbInfo.db&&(H._dbInfo.db.close(),H._dbInfo.db=null)}return S.db=null,pe(S).then(function(U){return S.db=U,le(S)?We(S):U}).then(function(U){S.db=L.db=U;for(var Y=0;Y<P.length;Y++)P[Y]._dbInfo.db=U}).catch(function(U){throw de(S,U),U})}function V(S,L,P,k){k===void 0&&(k=1);try{var H=S.db.transaction(S.storeName,L);P(null,H)}catch(U){if(k>0&&(!S.db||U.name==="InvalidStateError"||U.name==="NotFoundError"))return p.resolve().then(function(){if(!S.db||U.name==="NotFoundError"&&!S.db.objectStoreNames.contains(S.storeName)&&S.version<=S.db.version)return S.db&&(S.version=S.db.version+1),We(S)}).then(function(){return Z(S).then(function(){V(S,L,P,k-1)})}).catch(P);P(U)}}function re(){return{forages:[],db:null,dbReady:null,deferredOperations:[]}}function he(S){var L=this,P={db:null};if(S)for(var k in S)P[k]=S[k];var H=w[P.name];H||(H=re(),w[P.name]=H),H.forages.push(L),L._initReady||(L._initReady=L.ready,L.ready=ht);var U=[];function Y(){return p.resolve()}for(var Q=0;Q<H.forages.length;Q++){var ee=H.forages[Q];ee!==L&&U.push(ee._initReady().catch(Y))}var te=H.forages.slice(0);return p.all(U).then(function(){return P.db=H.db,pe(P)}).then(function(ie){return P.db=ie,le(P,L._defaultConfig.version)?We(P):ie}).then(function(ie){P.db=H.db=ie,L._dbInfo=P;for(var me=0;me<te.length;me++){var Ge=te[me];Ge!==L&&(Ge._dbInfo.db=P.db,Ge._dbInfo.version=P.version)}})}function Ee(S,L){var P=this;S=y(S);var k=new p(function(H,U){P.ready().then(function(){V(P._dbInfo,O,function(Y,Q){if(Y)return U(Y);try{var ee=Q.objectStore(P._dbInfo.storeName),te=ee.get(S);te.onsuccess=function(){var ie=te.result;ie===void 0&&(ie=null),Oe(ie)&&(ie=ye(ie)),H(ie)},te.onerror=function(){U(te.error)}}catch(ie){U(ie)}})}).catch(U)});return v(k,L),k}function Ae(S,L){var P=this,k=new p(function(H,U){P.ready().then(function(){V(P._dbInfo,O,function(Y,Q){if(Y)return U(Y);try{var ee=Q.objectStore(P._dbInfo.storeName),te=ee.openCursor(),ie=1;te.onsuccess=function(){var me=te.result;if(me){var Ge=me.value;Oe(Ge)&&(Ge=ye(Ge));var tt=S(Ge,me.key,ie++);tt!==void 0?H(tt):me.continue()}else H()},te.onerror=function(){U(te.error)}}catch(me){U(me)}})}).catch(U)});return v(k,L),k}function ke(S,L,P){var k=this;S=y(S);var H=new p(function(U,Y){var Q;k.ready().then(function(){return Q=k._dbInfo,N.call(L)==="[object Blob]"?z(Q.db).then(function(ee){return ee?L:fe(L)}):L}).then(function(ee){V(k._dbInfo,R,function(te,ie){if(te)return Y(te);try{var me=ie.objectStore(k._dbInfo.storeName);ee===null&&(ee=void 0);var Ge=me.put(ee,S);ie.oncomplete=function(){ee===void 0&&(ee=null),U(ee)},ie.onabort=ie.onerror=function(){var tt=Ge.error?Ge.error:Ge.transaction.error;Y(tt)}}catch(tt){Y(tt)}})}).catch(Y)});return v(H,P),H}function ot(S,L){var P=this;S=y(S);var k=new p(function(H,U){P.ready().then(function(){V(P._dbInfo,R,function(Y,Q){if(Y)return U(Y);try{var ee=Q.objectStore(P._dbInfo.storeName),te=ee.delete(S);Q.oncomplete=function(){H()},Q.onerror=function(){U(te.error)},Q.onabort=function(){var ie=te.error?te.error:te.transaction.error;U(ie)}}catch(ie){U(ie)}})}).catch(U)});return v(k,L),k}function at(S){var L=this,P=new p(function(k,H){L.ready().then(function(){V(L._dbInfo,R,function(U,Y){if(U)return H(U);try{var Q=Y.objectStore(L._dbInfo.storeName),ee=Q.clear();Y.oncomplete=function(){k()},Y.onabort=Y.onerror=function(){var te=ee.error?ee.error:ee.transaction.error;H(te)}}catch(te){H(te)}})}).catch(H)});return v(P,S),P}function je(S){var L=this,P=new p(function(k,H){L.ready().then(function(){V(L._dbInfo,O,function(U,Y){if(U)return H(U);try{var Q=Y.objectStore(L._dbInfo.storeName),ee=Q.count();ee.onsuccess=function(){k(ee.result)},ee.onerror=function(){H(ee.error)}}catch(te){H(te)}})}).catch(H)});return v(P,S),P}function yt(S,L){var P=this,k=new p(function(H,U){if(S<0){H(null);return}P.ready().then(function(){V(P._dbInfo,O,function(Y,Q){if(Y)return U(Y);try{var ee=Q.objectStore(P._dbInfo.storeName),te=!1,ie=ee.openKeyCursor();ie.onsuccess=function(){var me=ie.result;if(!me){H(null);return}S===0||te?H(me.key):(te=!0,me.advance(S))},ie.onerror=function(){U(ie.error)}}catch(me){U(me)}})}).catch(U)});return v(k,L),k}function Ye(S){var L=this,P=new p(function(k,H){L.ready().then(function(){V(L._dbInfo,O,function(U,Y){if(U)return H(U);try{var Q=Y.objectStore(L._dbInfo.storeName),ee=Q.openKeyCursor(),te=[];ee.onsuccess=function(){var ie=ee.result;if(!ie){k(te);return}te.push(ie.key),ie.continue()},ee.onerror=function(){H(ee.error)}}catch(ie){H(ie)}})}).catch(H)});return v(P,S),P}function st(S,L){L=E.apply(this,arguments);var P=this.config();S=typeof S!="function"&&S||{},S.name||(S.name=S.name||P.name,S.storeName=S.storeName||P.storeName);var k=this,H;if(!S.name)H=p.reject("Invalid arguments");else{var U=S.name===P.name&&k._dbInfo.db,Y=U?p.resolve(k._dbInfo.db):pe(S).then(function(Q){var ee=w[S.name],te=ee.forages;ee.db=Q;for(var ie=0;ie<te.length;ie++)te[ie]._dbInfo.db=Q;return Q});S.storeName?H=Y.then(function(Q){if(!!Q.objectStoreNames.contains(S.storeName)){var ee=Q.version+1;M(S);var te=w[S.name],ie=te.forages;Q.close();for(var me=0;me<ie.length;me++){var Ge=ie[me];Ge._dbInfo.db=null,Ge._dbInfo.version=ee}var tt=new p(function(rt,St){var dt=f.open(S.name,ee);dt.onerror=function(xr){var Oi=dt.result;Oi.close(),St(xr)},dt.onupgradeneeded=function(){var xr=dt.result;xr.deleteObjectStore(S.storeName)},dt.onsuccess=function(){var xr=dt.result;xr.close(),rt(xr)}});return tt.then(function(rt){te.db=rt;for(var St=0;St<ie.length;St++){var dt=ie[St];dt._dbInfo.db=rt,$(dt._dbInfo)}}).catch(function(rt){throw(de(S,rt)||p.resolve()).catch(function(){}),rt})}}):H=Y.then(function(Q){M(S);var ee=w[S.name],te=ee.forages;Q.close();for(var ie=0;ie<te.length;ie++){var me=te[ie];me._dbInfo.db=null}var Ge=new p(function(tt,rt){var St=f.deleteDatabase(S.name);St.onerror=function(){var dt=St.result;dt&&dt.close(),rt(St.error)},St.onblocked=function(){console.warn('dropInstance blocked for database "'+S.name+'" until all open connections are closed')},St.onsuccess=function(){var dt=St.result;dt&&dt.close(),tt(dt)}});return Ge.then(function(tt){ee.db=tt;for(var rt=0;rt<te.length;rt++){var St=te[rt];$(St._dbInfo)}}).catch(function(tt){throw(de(S,tt)||p.resolve()).catch(function(){}),tt})})}return v(H,L),H}var Me={_driver:"asyncStorage",_initStorage:he,_support:h(),iterate:Ae,getItem:Ee,setItem:ke,removeItem:ot,clear:at,length:je,key:yt,keys:Ye,dropInstance:st};function lt(){return typeof openDatabase=="function"}var et="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Ve="~~local_forage_type~",Nt=/^~~local_forage_type~([^~]+)~/,Nr="__lfsc__:",Ln=Nr.length,en="arbf",Jt="blob",yn="si08",Fn="ui08",Ll="uic8",Ni="si16",Fl="si32",Pi="ur16",Qn="ui32",fa="fl32",ha="fl64",ca=Ln+en.length,da=Object.prototype.toString;function pa(S){var L=S.length*.75,P=S.length,k,H=0,U,Y,Q,ee;S[S.length-1]==="="&&(L--,S[S.length-2]==="="&&L--);var te=new ArrayBuffer(L),ie=new Uint8Array(te);for(k=0;k<P;k+=4)U=et.indexOf(S[k]),Y=et.indexOf(S[k+1]),Q=et.indexOf(S[k+2]),ee=et.indexOf(S[k+3]),ie[H++]=U<<2|Y>>4,ie[H++]=(Y&15)<<4|Q>>2,ie[H++]=(Q&3)<<6|ee&63;return te}function yo(S){var L=new Uint8Array(S),P="",k;for(k=0;k<L.length;k+=3)P+=et[L[k]>>2],P+=et[(L[k]&3)<<4|L[k+1]>>4],P+=et[(L[k+1]&15)<<2|L[k+2]>>6],P+=et[L[k+2]&63];return L.length%3===2?P=P.substring(0,P.length-1)+"=":L.length%3===1&&(P=P.substring(0,P.length-2)+"=="),P}function ks(S,L){var P="";if(S&&(P=da.call(S)),S&&(P==="[object ArrayBuffer]"||S.buffer&&da.call(S.buffer)==="[object ArrayBuffer]")){var k,H=Nr;S instanceof ArrayBuffer?(k=S,H+=en):(k=S.buffer,P==="[object Int8Array]"?H+=yn:P==="[object Uint8Array]"?H+=Fn:P==="[object Uint8ClampedArray]"?H+=Ll:P==="[object Int16Array]"?H+=Ni:P==="[object Uint16Array]"?H+=Pi:P==="[object Int32Array]"?H+=Fl:P==="[object Uint32Array]"?H+=Qn:P==="[object Float32Array]"?H+=fa:P==="[object Float64Array]"?H+=ha:L(new Error("Failed to get type for BinaryArray"))),L(H+yo(k))}else if(P==="[object Blob]"){var U=new FileReader;U.onload=function(){var Y=Ve+S.type+"~"+yo(this.result);L(Nr+Jt+Y)},U.readAsArrayBuffer(S)}else try{L(JSON.stringify(S))}catch(Y){console.error("Couldn't convert value into a JSON string: ",S),L(null,Y)}}function Bs(S){if(S.substring(0,Ln)!==Nr)return JSON.parse(S);var L=S.substring(ca),P=S.substring(Ln,ca),k;if(P===Jt&&Nt.test(L)){var H=L.match(Nt);k=H[1],L=L.substring(H[0].length)}var U=pa(L);switch(P){case en:return U;case Jt:return d([U],{type:k});case yn:return new Int8Array(U);case Fn:return new Uint8Array(U);case Ll:return new Uint8ClampedArray(U);case Ni:return new Int16Array(U);case Pi:return new Uint16Array(U);case Fl:return new Int32Array(U);case Qn:return new Uint32Array(U);case fa:return new Float32Array(U);case ha:return new Float64Array(U);default:throw new Error("Unkown type: "+P)}}var xo={serialize:ks,deserialize:Bs,stringToBuffer:pa,bufferToString:yo};function Ul(S,L,P,k){S.executeSql("CREATE TABLE IF NOT EXISTS "+L.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],P,k)}function nd(S){var L=this,P={db:null};if(S)for(var k in S)P[k]=typeof S[k]!="string"?S[k].toString():S[k];var H=new p(function(U,Y){try{P.db=openDatabase(P.name,String(P.version),P.description,P.size)}catch(Q){return Y(Q)}P.db.transaction(function(Q){Ul(Q,P,function(){L._dbInfo=P,U()},function(ee,te){Y(te)})},Y)});return P.serializer=xo,H}function Un(S,L,P,k,H,U){S.executeSql(P,k,H,function(Y,Q){Q.code===Q.SYNTAX_ERR?Y.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[L.storeName],function(ee,te){te.rows.length?U(ee,Q):Ul(ee,L,function(){ee.executeSql(P,k,H,U)},U)},U):U(Y,Q)},U)}function kl(S,L){var P=this;S=y(S);var k=new p(function(H,U){P.ready().then(function(){var Y=P._dbInfo;Y.db.transaction(function(Q){Un(Q,Y,"SELECT * FROM "+Y.storeName+" WHERE key = ? LIMIT 1",[S],function(ee,te){var ie=te.rows.length?te.rows.item(0).value:null;ie&&(ie=Y.serializer.deserialize(ie)),H(ie)},function(ee,te){U(te)})})}).catch(U)});return v(k,L),k}function Bl(S,L){var P=this,k=new p(function(H,U){P.ready().then(function(){var Y=P._dbInfo;Y.db.transaction(function(Q){Un(Q,Y,"SELECT * FROM "+Y.storeName,[],function(ee,te){for(var ie=te.rows,me=ie.length,Ge=0;Ge<me;Ge++){var tt=ie.item(Ge),rt=tt.value;if(rt&&(rt=Y.serializer.deserialize(rt)),rt=S(rt,tt.key,Ge+1),rt!==void 0){H(rt);return}}H()},function(ee,te){U(te)})})}).catch(U)});return v(k,L),k}function Ml(S,L,P,k){var H=this;S=y(S);var U=new p(function(Y,Q){H.ready().then(function(){L===void 0&&(L=null);var ee=L,te=H._dbInfo;te.serializer.serialize(L,function(ie,me){me?Q(me):te.db.transaction(function(Ge){Un(Ge,te,"INSERT OR REPLACE INTO "+te.storeName+" (key, value) VALUES (?, ?)",[S,ie],function(){Y(ee)},function(tt,rt){Q(rt)})},function(Ge){if(Ge.code===Ge.QUOTA_ERR){if(k>0){Y(Ml.apply(H,[S,ee,P,k-1]));return}Q(Ge)}})})}).catch(Q)});return v(U,P),U}function id(S,L,P){return Ml.apply(this,[S,L,P,1])}function od(S,L){var P=this;S=y(S);var k=new p(function(H,U){P.ready().then(function(){var Y=P._dbInfo;Y.db.transaction(function(Q){Un(Q,Y,"DELETE FROM "+Y.storeName+" WHERE key = ?",[S],function(){H()},function(ee,te){U(te)})})}).catch(U)});return v(k,L),k}function ad(S){var L=this,P=new p(function(k,H){L.ready().then(function(){var U=L._dbInfo;U.db.transaction(function(Y){Un(Y,U,"DELETE FROM "+U.storeName,[],function(){k()},function(Q,ee){H(ee)})})}).catch(H)});return v(P,S),P}function Dl(S){var L=this,P=new p(function(k,H){L.ready().then(function(){var U=L._dbInfo;U.db.transaction(function(Y){Un(Y,U,"SELECT COUNT(key) as c FROM "+U.storeName,[],function(Q,ee){var te=ee.rows.item(0).c;k(te)},function(Q,ee){H(ee)})})}).catch(H)});return v(P,S),P}function sd(S,L){var P=this,k=new p(function(H,U){P.ready().then(function(){var Y=P._dbInfo;Y.db.transaction(function(Q){Un(Q,Y,"SELECT key FROM "+Y.storeName+" WHERE id = ? LIMIT 1",[S+1],function(ee,te){var ie=te.rows.length?te.rows.item(0).key:null;H(ie)},function(ee,te){U(te)})})}).catch(U)});return v(k,L),k}function ud(S){var L=this,P=new p(function(k,H){L.ready().then(function(){var U=L._dbInfo;U.db.transaction(function(Y){Un(Y,U,"SELECT key FROM "+U.storeName,[],function(Q,ee){for(var te=[],ie=0;ie<ee.rows.length;ie++)te.push(ee.rows.item(ie).key);k(te)},function(Q,ee){H(ee)})})}).catch(H)});return v(P,S),P}function ld(S){return new p(function(L,P){S.transaction(function(k){k.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],function(H,U){for(var Y=[],Q=0;Q<U.rows.length;Q++)Y.push(U.rows.item(Q).name);L({db:S,storeNames:Y})},function(H,U){P(U)})},function(k){P(k)})})}function Ms(S,L){L=E.apply(this,arguments);var P=this.config();S=typeof S!="function"&&S||{},S.name||(S.name=S.name||P.name,S.storeName=S.storeName||P.storeName);var k=this,H;return S.name?H=new p(function(U){var Y;S.name===P.name?Y=k._dbInfo.db:Y=openDatabase(S.name,"","",0),S.storeName?U({db:Y,storeNames:[S.storeName]}):U(ld(Y))}).then(function(U){return new p(function(Y,Q){U.db.transaction(function(ee){function te(tt){return new p(function(rt,St){ee.executeSql("DROP TABLE IF EXISTS "+tt,[],function(){rt()},function(dt,xr){St(xr)})})}for(var ie=[],me=0,Ge=U.storeNames.length;me<Ge;me++)ie.push(te(U.storeNames[me]));p.all(ie).then(function(){Y()}).catch(function(tt){Q(tt)})},function(ee){Q(ee)})})}):H=p.reject("Invalid arguments"),v(H,L),H}var fd={_driver:"webSQLStorage",_initStorage:nd,_support:lt(),iterate:Bl,getItem:kl,setItem:id,removeItem:od,clear:ad,length:Dl,key:sd,keys:ud,dropInstance:Ms};function Ds(){try{return typeof localStorage!="undefined"&&"setItem"in localStorage&&!!localStorage.setItem}catch{return!1}}function Gl(S,L){var P=S.name+"/";return S.storeName!==L.storeName&&(P+=S.storeName+"/"),P}function hd(){var S="_localforage_support_test";try{return localStorage.setItem(S,!0),localStorage.removeItem(S),!1}catch{return!0}}function cd(){return!hd()||localStorage.length>0}function dd(S){var L=this,P={};if(S)for(var k in S)P[k]=S[k];return P.keyPrefix=Gl(S,L._defaultConfig),cd()?(L._dbInfo=P,P.serializer=xo,p.resolve()):p.reject()}function pd(S){var L=this,P=L.ready().then(function(){for(var k=L._dbInfo.keyPrefix,H=localStorage.length-1;H>=0;H--){var U=localStorage.key(H);U.indexOf(k)===0&&localStorage.removeItem(U)}});return v(P,S),P}function vd(S,L){var P=this;S=y(S);var k=P.ready().then(function(){var H=P._dbInfo,U=localStorage.getItem(H.keyPrefix+S);return U&&(U=H.serializer.deserialize(U)),U});return v(k,L),k}function _d(S,L){var P=this,k=P.ready().then(function(){for(var H=P._dbInfo,U=H.keyPrefix,Y=U.length,Q=localStorage.length,ee=1,te=0;te<Q;te++){var ie=localStorage.key(te);if(ie.indexOf(U)===0){var me=localStorage.getItem(ie);if(me&&(me=H.serializer.deserialize(me)),me=S(me,ie.substring(Y),ee++),me!==void 0)return me}}});return v(k,L),k}function md(S,L){var P=this,k=P.ready().then(function(){var H=P._dbInfo,U;try{U=localStorage.key(S)}catch{U=null}return U&&(U=U.substring(H.keyPrefix.length)),U});return v(k,L),k}function Hl(S){var L=this,P=L.ready().then(function(){for(var k=L._dbInfo,H=localStorage.length,U=[],Y=0;Y<H;Y++){var Q=localStorage.key(Y);Q.indexOf(k.keyPrefix)===0&&U.push(Q.substring(k.keyPrefix.length))}return U});return v(P,S),P}function gd(S){var L=this,P=L.keys().then(function(k){return k.length});return v(P,S),P}function yd(S,L){var P=this;S=y(S);var k=P.ready().then(function(){var H=P._dbInfo;localStorage.removeItem(H.keyPrefix+S)});return v(k,L),k}function xd(S,L,P){var k=this;S=y(S);var H=k.ready().then(function(){L===void 0&&(L=null);var U=L;return new p(function(Y,Q){var ee=k._dbInfo;ee.serializer.serialize(L,function(te,ie){if(ie)Q(ie);else try{localStorage.setItem(ee.keyPrefix+S,te),Y(U)}catch(me){(me.name==="QuotaExceededError"||me.name==="NS_ERROR_DOM_QUOTA_REACHED")&&Q(me),Q(me)}})})});return v(H,P),H}function Td(S,L){if(L=E.apply(this,arguments),S=typeof S!="function"&&S||{},!S.name){var P=this.config();S.name=S.name||P.name,S.storeName=S.storeName||P.storeName}var k=this,H;return S.name?H=new p(function(U){S.storeName?U(Gl(S,k._defaultConfig)):U(S.name+"/")}).then(function(U){for(var Y=localStorage.length-1;Y>=0;Y--){var Q=localStorage.key(Y);Q.indexOf(U)===0&&localStorage.removeItem(Q)}}):H=p.reject("Invalid arguments"),v(H,L),H}var Ed={_driver:"localStorageWrapper",_initStorage:dd,_support:Ds(),iterate:_d,getItem:vd,setItem:xd,removeItem:yd,clear:pd,length:gd,key:md,keys:Hl,dropInstance:Td},wd=function(L,P){return L===P||typeof L=="number"&&typeof P=="number"&&isNaN(L)&&isNaN(P)},va=function(L,P){for(var k=L.length,H=0;H<k;){if(wd(L[H],P))return!0;H++}return!1},Xl=Array.isArray||function(S){return Object.prototype.toString.call(S)==="[object Array]"},kn={},zl={},Ai={INDEXEDDB:Me,WEBSQL:fd,LOCALSTORAGE:Ed},bd=[Ai.INDEXEDDB._driver,Ai.WEBSQL._driver,Ai.LOCALSTORAGE._driver],To=["dropInstance"],_a=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(To),Vl={description:"",driver:bd.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function Sd(S,L){S[L]=function(){var P=arguments;return S.ready().then(function(){return S[L].apply(S,P)})}}function Gs(){for(var S=1;S<arguments.length;S++){var L=arguments[S];if(L)for(var P in L)L.hasOwnProperty(P)&&(Xl(L[P])?arguments[0][P]=L[P].slice():arguments[0][P]=L[P])}return arguments[0]}var Cd=function(){function S(L){a(this,S);for(var P in Ai)if(Ai.hasOwnProperty(P)){var k=Ai[P],H=k._driver;this[P]=H,kn[H]||this.defineDriver(k)}this._defaultConfig=Gs({},Vl),this._config=Gs({},this._defaultConfig,L),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch(function(){})}return S.prototype.config=function(P){if((typeof P=="undefined"?"undefined":o(P))==="object"){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var k in P){if(k==="storeName"&&(P[k]=P[k].replace(/\W/g,"_")),k==="version"&&typeof P[k]!="number")return new Error("Database version must be a number.");this._config[k]=P[k]}return"driver"in P&&P.driver?this.setDriver(this._config.driver):!0}else return typeof P=="string"?this._config[P]:this._config},S.prototype.defineDriver=function(P,k,H){var U=new p(function(Y,Q){try{var ee=P._driver,te=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!P._driver){Q(te);return}for(var ie=_a.concat("_initStorage"),me=0,Ge=ie.length;me<Ge;me++){var tt=ie[me],rt=!va(To,tt);if((rt||P[tt])&&typeof P[tt]!="function"){Q(te);return}}var St=function(){for(var Oi=function(jl){return function(){var Nd=new Error("Method "+jl+" is not implemented by the current driver"),$l=p.reject(Nd);return v($l,arguments[arguments.length-1]),$l}},Hs=0,Wl=To.length;Hs<Wl;Hs++){var ma=To[Hs];P[ma]||(P[ma]=Oi(ma))}};St();var dt=function(Oi){kn[ee]&&console.info("Redefining LocalForage driver: "+ee),kn[ee]=P,zl[ee]=Oi,Y()};"_support"in P?P._support&&typeof P._support=="function"?P._support().then(dt,Q):dt(!!P._support):dt(!0)}catch(xr){Q(xr)}});return m(U,k,H),U},S.prototype.driver=function(){return this._driver||null},S.prototype.getDriver=function(P,k,H){var U=kn[P]?p.resolve(kn[P]):p.reject(new Error("Driver not found."));return m(U,k,H),U},S.prototype.getSerializer=function(P){var k=p.resolve(xo);return m(k,P),k},S.prototype.ready=function(P){var k=this,H=k._driverSet.then(function(){return k._ready===null&&(k._ready=k._initDriver()),k._ready});return m(H,P,P),H},S.prototype.setDriver=function(P,k,H){var U=this;Xl(P)||(P=[P]);var Y=this._getSupportedDrivers(P);function Q(){U._config.driver=U.driver()}function ee(me){return U._extend(me),Q(),U._ready=U._initStorage(U._config),U._ready}function te(me){return function(){var Ge=0;function tt(){for(;Ge<me.length;){var rt=me[Ge];return Ge++,U._dbInfo=null,U._ready=null,U.getDriver(rt).then(ee).catch(tt)}Q();var St=new Error("No available storage method found.");return U._driverSet=p.reject(St),U._driverSet}return tt()}}var ie=this._driverSet!==null?this._driverSet.catch(function(){return p.resolve()}):p.resolve();return this._driverSet=ie.then(function(){var me=Y[0];return U._dbInfo=null,U._ready=null,U.getDriver(me).then(function(Ge){U._driver=Ge._driver,Q(),U._wrapLibraryMethodsWithReady(),U._initDriver=te(Y)})}).catch(function(){Q();var me=new Error("No available storage method found.");return U._driverSet=p.reject(me),U._driverSet}),m(this._driverSet,k,H),this._driverSet},S.prototype.supports=function(P){return!!zl[P]},S.prototype._extend=function(P){Gs(this,P)},S.prototype._getSupportedDrivers=function(P){for(var k=[],H=0,U=P.length;H<U;H++){var Y=P[H];this.supports(Y)&&k.push(Y)}return k},S.prototype._wrapLibraryMethodsWithReady=function(){for(var P=0,k=_a.length;P<k;P++)Sd(this,_a[P])},S.prototype.createInstance=function(P){return new S(P)},S}(),Id=new Cd;n.exports=Id},{"3":3}]},{},[4])(4)})})(il);const ys={gameName:"",gameKey:""},xS=[],fs={GuiRef:null,stageRef:null,userDataRef:null},Ke=e=>fs[e].current;var Lg={exports:{}},TS=function(t,r){return function(){for(var i=new Array(arguments.length),o=0;o<i.length;o++)i[o]=arguments[o];return t.apply(r,i)}},TF=TS,aa=Object.prototype.toString;function Fg(e){return aa.call(e)==="[object Array]"}function k_(e){return typeof e=="undefined"}function EF(e){return e!==null&&!k_(e)&&e.constructor!==null&&!k_(e.constructor)&&typeof e.constructor.isBuffer=="function"&&e.constructor.isBuffer(e)}function wF(e){return aa.call(e)==="[object ArrayBuffer]"}function bF(e){return typeof FormData!="undefined"&&e instanceof FormData}function SF(e){var t;return typeof ArrayBuffer!="undefined"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&e.buffer instanceof ArrayBuffer,t}function CF(e){return typeof e=="string"}function IF(e){return typeof e=="number"}function ES(e){return e!==null&&typeof e=="object"}function Lh(e){if(aa.call(e)!=="[object Object]")return!1;var t=Object.getPrototypeOf(e);return t===null||t===Object.prototype}function RF(e){return aa.call(e)==="[object Date]"}function NF(e){return aa.call(e)==="[object File]"}function PF(e){return aa.call(e)==="[object Blob]"}function wS(e){return aa.call(e)==="[object Function]"}function AF(e){return ES(e)&&wS(e.pipe)}function OF(e){return typeof URLSearchParams!="undefined"&&e instanceof URLSearchParams}function LF(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function FF(){return typeof navigator!="undefined"&&(navigator.product==="ReactNative"||navigator.product==="NativeScript"||navigator.product==="NS")?!1:typeof window!="undefined"&&typeof document!="undefined"}function Ug(e,t){if(!(e===null||typeof e=="undefined"))if(typeof e!="object"&&(e=[e]),Fg(e))for(var r=0,n=e.length;r<n;r++)t.call(null,e[r],r,e);else for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.call(null,e[i],i,e)}function B_(){var e={};function t(i,o){Lh(e[o])&&Lh(i)?e[o]=B_(e[o],i):Lh(i)?e[o]=B_({},i):Fg(i)?e[o]=i.slice():e[o]=i}for(var r=0,n=arguments.length;r<n;r++)Ug(arguments[r],t);return e}function UF(e,t,r){return Ug(t,function(i,o){r&&typeof i=="function"?e[o]=TF(i,r):e[o]=i}),e}function kF(e){return e.charCodeAt(0)===65279&&(e=e.slice(1)),e}var Qr={isArray:Fg,isArrayBuffer:wF,isBuffer:EF,isFormData:bF,isArrayBufferView:SF,isString:CF,isNumber:IF,isObject:ES,isPlainObject:Lh,isUndefined:k_,isDate:RF,isFile:NF,isBlob:PF,isFunction:wS,isStream:AF,isURLSearchParams:OF,isStandardBrowserEnv:FF,forEach:Ug,merge:B_,extend:UF,trim:LF,stripBOM:kF},Oa=Qr;function kx(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}var bS=function(t,r,n){if(!r)return t;var i;if(n)i=n(r);else if(Oa.isURLSearchParams(r))i=r.toString();else{var o=[];Oa.forEach(r,function(f,h){f===null||typeof f=="undefined"||(Oa.isArray(f)?h=h+"[]":f=[f],Oa.forEach(f,function(p){Oa.isDate(p)?p=p.toISOString():Oa.isObject(p)&&(p=JSON.stringify(p)),o.push(kx(h)+"="+kx(p))}))}),i=o.join("&")}if(i){var a=t.indexOf("#");a!==-1&&(t=t.slice(0,a)),t+=(t.indexOf("?")===-1?"?":"&")+i}return t},BF=Qr;function Bc(){this.handlers=[]}Bc.prototype.use=function(t,r,n){return this.handlers.push({fulfilled:t,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1};Bc.prototype.eject=function(t){this.handlers[t]&&(this.handlers[t]=null)};Bc.prototype.forEach=function(t){BF.forEach(this.handlers,function(n){n!==null&&t(n)})};var MF=Bc,DF=Qr,GF=function(t,r){DF.forEach(t,function(i,o){o!==r&&o.toUpperCase()===r.toUpperCase()&&(t[r]=i,delete t[o])})},SS=function(t,r,n,i,o){return t.config=r,n&&(t.code=n),t.request=i,t.response=o,t.isAxiosError=!0,t.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}},t},HF=SS,CS=function(t,r,n,i,o){var a=new Error(t);return HF(a,r,n,i,o)},XF=CS,zF=function(t,r,n){var i=n.config.validateStatus;!n.status||!i||i(n.status)?t(n):r(XF("Request failed with status code "+n.status,n.config,null,n.request,n))},$f=Qr,VF=$f.isStandardBrowserEnv()?function(){return{write:function(r,n,i,o,a,u){var f=[];f.push(r+"="+encodeURIComponent(n)),$f.isNumber(i)&&f.push("expires="+new Date(i).toGMTString()),$f.isString(o)&&f.push("path="+o),$f.isString(a)&&f.push("domain="+a),u===!0&&f.push("secure"),document.cookie=f.join("; ")},read:function(r){var n=document.cookie.match(new RegExp("(^|;\\s*)("+r+")=([^;]*)"));return n?decodeURIComponent(n[3]):null},remove:function(r){this.write(r,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}(),WF=function(t){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(t)},jF=function(t,r){return r?t.replace(/\/+$/,"")+"/"+r.replace(/^\/+/,""):t},$F=WF,YF=jF,qF=function(t,r){return t&&!$F(r)?YF(t,r):r},av=Qr,KF=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"],ZF=function(t){var r={},n,i,o;return t&&av.forEach(t.split(`
`),function(u){if(o=u.indexOf(":"),n=av.trim(u.substr(0,o)).toLowerCase(),i=av.trim(u.substr(o+1)),n){if(r[n]&&KF.indexOf(n)>=0)return;n==="set-cookie"?r[n]=(r[n]?r[n]:[]).concat([i]):r[n]=r[n]?r[n]+", "+i:i}}),r},Bx=Qr,JF=Bx.isStandardBrowserEnv()?function(){var t=/(msie|trident)/i.test(navigator.userAgent),r=document.createElement("a"),n;function i(o){var a=o;return t&&(r.setAttribute("href",a),a=r.href),r.setAttribute("href",a),{href:r.href,protocol:r.protocol?r.protocol.replace(/:$/,""):"",host:r.host,search:r.search?r.search.replace(/^\?/,""):"",hash:r.hash?r.hash.replace(/^#/,""):"",hostname:r.hostname,port:r.port,pathname:r.pathname.charAt(0)==="/"?r.pathname:"/"+r.pathname}}return n=i(window.location.href),function(a){var u=Bx.isString(a)?i(a):a;return u.protocol===n.protocol&&u.host===n.host}}():function(){return function(){return!0}}();function kg(e){this.message=e}kg.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")};kg.prototype.__CANCEL__=!0;var Mc=kg,Yf=Qr,QF=zF,eU=VF,tU=bS,rU=qF,nU=ZF,iU=JF,sv=CS,oU=Gc,aU=Mc,Mx=function(t){return new Promise(function(n,i){var o=t.data,a=t.headers,u=t.responseType,f;function h(){t.cancelToken&&t.cancelToken.unsubscribe(f),t.signal&&t.signal.removeEventListener("abort",f)}Yf.isFormData(o)&&delete a["Content-Type"];var d=new XMLHttpRequest;if(t.auth){var p=t.auth.username||"",v=t.auth.password?unescape(encodeURIComponent(t.auth.password)):"";a.Authorization="Basic "+btoa(p+":"+v)}var m=rU(t.baseURL,t.url);d.open(t.method.toUpperCase(),tU(m,t.params,t.paramsSerializer),!0),d.timeout=t.timeout;function y(){if(!!d){var g="getAllResponseHeaders"in d?nU(d.getAllResponseHeaders()):null,x=!u||u==="text"||u==="json"?d.responseText:d.response,w={data:x,status:d.status,statusText:d.statusText,headers:g,config:t,request:d};QF(function(O){n(O),h()},function(O){i(O),h()},w),d=null}}if("onloadend"in d?d.onloadend=y:d.onreadystatechange=function(){!d||d.readyState!==4||d.status===0&&!(d.responseURL&&d.responseURL.indexOf("file:")===0)||setTimeout(y)},d.onabort=function(){!d||(i(sv("Request aborted",t,"ECONNABORTED",d)),d=null)},d.onerror=function(){i(sv("Network Error",t,null,d)),d=null},d.ontimeout=function(){var x=t.timeout?"timeout of "+t.timeout+"ms exceeded":"timeout exceeded",w=t.transitional||oU.transitional;t.timeoutErrorMessage&&(x=t.timeoutErrorMessage),i(sv(x,t,w.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",d)),d=null},Yf.isStandardBrowserEnv()){var E=(t.withCredentials||iU(m))&&t.xsrfCookieName?eU.read(t.xsrfCookieName):void 0;E&&(a[t.xsrfHeaderName]=E)}"setRequestHeader"in d&&Yf.forEach(a,function(x,w){typeof o=="undefined"&&w.toLowerCase()==="content-type"?delete a[w]:d.setRequestHeader(w,x)}),Yf.isUndefined(t.withCredentials)||(d.withCredentials=!!t.withCredentials),u&&u!=="json"&&(d.responseType=t.responseType),typeof t.onDownloadProgress=="function"&&d.addEventListener("progress",t.onDownloadProgress),typeof t.onUploadProgress=="function"&&d.upload&&d.upload.addEventListener("progress",t.onUploadProgress),(t.cancelToken||t.signal)&&(f=function(g){!d||(i(!g||g&&g.type?new aU("canceled"):g),d.abort(),d=null)},t.cancelToken&&t.cancelToken.subscribe(f),t.signal&&(t.signal.aborted?f():t.signal.addEventListener("abort",f))),o||(o=null),d.send(o)})},or=Qr,Dx=GF,sU=SS,uU={"Content-Type":"application/x-www-form-urlencoded"};function Gx(e,t){!or.isUndefined(e)&&or.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}function lU(){var e;return(typeof XMLHttpRequest!="undefined"||typeof process!="undefined"&&Object.prototype.toString.call(process)==="[object process]")&&(e=Mx),e}function fU(e,t,r){if(or.isString(e))try{return(t||JSON.parse)(e),or.trim(e)}catch(n){if(n.name!=="SyntaxError")throw n}return(r||JSON.stringify)(e)}var Dc={transitional:{silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},adapter:lU(),transformRequest:[function(t,r){return Dx(r,"Accept"),Dx(r,"Content-Type"),or.isFormData(t)||or.isArrayBuffer(t)||or.isBuffer(t)||or.isStream(t)||or.isFile(t)||or.isBlob(t)?t:or.isArrayBufferView(t)?t.buffer:or.isURLSearchParams(t)?(Gx(r,"application/x-www-form-urlencoded;charset=utf-8"),t.toString()):or.isObject(t)||r&&r["Content-Type"]==="application/json"?(Gx(r,"application/json"),fU(t)):t}],transformResponse:[function(t){var r=this.transitional||Dc.transitional,n=r&&r.silentJSONParsing,i=r&&r.forcedJSONParsing,o=!n&&this.responseType==="json";if(o||i&&or.isString(t)&&t.length)try{return JSON.parse(t)}catch(a){if(o)throw a.name==="SyntaxError"?sU(a,this,"E_JSON_PARSE"):a}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};or.forEach(["delete","get","head"],function(t){Dc.headers[t]={}});or.forEach(["post","put","patch"],function(t){Dc.headers[t]=or.merge(uU)});var Gc=Dc,hU=Qr,cU=Gc,dU=function(t,r,n){var i=this||cU;return hU.forEach(n,function(a){t=a.call(i,t,r)}),t},IS=function(t){return!!(t&&t.__CANCEL__)},Hx=Qr,uv=dU,pU=IS,vU=Gc,_U=Mc;function lv(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new _U("canceled")}var mU=function(t){lv(t),t.headers=t.headers||{},t.data=uv.call(t,t.data,t.headers,t.transformRequest),t.headers=Hx.merge(t.headers.common||{},t.headers[t.method]||{},t.headers),Hx.forEach(["delete","get","head","post","put","patch","common"],function(i){delete t.headers[i]});var r=t.adapter||vU.adapter;return r(t).then(function(i){return lv(t),i.data=uv.call(t,i.data,i.headers,t.transformResponse),i},function(i){return pU(i)||(lv(t),i&&i.response&&(i.response.data=uv.call(t,i.response.data,i.response.headers,t.transformResponse))),Promise.reject(i)})},qr=Qr,RS=function(t,r){r=r||{};var n={};function i(d,p){return qr.isPlainObject(d)&&qr.isPlainObject(p)?qr.merge(d,p):qr.isPlainObject(p)?qr.merge({},p):qr.isArray(p)?p.slice():p}function o(d){if(qr.isUndefined(r[d])){if(!qr.isUndefined(t[d]))return i(void 0,t[d])}else return i(t[d],r[d])}function a(d){if(!qr.isUndefined(r[d]))return i(void 0,r[d])}function u(d){if(qr.isUndefined(r[d])){if(!qr.isUndefined(t[d]))return i(void 0,t[d])}else return i(void 0,r[d])}function f(d){if(d in r)return i(t[d],r[d]);if(d in t)return i(void 0,t[d])}var h={url:a,method:a,data:a,baseURL:u,transformRequest:u,transformResponse:u,paramsSerializer:u,timeout:u,timeoutMessage:u,withCredentials:u,adapter:u,responseType:u,xsrfCookieName:u,xsrfHeaderName:u,onUploadProgress:u,onDownloadProgress:u,decompress:u,maxContentLength:u,maxBodyLength:u,transport:u,httpAgent:u,httpsAgent:u,cancelToken:u,socketPath:u,responseEncoding:u,validateStatus:f};return qr.forEach(Object.keys(t).concat(Object.keys(r)),function(p){var v=h[p]||o,m=v(p);qr.isUndefined(m)&&v!==f||(n[p]=m)}),n},NS={version:"0.24.0"},gU=NS.version,Bg={};["object","boolean","number","function","string","symbol"].forEach(function(e,t){Bg[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}});var Xx={};Bg.transitional=function(t,r,n){function i(o,a){return"[Axios v"+gU+"] Transitional option '"+o+"'"+a+(n?". "+n:"")}return function(o,a,u){if(t===!1)throw new Error(i(a," has been removed"+(r?" in "+r:"")));return r&&!Xx[a]&&(Xx[a]=!0,console.warn(i(a," has been deprecated since v"+r+" and will be removed in the near future"))),t?t(o,a,u):!0}};function yU(e,t,r){if(typeof e!="object")throw new TypeError("options must be an object");for(var n=Object.keys(e),i=n.length;i-- >0;){var o=n[i],a=t[o];if(a){var u=e[o],f=u===void 0||a(u,o,e);if(f!==!0)throw new TypeError("option "+o+" must be "+f);continue}if(r!==!0)throw Error("Unknown option "+o)}}var xU={assertOptions:yU,validators:Bg},PS=Qr,TU=bS,zx=MF,Vx=mU,Hc=RS,AS=xU,La=AS.validators;function bl(e){this.defaults=e,this.interceptors={request:new zx,response:new zx}}bl.prototype.request=function(t){typeof t=="string"?(t=arguments[1]||{},t.url=arguments[0]):t=t||{},t=Hc(this.defaults,t),t.method?t.method=t.method.toLowerCase():this.defaults.method?t.method=this.defaults.method.toLowerCase():t.method="get";var r=t.transitional;r!==void 0&&AS.assertOptions(r,{silentJSONParsing:La.transitional(La.boolean),forcedJSONParsing:La.transitional(La.boolean),clarifyTimeoutError:La.transitional(La.boolean)},!1);var n=[],i=!0;this.interceptors.request.forEach(function(v){typeof v.runWhen=="function"&&v.runWhen(t)===!1||(i=i&&v.synchronous,n.unshift(v.fulfilled,v.rejected))});var o=[];this.interceptors.response.forEach(function(v){o.push(v.fulfilled,v.rejected)});var a;if(!i){var u=[Vx,void 0];for(Array.prototype.unshift.apply(u,n),u=u.concat(o),a=Promise.resolve(t);u.length;)a=a.then(u.shift(),u.shift());return a}for(var f=t;n.length;){var h=n.shift(),d=n.shift();try{f=h(f)}catch(p){d(p);break}}try{a=Vx(f)}catch(p){return Promise.reject(p)}for(;o.length;)a=a.then(o.shift(),o.shift());return a};bl.prototype.getUri=function(t){return t=Hc(this.defaults,t),TU(t.url,t.params,t.paramsSerializer).replace(/^\?/,"")};PS.forEach(["delete","get","head","options"],function(t){bl.prototype[t]=function(r,n){return this.request(Hc(n||{},{method:t,url:r,data:(n||{}).data}))}});PS.forEach(["post","put","patch"],function(t){bl.prototype[t]=function(r,n,i){return this.request(Hc(i||{},{method:t,url:r,data:n}))}});var EU=bl,wU=Mc;function xs(e){if(typeof e!="function")throw new TypeError("executor must be a function.");var t;this.promise=new Promise(function(i){t=i});var r=this;this.promise.then(function(n){if(!!r._listeners){var i,o=r._listeners.length;for(i=0;i<o;i++)r._listeners[i](n);r._listeners=null}}),this.promise.then=function(n){var i,o=new Promise(function(a){r.subscribe(a),i=a}).then(n);return o.cancel=function(){r.unsubscribe(i)},o},e(function(i){r.reason||(r.reason=new wU(i),t(r.reason))})}xs.prototype.throwIfRequested=function(){if(this.reason)throw this.reason};xs.prototype.subscribe=function(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]};xs.prototype.unsubscribe=function(t){if(!!this._listeners){var r=this._listeners.indexOf(t);r!==-1&&this._listeners.splice(r,1)}};xs.source=function(){var t,r=new xs(function(i){t=i});return{token:r,cancel:t}};var bU=xs,SU=function(t){return function(n){return t.apply(null,n)}},CU=function(t){return typeof t=="object"&&t.isAxiosError===!0},Wx=Qr,IU=TS,Fh=EU,RU=RS,NU=Gc;function OS(e){var t=new Fh(e),r=IU(Fh.prototype.request,t);return Wx.extend(r,Fh.prototype,t),Wx.extend(r,t),r.create=function(i){return OS(RU(e,i))},r}var Zn=OS(NU);Zn.Axios=Fh;Zn.Cancel=Mc;Zn.CancelToken=bU;Zn.isCancel=IS;Zn.VERSION=NS.version;Zn.all=function(t){return Promise.all(t)};Zn.spread=SU;Zn.isAxiosError=CU;Lg.exports=Zn;Lg.exports.default=Zn;var PU=Lg.exports;const AU=PU;class OU{constructor(){this.url="",this.level="all",this.mongoUrl="mongodb://localhost:27017/",this.collection="main",this.isUpload=!0}init(t,r){this.url=t,r&&(this.mongoUrl=r)}setUpload(t){this.isUpload=t}setCollection(t){this.collection=t}setLevel(t){this.level=t.toUpperCase()}upload(t,r,n,i){typeof t!="string"&&this.error("log\u7684\u7B2C\u4E00\u4E2A\u53C2\u6570\u4E0D\u662F\u5B57\u7B26\u4E32",void 0,!1);let o={log:{info:t,data:r,level:n,now:i},mongoUrl:this.mongoUrl,collection:this.collection};const a=this;this.url!==""&&this.isUpload&&AU.post(this.url+"/log",o).then(u=>{a.trace("Logged to cloud.",void 0,!1)}).catch(u=>{a.error("Logging to cloud failed!",void 0,!1)})}clog(t,r,n,i,o,a){const u={all:7,ALL:7,TRACE:6,DEBUG:5,INFO:4,WARN:3,ERROR:2,FATAL:1,NONE:0,none:0};u[n]<=u[this.level]&&(console.log("%c%s%c%s%c%s%c %s","color:white;background-color:"+i,"["+n+"]",""," ","color:"+i,"["+o.toLocaleString()+"]","",t),r&&(console.log(r),console.log("------------------------"))),a===void 0&&this.upload(t,r,n,o),a!==void 0&&a&&this.upload(t,r,n,o)}trace(t,r,n){const i=new Date,o="TRACE",a="#005CAF";this.clog(t,r,o,a,i,n)}debug(t,r,n){const i=new Date,o="DEBUG",a="#0089A7";this.clog(t,r,o,a,i,n)}info(t,r,n){const i=new Date,o="INFO",a="#00896C";this.clog(t,r,o,a,i,n)}warn(t,r,n){const i=new Date,o="WARN",a="#DDA52D";this.clog(t,r,o,a,i,n)}error(t,r,n){const i=new Date,o="ERROR",a="#AB3B3A";this.clog(t,r,o,a,i,n)}fatal(t,r,n){const i=new Date,o="FATAL",a="#E16B8C";this.clog(t,r,o,a,i,n)}}var LU=OU;const bt=new LU,dr=LS(()=>{il.exports.setItem(ys.gameKey,Ke("userDataRef").userDataState).then(()=>{bt.info("\u5199\u5165\u672C\u5730\u5B58\u50A8")})},100),fc=LS(()=>{il.exports.getItem(ys.gameKey).then(e=>{if(!e){dr();return}Ke("userDataRef").replaceUserData(e)})},100);function LS(e,t){let r;function n(...i){clearTimeout(r),r=setTimeout(()=>{e.apply(n,i)},t)}return n}const FU=()=>{il.exports.setItem(ys.gameKey,Ke("userDataRef").userDataState).then(()=>{il.exports.getItem(ys.gameKey).then(e=>{if(!e){dr();return}Ke("userDataRef").replaceUserData(e)}),bt.info("\u540C\u6B65\u672C\u5730\u5B58\u50A8")})};var Xt=(e=>(e[e.Save=0]="Save",e[e.Load=1]="Load",e[e.Option=2]="Option",e))(Xt||{});const UU={showBacklog:!1,showStarter:!0,showTitle:!0,showMenuPanel:!1,showTextBox:!0,currentMenuTag:2,titleBg:"",titleBgm:""};function sa(){const[e,t]=It.exports.useState(UU);return{GuiState:e,setGuiAsset:(o,a)=>{t(u=>(u[o]=a,Yr({},u)))},setVisibility:(o,a)=>{t(u=>(fc(),u[o]=a,(o==="showMenuPanel"||o==="showBacklog")&&(u.showTextBox=!a),Yr({},u)))},setMenuPanelTag:o=>{t(a=>(fc(),a.currentMenuTag=o,Yr({},a)))}}}const kU="_Title_main_1japc_1",BU="_Title_buttonList_1japc_8",MU="_Title_button_1japc_8",DU="_Title_button_text_1japc_41",GU="_Title_button_text_up_1japc_49",HU="_Title_backup_background_1japc_53";var At={Title_main:kU,Title_buttonList:BU,Title_button:MU,Title_button_text:DU,Title_button_text_up:GU,Title_backup_background:HU},Sl={},Cl={},Mg={};Object.defineProperty(Mg,"__esModule",{value:!0});class XU{constructor(t,r){this.message=t,this.store=r}}Mg.NoStoreError=XU;var zU=tr&&tr.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t},fv;Object.defineProperty(Cl,"__esModule",{value:!0});const VU=zU(It.exports),qf=It.exports,FS=Mg,jx=Og,WU=(fv=VU.useDebugValue)!==null&&fv!==void 0?fv:()=>{};function jU(e){const t=Dg(e.of);return e.children(t)}Cl.Consumer=jU;function Dg(e,t){const r=e.displayName||e.name;WU(r);const n=jx.getStoreContext(e),i=qf.useContext(n),[o,a]=qf.useState(i.state),u=qf.useRef([]);if(qf.useEffect(()=>{const f=()=>{if(!t)a(i.state);else{const h=u.current,d=t(i.state);YU(h,d)&&a(i.state),u.current=d}};return i.subscribers.add(f),()=>{i.subscribers.delete(f)}},[]),o===jx.defaultStoreValue)throw new FS.NoStoreError(`No store context of "${r}" found. And "${r}" doesn't have defaultValue. Either render a Provider or set a defaultValue for this Store.`,e);return o}Cl.useStore=Dg;function $U(e,t){try{return[Dg(e,t),!0]}catch(r){if(r instanceof FS.NoStoreError)return[void 0,!1];throw r}}Cl.useStoreOptionally=$U;function YU(e,t){if(e.length!==t.length)return!0;for(const r in t)if(e[r]!==t[r])return!0;return!1}Object.defineProperty(Sl,"__esModule",{value:!0});var Gg=Cl,Ir=Sl.useStore=Gg.useStore;Sl.useStoreOptionally=Gg.useStoreOptionally;Sl.Consumer=Gg.Consumer;var qU=Xu;Sl.Provider=qU.Provider;const Xc=e=>{bt.debug(`\u64AD\u653Ebgm\uFF1A${e}`);let t=document.getElementById("currentBgm");t!==null&&(t.currentTime=0,t.paused||t.pause()),Ke("stageRef").setStage("bgm",e),setTimeout(()=>{let r=document.getElementById("currentBgm");r!==null&&(r.currentTime=0,r.oncanplay=()=>{r.play()})},1)},Sr=[],Hg={currentSentenceId:0,sceneStack:[],currentScene:{sceneName:"",sceneUrl:"",sentenceList:[],assetsList:[],subSceneList:[]}},Le=Hg,se={performList:[],timeoutList:[],isAuto:!1,isFast:!1,autoInterval:null,fastInterval:null,autoTimeout:null,currentPixi:null};var zt=(e=>(e[e.background=0]="background",e[e.bgm=1]="bgm",e[e.figure=2]="figure",e[e.scene=3]="scene",e[e.tex=4]="tex",e[e.vocal=5]="vocal",e[e.video=6]="video",e))(zt||{});const kr=(e,t)=>{if(e.match("http://")||e.match("https://"))return e;{let r;switch(t){case 0:r=`./game/background/${e}`;break;case 3:r=`./game/scene/${e}`;break;case 5:r=`./game/vocal/${e}`;break;case 2:r=`./game/figure/${e}`;break;case 1:r=`./game/bgm/${e}`;break;case 6:r=`./game/video/${e}`;break;default:r="";break}return r}};var Xg={exports:{}},US=function(t,r){return function(){for(var i=new Array(arguments.length),o=0;o<i.length;o++)i[o]=arguments[o];return t.apply(r,i)}},KU=US,_o=Object.prototype.toString;function zg(e){return Array.isArray(e)}function M_(e){return typeof e=="undefined"}function ZU(e){return e!==null&&!M_(e)&&e.constructor!==null&&!M_(e.constructor)&&typeof e.constructor.isBuffer=="function"&&e.constructor.isBuffer(e)}function kS(e){return _o.call(e)==="[object ArrayBuffer]"}function JU(e){return _o.call(e)==="[object FormData]"}function QU(e){var t;return typeof ArrayBuffer!="undefined"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&kS(e.buffer),t}function e4(e){return typeof e=="string"}function t4(e){return typeof e=="number"}function BS(e){return e!==null&&typeof e=="object"}function Uh(e){if(_o.call(e)!=="[object Object]")return!1;var t=Object.getPrototypeOf(e);return t===null||t===Object.prototype}function r4(e){return _o.call(e)==="[object Date]"}function n4(e){return _o.call(e)==="[object File]"}function i4(e){return _o.call(e)==="[object Blob]"}function MS(e){return _o.call(e)==="[object Function]"}function o4(e){return BS(e)&&MS(e.pipe)}function a4(e){return _o.call(e)==="[object URLSearchParams]"}function s4(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function u4(){return typeof navigator!="undefined"&&(navigator.product==="ReactNative"||navigator.product==="NativeScript"||navigator.product==="NS")?!1:typeof window!="undefined"&&typeof document!="undefined"}function Vg(e,t){if(!(e===null||typeof e=="undefined"))if(typeof e!="object"&&(e=[e]),zg(e))for(var r=0,n=e.length;r<n;r++)t.call(null,e[r],r,e);else for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.call(null,e[i],i,e)}function D_(){var e={};function t(i,o){Uh(e[o])&&Uh(i)?e[o]=D_(e[o],i):Uh(i)?e[o]=D_({},i):zg(i)?e[o]=i.slice():e[o]=i}for(var r=0,n=arguments.length;r<n;r++)Vg(arguments[r],t);return e}function l4(e,t,r){return Vg(t,function(i,o){r&&typeof i=="function"?e[o]=KU(i,r):e[o]=i}),e}function f4(e){return e.charCodeAt(0)===65279&&(e=e.slice(1)),e}var Gr={isArray:zg,isArrayBuffer:kS,isBuffer:ZU,isFormData:JU,isArrayBufferView:QU,isString:e4,isNumber:t4,isObject:BS,isPlainObject:Uh,isUndefined:M_,isDate:r4,isFile:n4,isBlob:i4,isFunction:MS,isStream:o4,isURLSearchParams:a4,isStandardBrowserEnv:u4,forEach:Vg,merge:D_,extend:l4,trim:s4,stripBOM:f4},Fa=Gr;function $x(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}var DS=function(t,r,n){if(!r)return t;var i;if(n)i=n(r);else if(Fa.isURLSearchParams(r))i=r.toString();else{var o=[];Fa.forEach(r,function(f,h){f===null||typeof f=="undefined"||(Fa.isArray(f)?h=h+"[]":f=[f],Fa.forEach(f,function(p){Fa.isDate(p)?p=p.toISOString():Fa.isObject(p)&&(p=JSON.stringify(p)),o.push($x(h)+"="+$x(p))}))}),i=o.join("&")}if(i){var a=t.indexOf("#");a!==-1&&(t=t.slice(0,a)),t+=(t.indexOf("?")===-1?"?":"&")+i}return t},h4=Gr;function zc(){this.handlers=[]}zc.prototype.use=function(t,r,n){return this.handlers.push({fulfilled:t,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1};zc.prototype.eject=function(t){this.handlers[t]&&(this.handlers[t]=null)};zc.prototype.forEach=function(t){h4.forEach(this.handlers,function(n){n!==null&&t(n)})};var c4=zc,d4=Gr,p4=function(t,r){d4.forEach(t,function(i,o){o!==r&&o.toUpperCase()===r.toUpperCase()&&(t[r]=i,delete t[o])})},GS=function(t,r,n,i,o){return t.config=r,n&&(t.code=n),t.request=i,t.response=o,t.isAxiosError=!0,t.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}},t},HS={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},v4=GS,XS=function(t,r,n,i,o){var a=new Error(t);return v4(a,r,n,i,o)},_4=XS,m4=function(t,r,n){var i=n.config.validateStatus;!n.status||!i||i(n.status)?t(n):r(_4("Request failed with status code "+n.status,n.config,null,n.request,n))},Kf=Gr,g4=Kf.isStandardBrowserEnv()?function(){return{write:function(r,n,i,o,a,u){var f=[];f.push(r+"="+encodeURIComponent(n)),Kf.isNumber(i)&&f.push("expires="+new Date(i).toGMTString()),Kf.isString(o)&&f.push("path="+o),Kf.isString(a)&&f.push("domain="+a),u===!0&&f.push("secure"),document.cookie=f.join("; ")},read:function(r){var n=document.cookie.match(new RegExp("(^|;\\s*)("+r+")=([^;]*)"));return n?decodeURIComponent(n[3]):null},remove:function(r){this.write(r,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}(),y4=function(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)},x4=function(t,r){return r?t.replace(/\/+$/,"")+"/"+r.replace(/^\/+/,""):t},T4=y4,E4=x4,w4=function(t,r){return t&&!T4(r)?E4(t,r):r},hv=Gr,b4=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"],S4=function(t){var r={},n,i,o;return t&&hv.forEach(t.split(`
`),function(u){if(o=u.indexOf(":"),n=hv.trim(u.substr(0,o)).toLowerCase(),i=hv.trim(u.substr(o+1)),n){if(r[n]&&b4.indexOf(n)>=0)return;n==="set-cookie"?r[n]=(r[n]?r[n]:[]).concat([i]):r[n]=r[n]?r[n]+", "+i:i}}),r},Yx=Gr,C4=Yx.isStandardBrowserEnv()?function(){var t=/(msie|trident)/i.test(navigator.userAgent),r=document.createElement("a"),n;function i(o){var a=o;return t&&(r.setAttribute("href",a),a=r.href),r.setAttribute("href",a),{href:r.href,protocol:r.protocol?r.protocol.replace(/:$/,""):"",host:r.host,search:r.search?r.search.replace(/^\?/,""):"",hash:r.hash?r.hash.replace(/^#/,""):"",hostname:r.hostname,port:r.port,pathname:r.pathname.charAt(0)==="/"?r.pathname:"/"+r.pathname}}return n=i(window.location.href),function(a){var u=Yx.isString(a)?i(a):a;return u.protocol===n.protocol&&u.host===n.host}}():function(){return function(){return!0}}();function Wg(e){this.message=e}Wg.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")};Wg.prototype.__CANCEL__=!0;var Vc=Wg,Zf=Gr,I4=m4,R4=g4,N4=DS,P4=w4,A4=S4,O4=C4,cv=XS,L4=HS,F4=Vc,qx=function(t){return new Promise(function(n,i){var o=t.data,a=t.headers,u=t.responseType,f;function h(){t.cancelToken&&t.cancelToken.unsubscribe(f),t.signal&&t.signal.removeEventListener("abort",f)}Zf.isFormData(o)&&delete a["Content-Type"];var d=new XMLHttpRequest;if(t.auth){var p=t.auth.username||"",v=t.auth.password?unescape(encodeURIComponent(t.auth.password)):"";a.Authorization="Basic "+btoa(p+":"+v)}var m=P4(t.baseURL,t.url);d.open(t.method.toUpperCase(),N4(m,t.params,t.paramsSerializer),!0),d.timeout=t.timeout;function y(){if(!!d){var g="getAllResponseHeaders"in d?A4(d.getAllResponseHeaders()):null,x=!u||u==="text"||u==="json"?d.responseText:d.response,w={data:x,status:d.status,statusText:d.statusText,headers:g,config:t,request:d};I4(function(O){n(O),h()},function(O){i(O),h()},w),d=null}}if("onloadend"in d?d.onloadend=y:d.onreadystatechange=function(){!d||d.readyState!==4||d.status===0&&!(d.responseURL&&d.responseURL.indexOf("file:")===0)||setTimeout(y)},d.onabort=function(){!d||(i(cv("Request aborted",t,"ECONNABORTED",d)),d=null)},d.onerror=function(){i(cv("Network Error",t,null,d)),d=null},d.ontimeout=function(){var x=t.timeout?"timeout of "+t.timeout+"ms exceeded":"timeout exceeded",w=t.transitional||L4;t.timeoutErrorMessage&&(x=t.timeoutErrorMessage),i(cv(x,t,w.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",d)),d=null},Zf.isStandardBrowserEnv()){var E=(t.withCredentials||O4(m))&&t.xsrfCookieName?R4.read(t.xsrfCookieName):void 0;E&&(a[t.xsrfHeaderName]=E)}"setRequestHeader"in d&&Zf.forEach(a,function(x,w){typeof o=="undefined"&&w.toLowerCase()==="content-type"?delete a[w]:d.setRequestHeader(w,x)}),Zf.isUndefined(t.withCredentials)||(d.withCredentials=!!t.withCredentials),u&&u!=="json"&&(d.responseType=t.responseType),typeof t.onDownloadProgress=="function"&&d.addEventListener("progress",t.onDownloadProgress),typeof t.onUploadProgress=="function"&&d.upload&&d.upload.addEventListener("progress",t.onUploadProgress),(t.cancelToken||t.signal)&&(f=function(g){!d||(i(!g||g&&g.type?new F4("canceled"):g),d.abort(),d=null)},t.cancelToken&&t.cancelToken.subscribe(f),t.signal&&(t.signal.aborted?f():t.signal.addEventListener("abort",f))),o||(o=null),d.send(o)})},ar=Gr,Kx=p4,U4=GS,k4=HS,B4={"Content-Type":"application/x-www-form-urlencoded"};function Zx(e,t){!ar.isUndefined(e)&&ar.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}function M4(){var e;return(typeof XMLHttpRequest!="undefined"||typeof process!="undefined"&&Object.prototype.toString.call(process)==="[object process]")&&(e=qx),e}function D4(e,t,r){if(ar.isString(e))try{return(t||JSON.parse)(e),ar.trim(e)}catch(n){if(n.name!=="SyntaxError")throw n}return(r||JSON.stringify)(e)}var Wc={transitional:k4,adapter:M4(),transformRequest:[function(t,r){return Kx(r,"Accept"),Kx(r,"Content-Type"),ar.isFormData(t)||ar.isArrayBuffer(t)||ar.isBuffer(t)||ar.isStream(t)||ar.isFile(t)||ar.isBlob(t)?t:ar.isArrayBufferView(t)?t.buffer:ar.isURLSearchParams(t)?(Zx(r,"application/x-www-form-urlencoded;charset=utf-8"),t.toString()):ar.isObject(t)||r&&r["Content-Type"]==="application/json"?(Zx(r,"application/json"),D4(t)):t}],transformResponse:[function(t){var r=this.transitional||Wc.transitional,n=r&&r.silentJSONParsing,i=r&&r.forcedJSONParsing,o=!n&&this.responseType==="json";if(o||i&&ar.isString(t)&&t.length)try{return JSON.parse(t)}catch(a){if(o)throw a.name==="SyntaxError"?U4(a,this,"E_JSON_PARSE"):a}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};ar.forEach(["delete","get","head"],function(t){Wc.headers[t]={}});ar.forEach(["post","put","patch"],function(t){Wc.headers[t]=ar.merge(B4)});var jg=Wc,G4=Gr,H4=jg,X4=function(t,r,n){var i=this||H4;return G4.forEach(n,function(a){t=a.call(i,t,r)}),t},zS=function(t){return!!(t&&t.__CANCEL__)},Jx=Gr,dv=X4,z4=zS,V4=jg,W4=Vc;function pv(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new W4("canceled")}var j4=function(t){pv(t),t.headers=t.headers||{},t.data=dv.call(t,t.data,t.headers,t.transformRequest),t.headers=Jx.merge(t.headers.common||{},t.headers[t.method]||{},t.headers),Jx.forEach(["delete","get","head","post","put","patch","common"],function(i){delete t.headers[i]});var r=t.adapter||V4.adapter;return r(t).then(function(i){return pv(t),i.data=dv.call(t,i.data,i.headers,t.transformResponse),i},function(i){return z4(i)||(pv(t),i&&i.response&&(i.response.data=dv.call(t,i.response.data,i.response.headers,t.transformResponse))),Promise.reject(i)})},Kr=Gr,VS=function(t,r){r=r||{};var n={};function i(d,p){return Kr.isPlainObject(d)&&Kr.isPlainObject(p)?Kr.merge(d,p):Kr.isPlainObject(p)?Kr.merge({},p):Kr.isArray(p)?p.slice():p}function o(d){if(Kr.isUndefined(r[d])){if(!Kr.isUndefined(t[d]))return i(void 0,t[d])}else return i(t[d],r[d])}function a(d){if(!Kr.isUndefined(r[d]))return i(void 0,r[d])}function u(d){if(Kr.isUndefined(r[d])){if(!Kr.isUndefined(t[d]))return i(void 0,t[d])}else return i(void 0,r[d])}function f(d){if(d in r)return i(t[d],r[d]);if(d in t)return i(void 0,t[d])}var h={url:a,method:a,data:a,baseURL:u,transformRequest:u,transformResponse:u,paramsSerializer:u,timeout:u,timeoutMessage:u,withCredentials:u,adapter:u,responseType:u,xsrfCookieName:u,xsrfHeaderName:u,onUploadProgress:u,onDownloadProgress:u,decompress:u,maxContentLength:u,maxBodyLength:u,transport:u,httpAgent:u,httpsAgent:u,cancelToken:u,socketPath:u,responseEncoding:u,validateStatus:f};return Kr.forEach(Object.keys(t).concat(Object.keys(r)),function(p){var v=h[p]||o,m=v(p);Kr.isUndefined(m)&&v!==f||(n[p]=m)}),n},WS={version:"0.26.1"},$4=WS.version,$g={};["object","boolean","number","function","string","symbol"].forEach(function(e,t){$g[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}});var Qx={};$g.transitional=function(t,r,n){function i(o,a){return"[Axios v"+$4+"] Transitional option '"+o+"'"+a+(n?". "+n:"")}return function(o,a,u){if(t===!1)throw new Error(i(a," has been removed"+(r?" in "+r:"")));return r&&!Qx[a]&&(Qx[a]=!0,console.warn(i(a," has been deprecated since v"+r+" and will be removed in the near future"))),t?t(o,a,u):!0}};function Y4(e,t,r){if(typeof e!="object")throw new TypeError("options must be an object");for(var n=Object.keys(e),i=n.length;i-- >0;){var o=n[i],a=t[o];if(a){var u=e[o],f=u===void 0||a(u,o,e);if(f!==!0)throw new TypeError("option "+o+" must be "+f);continue}if(r!==!0)throw Error("Unknown option "+o)}}var q4={assertOptions:Y4,validators:$g},jS=Gr,K4=DS,eT=c4,tT=j4,jc=VS,$S=q4,Ua=$S.validators;function Il(e){this.defaults=e,this.interceptors={request:new eT,response:new eT}}Il.prototype.request=function(t,r){typeof t=="string"?(r=r||{},r.url=t):r=t||{},r=jc(this.defaults,r),r.method?r.method=r.method.toLowerCase():this.defaults.method?r.method=this.defaults.method.toLowerCase():r.method="get";var n=r.transitional;n!==void 0&&$S.assertOptions(n,{silentJSONParsing:Ua.transitional(Ua.boolean),forcedJSONParsing:Ua.transitional(Ua.boolean),clarifyTimeoutError:Ua.transitional(Ua.boolean)},!1);var i=[],o=!0;this.interceptors.request.forEach(function(m){typeof m.runWhen=="function"&&m.runWhen(r)===!1||(o=o&&m.synchronous,i.unshift(m.fulfilled,m.rejected))});var a=[];this.interceptors.response.forEach(function(m){a.push(m.fulfilled,m.rejected)});var u;if(!o){var f=[tT,void 0];for(Array.prototype.unshift.apply(f,i),f=f.concat(a),u=Promise.resolve(r);f.length;)u=u.then(f.shift(),f.shift());return u}for(var h=r;i.length;){var d=i.shift(),p=i.shift();try{h=d(h)}catch(v){p(v);break}}try{u=tT(h)}catch(v){return Promise.reject(v)}for(;a.length;)u=u.then(a.shift(),a.shift());return u};Il.prototype.getUri=function(t){return t=jc(this.defaults,t),K4(t.url,t.params,t.paramsSerializer).replace(/^\?/,"")};jS.forEach(["delete","get","head","options"],function(t){Il.prototype[t]=function(r,n){return this.request(jc(n||{},{method:t,url:r,data:(n||{}).data}))}});jS.forEach(["post","put","patch"],function(t){Il.prototype[t]=function(r,n,i){return this.request(jc(i||{},{method:t,url:r,data:n}))}});var Z4=Il,J4=Vc;function Ts(e){if(typeof e!="function")throw new TypeError("executor must be a function.");var t;this.promise=new Promise(function(i){t=i});var r=this;this.promise.then(function(n){if(!!r._listeners){var i,o=r._listeners.length;for(i=0;i<o;i++)r._listeners[i](n);r._listeners=null}}),this.promise.then=function(n){var i,o=new Promise(function(a){r.subscribe(a),i=a}).then(n);return o.cancel=function(){r.unsubscribe(i)},o},e(function(i){r.reason||(r.reason=new J4(i),t(r.reason))})}Ts.prototype.throwIfRequested=function(){if(this.reason)throw this.reason};Ts.prototype.subscribe=function(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]};Ts.prototype.unsubscribe=function(t){if(!!this._listeners){var r=this._listeners.indexOf(t);r!==-1&&this._listeners.splice(r,1)}};Ts.source=function(){var t,r=new Ts(function(i){t=i});return{token:r,cancel:t}};var Q4=Ts,ek=function(t){return function(n){return t.apply(null,n)}},tk=Gr,rk=function(t){return tk.isObject(t)&&t.isAxiosError===!0},rT=Gr,nk=US,kh=Z4,ik=VS,ok=jg;function YS(e){var t=new kh(e),r=nk(kh.prototype.request,t);return rT.extend(r,kh.prototype,t),rT.extend(r,t),r.create=function(i){return YS(ik(e,i))},r}var Jn=YS(ok);Jn.Axios=kh;Jn.Cancel=Vc;Jn.CancelToken=Q4;Jn.isCancel=zS;Jn.VERSION=WS.version;Jn.all=function(t){return Promise.all(t)};Jn.spread=ek;Jn.isAxiosError=rk;Xg.exports=Jn;Xg.exports.default=Jn;var qS=Xg.exports;const Ii=e=>new Promise(t=>{qS.get(e).then(r=>{const n=r.data.toString();t(n)})});var ue=(e=>(e[e.say=0]="say",e[e.changeBg=1]="changeBg",e[e.changeFigure=2]="changeFigure",e[e.bgm=3]="bgm",e[e.video=4]="video",e[e.pixi=5]="pixi",e[e.pixiInit=6]="pixiInit",e[e.intro=7]="intro",e[e.miniAvatar=8]="miniAvatar",e[e.changeScene=9]="changeScene",e[e.choose=10]="choose",e[e.end=11]="end",e[e.perform_bgAni=12]="perform_bgAni",e[e.perform_FigAni=13]="perform_FigAni",e[e.setBgTransform=14]="setBgTransform",e[e.setFigTransform=15]="setFigTransform",e[e.setBgFilter=16]="setBgFilter",e[e.setFigFilter=17]="setFigFilter",e[e.label=18]="label",e[e.jumpLabel=19]="jumpLabel",e[e.chooseLabel=20]="chooseLabel",e[e.setVar=21]="setVar",e[e.if=22]="if",e[e.callScene=23]="callScene",e))(ue||{});const vv=e=>{let t={type:ue.say,additionalArgs:[]};const r=ak(e);return t.type=r,r===ue.say&&t.additionalArgs.push({key:"speaker",value:e}),t=sk(t,r),t};function ak(e){if(e.match(/if/))return ue.if;switch(e){case"intro":return ue.intro;case"changeBg":return ue.changeBg;case"changeFigure":return ue.changeFigure;case"miniAvatar":return ue.miniAvatar;case"changeScene":return ue.changeScene;case"choose":return ue.choose;case"end":return ue.end;case"bgm":return ue.bgm;case"playVideo":return ue.video;case"setBgAni":return ue.perform_bgAni;case"setFigAni":return ue.perform_FigAni;case"setBgTransform":return ue.setBgTransform;case"setBgFilter":return ue.setBgFilter;case"setFigTransform":return ue.setFigTransform;case"setFigFilter":return ue.setFigFilter;case"pixiInit":return ue.pixiInit;case"pixiPerform":return ue.pixi;case"label":return ue.label;case"jumpLabel":return ue.jumpLabel;case"chooseLabel":return ue.chooseLabel;case"setVar":return ue.setVar;case"callScene":return ue.callScene;default:return ue.say}}function sk(e,t){return[ue.bgm,ue.pixi,ue.pixiInit,ue.label,ue.if,ue.miniAvatar,ue.setBgTransform,ue.setBgFilter,ue.setFigFilter,ue.setFigTransform,ue.perform_FigAni,ue.perform_bgAni].includes(t)&&e.additionalArgs.push({key:"next",value:!0}),e}const uk=e=>{const t=[];let n=e.replace(/ /g,"").split("-");return n=n.filter(i=>i!==""),n.forEach(i=>{const o=i.split("=")[0],a=i.split("=")[1];i.match(/.ogg|.mp3|.wav/)?t.push({key:"vocal",value:kr(i,zt.vocal)}):a===void 0?t.push({key:o,value:!0}):a==="true"||a==="false"?t.push({key:o,value:a==="true"}):isNaN(Number(a))?t.push({key:o,value:a}):t.push({key:o,value:Number(a)})}),t},lk=(e,t)=>{if(e==="none"||e==="")return e;switch(t){case ue.changeBg:return kr(e,zt.background);case ue.changeFigure:return kr(e,zt.figure);case ue.bgm:return kr(e,zt.bgm);case ue.callScene:return kr(e,zt.scene);case ue.changeScene:return kr(e,zt.scene);case ue.miniAvatar:return kr(e,zt.figure);case ue.video:return kr(e,zt.video);case ue.choose:return fk(e);default:return e}};function fk(e){const t=e.split("|"),r=[],n=[];for(const a of t)r.push(a.split(":")[0]),n.push(a.split(":")[1]);const i=n.map(a=>a.match(/\./)?kr(a,zt.scene):a);let o="";for(let a=0;a<r.length;a++)a!==0&&(o=o+"|"),o=o+`${r[a]}:${i[a]}`;return o}const hk=(e,t,r)=>{const n=[];return e===ue.say&&r.forEach(i=>{i.key==="vocal"&&n.push({name:i.value,url:i.value,lineNumber:0,type:zt.vocal})}),t==="none"||t===""||(e===ue.changeBg&&n.push({name:t,url:t,lineNumber:0,type:zt.background}),e===ue.changeFigure&&n.push({name:t,url:t,lineNumber:0,type:zt.figure}),e===ue.miniAvatar&&n.push({name:t,url:t,lineNumber:0,type:zt.figure}),e===ue.video&&n.push({name:t,url:t,lineNumber:0,type:zt.video}),e===ue.bgm&&n.push({name:t,url:t,lineNumber:0,type:zt.bgm})),n},ck=(e,t)=>{const r=[];return(e===ue.changeScene||e===ue.callScene)&&r.push(t),e===ue.choose&&t.split("|").map(o=>o.split(":")[1]).forEach(o=>{o.match(/\./)&&r.push(o)}),r},dk=e=>{let t,r,n;const i=[];let o,a,u,f=e.split(";")[0];const h=/:/.exec(f);if(h===null){const p=/ /.exec(f);if(p){u=f.substring(0,p.index),f=f.substring(p.index,f.length),a=vv(u),t=a.type;for(const v of a.additionalArgs)i.push(v)}else if(u=f.substring(0,f.length),f=f.substring(0,f.length),a=vv(u),t=a.type,t!==ue.say)for(const v of a.additionalArgs)i.push(v)}else{u=f.substring(0,h.index),f=f.substring(h.index+1,f.length),a=vv(u),t=a.type;for(const p of a.additionalArgs)i.push(p)}const d=/ -/.exec(f);if(d){const p=f.substring(d.index,e.length);f=f.substring(0,d.index);for(const v of uk(p))i.push(v)}return r=lk(f,t),o=hk(t,r,i),n=ck(t,r),{command:t,commandRaw:u,content:r,args:i,sentenceAssets:o,subScene:n}},pk=e=>{for(const t of e){const r=document.createElement("link");r.setAttribute("rel","prefetch"),r.setAttribute("href",t.url);const n=document.getElementsByTagName("head");n.length&&n[0].appendChild(r)}},vk=e=>{for(const t of e)xS.includes(t)||Ii(t).then(r=>{Ri(r,t,t)})};var Cr={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */(function(e,t){(function(){var r,n="4.17.21",i=200,o="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",a="Expected a function",u="Invalid `variable` option passed into `_.template`",f="__lodash_hash_undefined__",h=500,d="__lodash_placeholder__",p=1,v=2,m=4,y=1,E=2,g=1,x=2,w=4,N=8,O=16,R=32,I=64,B=128,z=256,M=512,$=30,de="...",ae=800,pe=16,We=1,le=2,fe=3,ye=1/0,Oe=9007199254740991,ht=17976931348623157e292,Z=0/0,V=4294967295,re=V-1,he=V>>>1,Ee=[["ary",B],["bind",g],["bindKey",x],["curry",N],["curryRight",O],["flip",M],["partial",R],["partialRight",I],["rearg",z]],Ae="[object Arguments]",ke="[object Array]",ot="[object AsyncFunction]",at="[object Boolean]",je="[object Date]",yt="[object DOMException]",Ye="[object Error]",st="[object Function]",Me="[object GeneratorFunction]",lt="[object Map]",et="[object Number]",Ve="[object Null]",Nt="[object Object]",Nr="[object Promise]",Ln="[object Proxy]",en="[object RegExp]",Jt="[object Set]",yn="[object String]",Fn="[object Symbol]",Ll="[object Undefined]",Ni="[object WeakMap]",Fl="[object WeakSet]",Pi="[object ArrayBuffer]",Qn="[object DataView]",fa="[object Float32Array]",ha="[object Float64Array]",ca="[object Int8Array]",da="[object Int16Array]",pa="[object Int32Array]",yo="[object Uint8Array]",ks="[object Uint8ClampedArray]",Bs="[object Uint16Array]",xo="[object Uint32Array]",Ul=/\b__p \+= '';/g,nd=/\b(__p \+=) '' \+/g,Un=/(__e\(.*?\)|\b__t\)) \+\n'';/g,kl=/&(?:amp|lt|gt|quot|#39);/g,Bl=/[&<>"']/g,Ml=RegExp(kl.source),id=RegExp(Bl.source),od=/<%-([\s\S]+?)%>/g,ad=/<%([\s\S]+?)%>/g,Dl=/<%=([\s\S]+?)%>/g,sd=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,ud=/^\w*$/,ld=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Ms=/[\\^$.*+?()[\]{}|]/g,fd=RegExp(Ms.source),Ds=/^\s+/,Gl=/\s/,hd=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,cd=/\{\n\/\* \[wrapped with (.+)\] \*/,dd=/,? & /,pd=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,vd=/[()=,{}\[\]\/\s]/,_d=/\\(\\)?/g,md=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Hl=/\w*$/,gd=/^[-+]0x[0-9a-f]+$/i,yd=/^0b[01]+$/i,xd=/^\[object .+?Constructor\]$/,Td=/^0o[0-7]+$/i,Ed=/^(?:0|[1-9]\d*)$/,wd=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,va=/($^)/,Xl=/['\n\r\u2028\u2029\\]/g,kn="\\ud800-\\udfff",zl="\\u0300-\\u036f",Ai="\\ufe20-\\ufe2f",bd="\\u20d0-\\u20ff",To=zl+Ai+bd,_a="\\u2700-\\u27bf",Vl="a-z\\xdf-\\xf6\\xf8-\\xff",Sd="\\xac\\xb1\\xd7\\xf7",Gs="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",Cd="\\u2000-\\u206f",Id=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",S="A-Z\\xc0-\\xd6\\xd8-\\xde",L="\\ufe0e\\ufe0f",P=Sd+Gs+Cd+Id,k="['\u2019]",H="["+kn+"]",U="["+P+"]",Y="["+To+"]",Q="\\d+",ee="["+_a+"]",te="["+Vl+"]",ie="[^"+kn+P+Q+_a+Vl+S+"]",me="\\ud83c[\\udffb-\\udfff]",Ge="(?:"+Y+"|"+me+")",tt="[^"+kn+"]",rt="(?:\\ud83c[\\udde6-\\uddff]){2}",St="[\\ud800-\\udbff][\\udc00-\\udfff]",dt="["+S+"]",xr="\\u200d",Oi="(?:"+te+"|"+ie+")",Hs="(?:"+dt+"|"+ie+")",Wl="(?:"+k+"(?:d|ll|m|re|s|t|ve))?",ma="(?:"+k+"(?:D|LL|M|RE|S|T|VE))?",Rd=Ge+"?",jl="["+L+"]?",Nd="(?:"+xr+"(?:"+[tt,rt,St].join("|")+")"+jl+Rd+")*",$l="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",_C="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",s0=jl+Rd+Nd,mC="(?:"+[ee,rt,St].join("|")+")"+s0,gC="(?:"+[tt+Y+"?",Y,rt,St,H].join("|")+")",yC=RegExp(k,"g"),xC=RegExp(Y,"g"),Pd=RegExp(me+"(?="+me+")|"+gC+s0,"g"),TC=RegExp([dt+"?"+te+"+"+Wl+"(?="+[U,dt,"$"].join("|")+")",Hs+"+"+ma+"(?="+[U,dt+Oi,"$"].join("|")+")",dt+"?"+Oi+"+"+Wl,dt+"+"+ma,_C,$l,Q,mC].join("|"),"g"),EC=RegExp("["+xr+kn+To+L+"]"),wC=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,bC=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],SC=-1,xt={};xt[fa]=xt[ha]=xt[ca]=xt[da]=xt[pa]=xt[yo]=xt[ks]=xt[Bs]=xt[xo]=!0,xt[Ae]=xt[ke]=xt[Pi]=xt[at]=xt[Qn]=xt[je]=xt[Ye]=xt[st]=xt[lt]=xt[et]=xt[Nt]=xt[en]=xt[Jt]=xt[yn]=xt[Ni]=!1;var _t={};_t[Ae]=_t[ke]=_t[Pi]=_t[Qn]=_t[at]=_t[je]=_t[fa]=_t[ha]=_t[ca]=_t[da]=_t[pa]=_t[lt]=_t[et]=_t[Nt]=_t[en]=_t[Jt]=_t[yn]=_t[Fn]=_t[yo]=_t[ks]=_t[Bs]=_t[xo]=!0,_t[Ye]=_t[st]=_t[Ni]=!1;var CC={\u00C0:"A",\u00C1:"A",\u00C2:"A",\u00C3:"A",\u00C4:"A",\u00C5:"A",\u00E0:"a",\u00E1:"a",\u00E2:"a",\u00E3:"a",\u00E4:"a",\u00E5:"a",\u00C7:"C",\u00E7:"c",\u00D0:"D",\u00F0:"d",\u00C8:"E",\u00C9:"E",\u00CA:"E",\u00CB:"E",\u00E8:"e",\u00E9:"e",\u00EA:"e",\u00EB:"e",\u00CC:"I",\u00CD:"I",\u00CE:"I",\u00CF:"I",\u00EC:"i",\u00ED:"i",\u00EE:"i",\u00EF:"i",\u00D1:"N",\u00F1:"n",\u00D2:"O",\u00D3:"O",\u00D4:"O",\u00D5:"O",\u00D6:"O",\u00D8:"O",\u00F2:"o",\u00F3:"o",\u00F4:"o",\u00F5:"o",\u00F6:"o",\u00F8:"o",\u00D9:"U",\u00DA:"U",\u00DB:"U",\u00DC:"U",\u00F9:"u",\u00FA:"u",\u00FB:"u",\u00FC:"u",\u00DD:"Y",\u00FD:"y",\u00FF:"y",\u00C6:"Ae",\u00E6:"ae",\u00DE:"Th",\u00FE:"th",\u00DF:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010A:"C",\u010C:"C",\u0107:"c",\u0109:"c",\u010B:"c",\u010D:"c",\u010E:"D",\u0110:"D",\u010F:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011A:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011B:"e",\u011C:"G",\u011E:"G",\u0120:"G",\u0122:"G",\u011D:"g",\u011F:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012A:"I",\u012C:"I",\u012E:"I",\u0130:"I",\u0129:"i",\u012B:"i",\u012D:"i",\u012F:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013B:"L",\u013D:"L",\u013F:"L",\u0141:"L",\u013A:"l",\u013C:"l",\u013E:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014A:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014B:"n",\u014C:"O",\u014E:"O",\u0150:"O",\u014D:"o",\u014F:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015A:"S",\u015C:"S",\u015E:"S",\u0160:"S",\u015B:"s",\u015D:"s",\u015F:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016A:"U",\u016C:"U",\u016E:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016B:"u",\u016D:"u",\u016F:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017B:"Z",\u017D:"Z",\u017A:"z",\u017C:"z",\u017E:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017F:"s"},IC={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},RC={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},NC={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},PC=parseFloat,AC=parseInt,u0=typeof tr=="object"&&tr&&tr.Object===Object&&tr,OC=typeof self=="object"&&self&&self.Object===Object&&self,nr=u0||OC||Function("return this")(),Ad=t&&!t.nodeType&&t,Eo=Ad&&!0&&e&&!e.nodeType&&e,l0=Eo&&Eo.exports===Ad,Od=l0&&u0.process,tn=function(){try{var D=Eo&&Eo.require&&Eo.require("util").types;return D||Od&&Od.binding&&Od.binding("util")}catch{}}(),f0=tn&&tn.isArrayBuffer,h0=tn&&tn.isDate,c0=tn&&tn.isMap,d0=tn&&tn.isRegExp,p0=tn&&tn.isSet,v0=tn&&tn.isTypedArray;function Xr(D,j,W){switch(W.length){case 0:return D.call(j);case 1:return D.call(j,W[0]);case 2:return D.call(j,W[0],W[1]);case 3:return D.call(j,W[0],W[1],W[2])}return D.apply(j,W)}function LC(D,j,W,ve){for(var Ue=-1,ut=D==null?0:D.length;++Ue<ut;){var Yt=D[Ue];j(ve,Yt,W(Yt),D)}return ve}function rn(D,j){for(var W=-1,ve=D==null?0:D.length;++W<ve&&j(D[W],W,D)!==!1;);return D}function FC(D,j){for(var W=D==null?0:D.length;W--&&j(D[W],W,D)!==!1;);return D}function _0(D,j){for(var W=-1,ve=D==null?0:D.length;++W<ve;)if(!j(D[W],W,D))return!1;return!0}function Li(D,j){for(var W=-1,ve=D==null?0:D.length,Ue=0,ut=[];++W<ve;){var Yt=D[W];j(Yt,W,D)&&(ut[Ue++]=Yt)}return ut}function Yl(D,j){var W=D==null?0:D.length;return!!W&&ga(D,j,0)>-1}function Ld(D,j,W){for(var ve=-1,Ue=D==null?0:D.length;++ve<Ue;)if(W(j,D[ve]))return!0;return!1}function Ct(D,j){for(var W=-1,ve=D==null?0:D.length,Ue=Array(ve);++W<ve;)Ue[W]=j(D[W],W,D);return Ue}function Fi(D,j){for(var W=-1,ve=j.length,Ue=D.length;++W<ve;)D[Ue+W]=j[W];return D}function Fd(D,j,W,ve){var Ue=-1,ut=D==null?0:D.length;for(ve&&ut&&(W=D[++Ue]);++Ue<ut;)W=j(W,D[Ue],Ue,D);return W}function UC(D,j,W,ve){var Ue=D==null?0:D.length;for(ve&&Ue&&(W=D[--Ue]);Ue--;)W=j(W,D[Ue],Ue,D);return W}function Ud(D,j){for(var W=-1,ve=D==null?0:D.length;++W<ve;)if(j(D[W],W,D))return!0;return!1}var kC=kd("length");function BC(D){return D.split("")}function MC(D){return D.match(pd)||[]}function m0(D,j,W){var ve;return W(D,function(Ue,ut,Yt){if(j(Ue,ut,Yt))return ve=ut,!1}),ve}function ql(D,j,W,ve){for(var Ue=D.length,ut=W+(ve?1:-1);ve?ut--:++ut<Ue;)if(j(D[ut],ut,D))return ut;return-1}function ga(D,j,W){return j===j?KC(D,j,W):ql(D,g0,W)}function DC(D,j,W,ve){for(var Ue=W-1,ut=D.length;++Ue<ut;)if(ve(D[Ue],j))return Ue;return-1}function g0(D){return D!==D}function y0(D,j){var W=D==null?0:D.length;return W?Md(D,j)/W:Z}function kd(D){return function(j){return j==null?r:j[D]}}function Bd(D){return function(j){return D==null?r:D[j]}}function x0(D,j,W,ve,Ue){return Ue(D,function(ut,Yt,vt){W=ve?(ve=!1,ut):j(W,ut,Yt,vt)}),W}function GC(D,j){var W=D.length;for(D.sort(j);W--;)D[W]=D[W].value;return D}function Md(D,j){for(var W,ve=-1,Ue=D.length;++ve<Ue;){var ut=j(D[ve]);ut!==r&&(W=W===r?ut:W+ut)}return W}function Dd(D,j){for(var W=-1,ve=Array(D);++W<D;)ve[W]=j(W);return ve}function HC(D,j){return Ct(j,function(W){return[W,D[W]]})}function T0(D){return D&&D.slice(0,S0(D)+1).replace(Ds,"")}function zr(D){return function(j){return D(j)}}function Gd(D,j){return Ct(j,function(W){return D[W]})}function Xs(D,j){return D.has(j)}function E0(D,j){for(var W=-1,ve=D.length;++W<ve&&ga(j,D[W],0)>-1;);return W}function w0(D,j){for(var W=D.length;W--&&ga(j,D[W],0)>-1;);return W}function XC(D,j){for(var W=D.length,ve=0;W--;)D[W]===j&&++ve;return ve}var zC=Bd(CC),VC=Bd(IC);function WC(D){return"\\"+NC[D]}function jC(D,j){return D==null?r:D[j]}function ya(D){return EC.test(D)}function $C(D){return wC.test(D)}function YC(D){for(var j,W=[];!(j=D.next()).done;)W.push(j.value);return W}function Hd(D){var j=-1,W=Array(D.size);return D.forEach(function(ve,Ue){W[++j]=[Ue,ve]}),W}function b0(D,j){return function(W){return D(j(W))}}function Ui(D,j){for(var W=-1,ve=D.length,Ue=0,ut=[];++W<ve;){var Yt=D[W];(Yt===j||Yt===d)&&(D[W]=d,ut[Ue++]=W)}return ut}function Kl(D){var j=-1,W=Array(D.size);return D.forEach(function(ve){W[++j]=ve}),W}function qC(D){var j=-1,W=Array(D.size);return D.forEach(function(ve){W[++j]=[ve,ve]}),W}function KC(D,j,W){for(var ve=W-1,Ue=D.length;++ve<Ue;)if(D[ve]===j)return ve;return-1}function ZC(D,j,W){for(var ve=W+1;ve--;)if(D[ve]===j)return ve;return ve}function xa(D){return ya(D)?QC(D):kC(D)}function xn(D){return ya(D)?eI(D):BC(D)}function S0(D){for(var j=D.length;j--&&Gl.test(D.charAt(j)););return j}var JC=Bd(RC);function QC(D){for(var j=Pd.lastIndex=0;Pd.test(D);)++j;return j}function eI(D){return D.match(Pd)||[]}function tI(D){return D.match(TC)||[]}var rI=function D(j){j=j==null?nr:Ta.defaults(nr.Object(),j,Ta.pick(nr,bC));var W=j.Array,ve=j.Date,Ue=j.Error,ut=j.Function,Yt=j.Math,vt=j.Object,Xd=j.RegExp,nI=j.String,nn=j.TypeError,Zl=W.prototype,iI=ut.prototype,Ea=vt.prototype,Jl=j["__core-js_shared__"],Ql=iI.toString,ct=Ea.hasOwnProperty,oI=0,C0=function(){var s=/[^.]+$/.exec(Jl&&Jl.keys&&Jl.keys.IE_PROTO||"");return s?"Symbol(src)_1."+s:""}(),ef=Ea.toString,aI=Ql.call(vt),sI=nr._,uI=Xd("^"+Ql.call(ct).replace(Ms,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),tf=l0?j.Buffer:r,ki=j.Symbol,rf=j.Uint8Array,I0=tf?tf.allocUnsafe:r,nf=b0(vt.getPrototypeOf,vt),R0=vt.create,N0=Ea.propertyIsEnumerable,of=Zl.splice,P0=ki?ki.isConcatSpreadable:r,zs=ki?ki.iterator:r,wo=ki?ki.toStringTag:r,af=function(){try{var s=Ro(vt,"defineProperty");return s({},"",{}),s}catch{}}(),lI=j.clearTimeout!==nr.clearTimeout&&j.clearTimeout,fI=ve&&ve.now!==nr.Date.now&&ve.now,hI=j.setTimeout!==nr.setTimeout&&j.setTimeout,sf=Yt.ceil,uf=Yt.floor,zd=vt.getOwnPropertySymbols,cI=tf?tf.isBuffer:r,A0=j.isFinite,dI=Zl.join,pI=b0(vt.keys,vt),qt=Yt.max,hr=Yt.min,vI=ve.now,_I=j.parseInt,O0=Yt.random,mI=Zl.reverse,Vd=Ro(j,"DataView"),Vs=Ro(j,"Map"),Wd=Ro(j,"Promise"),wa=Ro(j,"Set"),Ws=Ro(j,"WeakMap"),js=Ro(vt,"create"),lf=Ws&&new Ws,ba={},gI=No(Vd),yI=No(Vs),xI=No(Wd),TI=No(wa),EI=No(Ws),ff=ki?ki.prototype:r,$s=ff?ff.valueOf:r,L0=ff?ff.toString:r;function b(s){if(Ft(s)&&!Be(s)&&!(s instanceof qe)){if(s instanceof on)return s;if(ct.call(s,"__wrapped__"))return Fy(s)}return new on(s)}var Sa=function(){function s(){}return function(l){if(!Pt(l))return{};if(R0)return R0(l);s.prototype=l;var c=new s;return s.prototype=r,c}}();function hf(){}function on(s,l){this.__wrapped__=s,this.__actions__=[],this.__chain__=!!l,this.__index__=0,this.__values__=r}b.templateSettings={escape:od,evaluate:ad,interpolate:Dl,variable:"",imports:{_:b}},b.prototype=hf.prototype,b.prototype.constructor=b,on.prototype=Sa(hf.prototype),on.prototype.constructor=on;function qe(s){this.__wrapped__=s,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=V,this.__views__=[]}function wI(){var s=new qe(this.__wrapped__);return s.__actions__=Pr(this.__actions__),s.__dir__=this.__dir__,s.__filtered__=this.__filtered__,s.__iteratees__=Pr(this.__iteratees__),s.__takeCount__=this.__takeCount__,s.__views__=Pr(this.__views__),s}function bI(){if(this.__filtered__){var s=new qe(this);s.__dir__=-1,s.__filtered__=!0}else s=this.clone(),s.__dir__*=-1;return s}function SI(){var s=this.__wrapped__.value(),l=this.__dir__,c=Be(s),_=l<0,T=c?s.length:0,C=BR(0,T,this.__views__),A=C.start,F=C.end,G=F-A,q=_?F:A-1,K=this.__iteratees__,J=K.length,ce=0,ge=hr(G,this.__takeCount__);if(!c||!_&&T==G&&ge==G)return ny(s,this.__actions__);var Re=[];e:for(;G--&&ce<ge;){q+=l;for(var He=-1,Ne=s[q];++He<J;){var $e=K[He],Ze=$e.iteratee,jr=$e.type,wr=Ze(Ne);if(jr==le)Ne=wr;else if(!wr){if(jr==We)continue e;break e}}Re[ce++]=Ne}return Re}qe.prototype=Sa(hf.prototype),qe.prototype.constructor=qe;function bo(s){var l=-1,c=s==null?0:s.length;for(this.clear();++l<c;){var _=s[l];this.set(_[0],_[1])}}function CI(){this.__data__=js?js(null):{},this.size=0}function II(s){var l=this.has(s)&&delete this.__data__[s];return this.size-=l?1:0,l}function RI(s){var l=this.__data__;if(js){var c=l[s];return c===f?r:c}return ct.call(l,s)?l[s]:r}function NI(s){var l=this.__data__;return js?l[s]!==r:ct.call(l,s)}function PI(s,l){var c=this.__data__;return this.size+=this.has(s)?0:1,c[s]=js&&l===r?f:l,this}bo.prototype.clear=CI,bo.prototype.delete=II,bo.prototype.get=RI,bo.prototype.has=NI,bo.prototype.set=PI;function ei(s){var l=-1,c=s==null?0:s.length;for(this.clear();++l<c;){var _=s[l];this.set(_[0],_[1])}}function AI(){this.__data__=[],this.size=0}function OI(s){var l=this.__data__,c=cf(l,s);if(c<0)return!1;var _=l.length-1;return c==_?l.pop():of.call(l,c,1),--this.size,!0}function LI(s){var l=this.__data__,c=cf(l,s);return c<0?r:l[c][1]}function FI(s){return cf(this.__data__,s)>-1}function UI(s,l){var c=this.__data__,_=cf(c,s);return _<0?(++this.size,c.push([s,l])):c[_][1]=l,this}ei.prototype.clear=AI,ei.prototype.delete=OI,ei.prototype.get=LI,ei.prototype.has=FI,ei.prototype.set=UI;function ti(s){var l=-1,c=s==null?0:s.length;for(this.clear();++l<c;){var _=s[l];this.set(_[0],_[1])}}function kI(){this.size=0,this.__data__={hash:new bo,map:new(Vs||ei),string:new bo}}function BI(s){var l=bf(this,s).delete(s);return this.size-=l?1:0,l}function MI(s){return bf(this,s).get(s)}function DI(s){return bf(this,s).has(s)}function GI(s,l){var c=bf(this,s),_=c.size;return c.set(s,l),this.size+=c.size==_?0:1,this}ti.prototype.clear=kI,ti.prototype.delete=BI,ti.prototype.get=MI,ti.prototype.has=DI,ti.prototype.set=GI;function So(s){var l=-1,c=s==null?0:s.length;for(this.__data__=new ti;++l<c;)this.add(s[l])}function HI(s){return this.__data__.set(s,f),this}function XI(s){return this.__data__.has(s)}So.prototype.add=So.prototype.push=HI,So.prototype.has=XI;function Tn(s){var l=this.__data__=new ei(s);this.size=l.size}function zI(){this.__data__=new ei,this.size=0}function VI(s){var l=this.__data__,c=l.delete(s);return this.size=l.size,c}function WI(s){return this.__data__.get(s)}function jI(s){return this.__data__.has(s)}function $I(s,l){var c=this.__data__;if(c instanceof ei){var _=c.__data__;if(!Vs||_.length<i-1)return _.push([s,l]),this.size=++c.size,this;c=this.__data__=new ti(_)}return c.set(s,l),this.size=c.size,this}Tn.prototype.clear=zI,Tn.prototype.delete=VI,Tn.prototype.get=WI,Tn.prototype.has=jI,Tn.prototype.set=$I;function F0(s,l){var c=Be(s),_=!c&&Po(s),T=!c&&!_&&Hi(s),C=!c&&!_&&!T&&Na(s),A=c||_||T||C,F=A?Dd(s.length,nI):[],G=F.length;for(var q in s)(l||ct.call(s,q))&&!(A&&(q=="length"||T&&(q=="offset"||q=="parent")||C&&(q=="buffer"||q=="byteLength"||q=="byteOffset")||oi(q,G)))&&F.push(q);return F}function U0(s){var l=s.length;return l?s[rp(0,l-1)]:r}function YI(s,l){return Sf(Pr(s),Co(l,0,s.length))}function qI(s){return Sf(Pr(s))}function jd(s,l,c){(c!==r&&!En(s[l],c)||c===r&&!(l in s))&&ri(s,l,c)}function Ys(s,l,c){var _=s[l];(!(ct.call(s,l)&&En(_,c))||c===r&&!(l in s))&&ri(s,l,c)}function cf(s,l){for(var c=s.length;c--;)if(En(s[c][0],l))return c;return-1}function KI(s,l,c,_){return Bi(s,function(T,C,A){l(_,T,c(T),A)}),_}function k0(s,l){return s&&Mn(l,Qt(l),s)}function ZI(s,l){return s&&Mn(l,Or(l),s)}function ri(s,l,c){l=="__proto__"&&af?af(s,l,{configurable:!0,enumerable:!0,value:c,writable:!0}):s[l]=c}function $d(s,l){for(var c=-1,_=l.length,T=W(_),C=s==null;++c<_;)T[c]=C?r:Ip(s,l[c]);return T}function Co(s,l,c){return s===s&&(c!==r&&(s=s<=c?s:c),l!==r&&(s=s>=l?s:l)),s}function an(s,l,c,_,T,C){var A,F=l&p,G=l&v,q=l&m;if(c&&(A=T?c(s,_,T,C):c(s)),A!==r)return A;if(!Pt(s))return s;var K=Be(s);if(K){if(A=DR(s),!F)return Pr(s,A)}else{var J=cr(s),ce=J==st||J==Me;if(Hi(s))return ay(s,F);if(J==Nt||J==Ae||ce&&!T){if(A=G||ce?{}:Sy(s),!F)return G?RR(s,ZI(A,s)):IR(s,k0(A,s))}else{if(!_t[J])return T?s:{};A=GR(s,J,F)}}C||(C=new Tn);var ge=C.get(s);if(ge)return ge;C.set(s,A),e1(s)?s.forEach(function(Ne){A.add(an(Ne,l,c,Ne,s,C))}):Jy(s)&&s.forEach(function(Ne,$e){A.set($e,an(Ne,l,c,$e,s,C))});var Re=q?G?dp:cp:G?Or:Qt,He=K?r:Re(s);return rn(He||s,function(Ne,$e){He&&($e=Ne,Ne=s[$e]),Ys(A,$e,an(Ne,l,c,$e,s,C))}),A}function JI(s){var l=Qt(s);return function(c){return B0(c,s,l)}}function B0(s,l,c){var _=c.length;if(s==null)return!_;for(s=vt(s);_--;){var T=c[_],C=l[T],A=s[T];if(A===r&&!(T in s)||!C(A))return!1}return!0}function M0(s,l,c){if(typeof s!="function")throw new nn(a);return tu(function(){s.apply(r,c)},l)}function qs(s,l,c,_){var T=-1,C=Yl,A=!0,F=s.length,G=[],q=l.length;if(!F)return G;c&&(l=Ct(l,zr(c))),_?(C=Ld,A=!1):l.length>=i&&(C=Xs,A=!1,l=new So(l));e:for(;++T<F;){var K=s[T],J=c==null?K:c(K);if(K=_||K!==0?K:0,A&&J===J){for(var ce=q;ce--;)if(l[ce]===J)continue e;G.push(K)}else C(l,J,_)||G.push(K)}return G}var Bi=hy(Bn),D0=hy(qd,!0);function QI(s,l){var c=!0;return Bi(s,function(_,T,C){return c=!!l(_,T,C),c}),c}function df(s,l,c){for(var _=-1,T=s.length;++_<T;){var C=s[_],A=l(C);if(A!=null&&(F===r?A===A&&!Wr(A):c(A,F)))var F=A,G=C}return G}function eR(s,l,c,_){var T=s.length;for(c=De(c),c<0&&(c=-c>T?0:T+c),_=_===r||_>T?T:De(_),_<0&&(_+=T),_=c>_?0:r1(_);c<_;)s[c++]=l;return s}function G0(s,l){var c=[];return Bi(s,function(_,T,C){l(_,T,C)&&c.push(_)}),c}function ir(s,l,c,_,T){var C=-1,A=s.length;for(c||(c=XR),T||(T=[]);++C<A;){var F=s[C];l>0&&c(F)?l>1?ir(F,l-1,c,_,T):Fi(T,F):_||(T[T.length]=F)}return T}var Yd=cy(),H0=cy(!0);function Bn(s,l){return s&&Yd(s,l,Qt)}function qd(s,l){return s&&H0(s,l,Qt)}function pf(s,l){return Li(l,function(c){return ai(s[c])})}function Io(s,l){l=Di(l,s);for(var c=0,_=l.length;s!=null&&c<_;)s=s[Dn(l[c++])];return c&&c==_?s:r}function X0(s,l,c){var _=l(s);return Be(s)?_:Fi(_,c(s))}function Tr(s){return s==null?s===r?Ll:Ve:wo&&wo in vt(s)?kR(s):qR(s)}function Kd(s,l){return s>l}function tR(s,l){return s!=null&&ct.call(s,l)}function rR(s,l){return s!=null&&l in vt(s)}function nR(s,l,c){return s>=hr(l,c)&&s<qt(l,c)}function Zd(s,l,c){for(var _=c?Ld:Yl,T=s[0].length,C=s.length,A=C,F=W(C),G=1/0,q=[];A--;){var K=s[A];A&&l&&(K=Ct(K,zr(l))),G=hr(K.length,G),F[A]=!c&&(l||T>=120&&K.length>=120)?new So(A&&K):r}K=s[0];var J=-1,ce=F[0];e:for(;++J<T&&q.length<G;){var ge=K[J],Re=l?l(ge):ge;if(ge=c||ge!==0?ge:0,!(ce?Xs(ce,Re):_(q,Re,c))){for(A=C;--A;){var He=F[A];if(!(He?Xs(He,Re):_(s[A],Re,c)))continue e}ce&&ce.push(Re),q.push(ge)}}return q}function iR(s,l,c,_){return Bn(s,function(T,C,A){l(_,c(T),C,A)}),_}function Ks(s,l,c){l=Di(l,s),s=Ny(s,l);var _=s==null?s:s[Dn(un(l))];return _==null?r:Xr(_,s,c)}function z0(s){return Ft(s)&&Tr(s)==Ae}function oR(s){return Ft(s)&&Tr(s)==Pi}function aR(s){return Ft(s)&&Tr(s)==je}function Zs(s,l,c,_,T){return s===l?!0:s==null||l==null||!Ft(s)&&!Ft(l)?s!==s&&l!==l:sR(s,l,c,_,Zs,T)}function sR(s,l,c,_,T,C){var A=Be(s),F=Be(l),G=A?ke:cr(s),q=F?ke:cr(l);G=G==Ae?Nt:G,q=q==Ae?Nt:q;var K=G==Nt,J=q==Nt,ce=G==q;if(ce&&Hi(s)){if(!Hi(l))return!1;A=!0,K=!1}if(ce&&!K)return C||(C=new Tn),A||Na(s)?Ey(s,l,c,_,T,C):FR(s,l,G,c,_,T,C);if(!(c&y)){var ge=K&&ct.call(s,"__wrapped__"),Re=J&&ct.call(l,"__wrapped__");if(ge||Re){var He=ge?s.value():s,Ne=Re?l.value():l;return C||(C=new Tn),T(He,Ne,c,_,C)}}return ce?(C||(C=new Tn),UR(s,l,c,_,T,C)):!1}function uR(s){return Ft(s)&&cr(s)==lt}function Jd(s,l,c,_){var T=c.length,C=T,A=!_;if(s==null)return!C;for(s=vt(s);T--;){var F=c[T];if(A&&F[2]?F[1]!==s[F[0]]:!(F[0]in s))return!1}for(;++T<C;){F=c[T];var G=F[0],q=s[G],K=F[1];if(A&&F[2]){if(q===r&&!(G in s))return!1}else{var J=new Tn;if(_)var ce=_(q,K,G,s,l,J);if(!(ce===r?Zs(K,q,y|E,_,J):ce))return!1}}return!0}function V0(s){if(!Pt(s)||VR(s))return!1;var l=ai(s)?uI:xd;return l.test(No(s))}function lR(s){return Ft(s)&&Tr(s)==en}function fR(s){return Ft(s)&&cr(s)==Jt}function hR(s){return Ft(s)&&Af(s.length)&&!!xt[Tr(s)]}function W0(s){return typeof s=="function"?s:s==null?Lr:typeof s=="object"?Be(s)?Y0(s[0],s[1]):$0(s):d1(s)}function Qd(s){if(!eu(s))return pI(s);var l=[];for(var c in vt(s))ct.call(s,c)&&c!="constructor"&&l.push(c);return l}function cR(s){if(!Pt(s))return YR(s);var l=eu(s),c=[];for(var _ in s)_=="constructor"&&(l||!ct.call(s,_))||c.push(_);return c}function ep(s,l){return s<l}function j0(s,l){var c=-1,_=Ar(s)?W(s.length):[];return Bi(s,function(T,C,A){_[++c]=l(T,C,A)}),_}function $0(s){var l=vp(s);return l.length==1&&l[0][2]?Iy(l[0][0],l[0][1]):function(c){return c===s||Jd(c,s,l)}}function Y0(s,l){return mp(s)&&Cy(l)?Iy(Dn(s),l):function(c){var _=Ip(c,s);return _===r&&_===l?Rp(c,s):Zs(l,_,y|E)}}function vf(s,l,c,_,T){s!==l&&Yd(l,function(C,A){if(T||(T=new Tn),Pt(C))dR(s,l,A,c,vf,_,T);else{var F=_?_(yp(s,A),C,A+"",s,l,T):r;F===r&&(F=C),jd(s,A,F)}},Or)}function dR(s,l,c,_,T,C,A){var F=yp(s,c),G=yp(l,c),q=A.get(G);if(q){jd(s,c,q);return}var K=C?C(F,G,c+"",s,l,A):r,J=K===r;if(J){var ce=Be(G),ge=!ce&&Hi(G),Re=!ce&&!ge&&Na(G);K=G,ce||ge||Re?Be(F)?K=F:Gt(F)?K=Pr(F):ge?(J=!1,K=ay(G,!0)):Re?(J=!1,K=sy(G,!0)):K=[]:ru(G)||Po(G)?(K=F,Po(F)?K=n1(F):(!Pt(F)||ai(F))&&(K=Sy(G))):J=!1}J&&(A.set(G,K),T(K,G,_,C,A),A.delete(G)),jd(s,c,K)}function q0(s,l){var c=s.length;if(!!c)return l+=l<0?c:0,oi(l,c)?s[l]:r}function K0(s,l,c){l.length?l=Ct(l,function(C){return Be(C)?function(A){return Io(A,C.length===1?C[0]:C)}:C}):l=[Lr];var _=-1;l=Ct(l,zr(Ce()));var T=j0(s,function(C,A,F){var G=Ct(l,function(q){return q(C)});return{criteria:G,index:++_,value:C}});return GC(T,function(C,A){return CR(C,A,c)})}function pR(s,l){return Z0(s,l,function(c,_){return Rp(s,_)})}function Z0(s,l,c){for(var _=-1,T=l.length,C={};++_<T;){var A=l[_],F=Io(s,A);c(F,A)&&Js(C,Di(A,s),F)}return C}function vR(s){return function(l){return Io(l,s)}}function tp(s,l,c,_){var T=_?DC:ga,C=-1,A=l.length,F=s;for(s===l&&(l=Pr(l)),c&&(F=Ct(s,zr(c)));++C<A;)for(var G=0,q=l[C],K=c?c(q):q;(G=T(F,K,G,_))>-1;)F!==s&&of.call(F,G,1),of.call(s,G,1);return s}function J0(s,l){for(var c=s?l.length:0,_=c-1;c--;){var T=l[c];if(c==_||T!==C){var C=T;oi(T)?of.call(s,T,1):op(s,T)}}return s}function rp(s,l){return s+uf(O0()*(l-s+1))}function _R(s,l,c,_){for(var T=-1,C=qt(sf((l-s)/(c||1)),0),A=W(C);C--;)A[_?C:++T]=s,s+=c;return A}function np(s,l){var c="";if(!s||l<1||l>Oe)return c;do l%2&&(c+=s),l=uf(l/2),l&&(s+=s);while(l);return c}function ze(s,l){return xp(Ry(s,l,Lr),s+"")}function mR(s){return U0(Pa(s))}function gR(s,l){var c=Pa(s);return Sf(c,Co(l,0,c.length))}function Js(s,l,c,_){if(!Pt(s))return s;l=Di(l,s);for(var T=-1,C=l.length,A=C-1,F=s;F!=null&&++T<C;){var G=Dn(l[T]),q=c;if(G==="__proto__"||G==="constructor"||G==="prototype")return s;if(T!=A){var K=F[G];q=_?_(K,G,F):r,q===r&&(q=Pt(K)?K:oi(l[T+1])?[]:{})}Ys(F,G,q),F=F[G]}return s}var Q0=lf?function(s,l){return lf.set(s,l),s}:Lr,yR=af?function(s,l){return af(s,"toString",{configurable:!0,enumerable:!1,value:Pp(l),writable:!0})}:Lr;function xR(s){return Sf(Pa(s))}function sn(s,l,c){var _=-1,T=s.length;l<0&&(l=-l>T?0:T+l),c=c>T?T:c,c<0&&(c+=T),T=l>c?0:c-l>>>0,l>>>=0;for(var C=W(T);++_<T;)C[_]=s[_+l];return C}function TR(s,l){var c;return Bi(s,function(_,T,C){return c=l(_,T,C),!c}),!!c}function _f(s,l,c){var _=0,T=s==null?_:s.length;if(typeof l=="number"&&l===l&&T<=he){for(;_<T;){var C=_+T>>>1,A=s[C];A!==null&&!Wr(A)&&(c?A<=l:A<l)?_=C+1:T=C}return T}return ip(s,l,Lr,c)}function ip(s,l,c,_){var T=0,C=s==null?0:s.length;if(C===0)return 0;l=c(l);for(var A=l!==l,F=l===null,G=Wr(l),q=l===r;T<C;){var K=uf((T+C)/2),J=c(s[K]),ce=J!==r,ge=J===null,Re=J===J,He=Wr(J);if(A)var Ne=_||Re;else q?Ne=Re&&(_||ce):F?Ne=Re&&ce&&(_||!ge):G?Ne=Re&&ce&&!ge&&(_||!He):ge||He?Ne=!1:Ne=_?J<=l:J<l;Ne?T=K+1:C=K}return hr(C,re)}function ey(s,l){for(var c=-1,_=s.length,T=0,C=[];++c<_;){var A=s[c],F=l?l(A):A;if(!c||!En(F,G)){var G=F;C[T++]=A===0?0:A}}return C}function ty(s){return typeof s=="number"?s:Wr(s)?Z:+s}function Vr(s){if(typeof s=="string")return s;if(Be(s))return Ct(s,Vr)+"";if(Wr(s))return L0?L0.call(s):"";var l=s+"";return l=="0"&&1/s==-ye?"-0":l}function Mi(s,l,c){var _=-1,T=Yl,C=s.length,A=!0,F=[],G=F;if(c)A=!1,T=Ld;else if(C>=i){var q=l?null:OR(s);if(q)return Kl(q);A=!1,T=Xs,G=new So}else G=l?[]:F;e:for(;++_<C;){var K=s[_],J=l?l(K):K;if(K=c||K!==0?K:0,A&&J===J){for(var ce=G.length;ce--;)if(G[ce]===J)continue e;l&&G.push(J),F.push(K)}else T(G,J,c)||(G!==F&&G.push(J),F.push(K))}return F}function op(s,l){return l=Di(l,s),s=Ny(s,l),s==null||delete s[Dn(un(l))]}function ry(s,l,c,_){return Js(s,l,c(Io(s,l)),_)}function mf(s,l,c,_){for(var T=s.length,C=_?T:-1;(_?C--:++C<T)&&l(s[C],C,s););return c?sn(s,_?0:C,_?C+1:T):sn(s,_?C+1:0,_?T:C)}function ny(s,l){var c=s;return c instanceof qe&&(c=c.value()),Fd(l,function(_,T){return T.func.apply(T.thisArg,Fi([_],T.args))},c)}function ap(s,l,c){var _=s.length;if(_<2)return _?Mi(s[0]):[];for(var T=-1,C=W(_);++T<_;)for(var A=s[T],F=-1;++F<_;)F!=T&&(C[T]=qs(C[T]||A,s[F],l,c));return Mi(ir(C,1),l,c)}function iy(s,l,c){for(var _=-1,T=s.length,C=l.length,A={};++_<T;){var F=_<C?l[_]:r;c(A,s[_],F)}return A}function sp(s){return Gt(s)?s:[]}function up(s){return typeof s=="function"?s:Lr}function Di(s,l){return Be(s)?s:mp(s,l)?[s]:Ly(ft(s))}var ER=ze;function Gi(s,l,c){var _=s.length;return c=c===r?_:c,!l&&c>=_?s:sn(s,l,c)}var oy=lI||function(s){return nr.clearTimeout(s)};function ay(s,l){if(l)return s.slice();var c=s.length,_=I0?I0(c):new s.constructor(c);return s.copy(_),_}function lp(s){var l=new s.constructor(s.byteLength);return new rf(l).set(new rf(s)),l}function wR(s,l){var c=l?lp(s.buffer):s.buffer;return new s.constructor(c,s.byteOffset,s.byteLength)}function bR(s){var l=new s.constructor(s.source,Hl.exec(s));return l.lastIndex=s.lastIndex,l}function SR(s){return $s?vt($s.call(s)):{}}function sy(s,l){var c=l?lp(s.buffer):s.buffer;return new s.constructor(c,s.byteOffset,s.length)}function uy(s,l){if(s!==l){var c=s!==r,_=s===null,T=s===s,C=Wr(s),A=l!==r,F=l===null,G=l===l,q=Wr(l);if(!F&&!q&&!C&&s>l||C&&A&&G&&!F&&!q||_&&A&&G||!c&&G||!T)return 1;if(!_&&!C&&!q&&s<l||q&&c&&T&&!_&&!C||F&&c&&T||!A&&T||!G)return-1}return 0}function CR(s,l,c){for(var _=-1,T=s.criteria,C=l.criteria,A=T.length,F=c.length;++_<A;){var G=uy(T[_],C[_]);if(G){if(_>=F)return G;var q=c[_];return G*(q=="desc"?-1:1)}}return s.index-l.index}function ly(s,l,c,_){for(var T=-1,C=s.length,A=c.length,F=-1,G=l.length,q=qt(C-A,0),K=W(G+q),J=!_;++F<G;)K[F]=l[F];for(;++T<A;)(J||T<C)&&(K[c[T]]=s[T]);for(;q--;)K[F++]=s[T++];return K}function fy(s,l,c,_){for(var T=-1,C=s.length,A=-1,F=c.length,G=-1,q=l.length,K=qt(C-F,0),J=W(K+q),ce=!_;++T<K;)J[T]=s[T];for(var ge=T;++G<q;)J[ge+G]=l[G];for(;++A<F;)(ce||T<C)&&(J[ge+c[A]]=s[T++]);return J}function Pr(s,l){var c=-1,_=s.length;for(l||(l=W(_));++c<_;)l[c]=s[c];return l}function Mn(s,l,c,_){var T=!c;c||(c={});for(var C=-1,A=l.length;++C<A;){var F=l[C],G=_?_(c[F],s[F],F,c,s):r;G===r&&(G=s[F]),T?ri(c,F,G):Ys(c,F,G)}return c}function IR(s,l){return Mn(s,_p(s),l)}function RR(s,l){return Mn(s,wy(s),l)}function gf(s,l){return function(c,_){var T=Be(c)?LC:KI,C=l?l():{};return T(c,s,Ce(_,2),C)}}function Ca(s){return ze(function(l,c){var _=-1,T=c.length,C=T>1?c[T-1]:r,A=T>2?c[2]:r;for(C=s.length>3&&typeof C=="function"?(T--,C):r,A&&Er(c[0],c[1],A)&&(C=T<3?r:C,T=1),l=vt(l);++_<T;){var F=c[_];F&&s(l,F,_,C)}return l})}function hy(s,l){return function(c,_){if(c==null)return c;if(!Ar(c))return s(c,_);for(var T=c.length,C=l?T:-1,A=vt(c);(l?C--:++C<T)&&_(A[C],C,A)!==!1;);return c}}function cy(s){return function(l,c,_){for(var T=-1,C=vt(l),A=_(l),F=A.length;F--;){var G=A[s?F:++T];if(c(C[G],G,C)===!1)break}return l}}function NR(s,l,c){var _=l&g,T=Qs(s);function C(){var A=this&&this!==nr&&this instanceof C?T:s;return A.apply(_?c:this,arguments)}return C}function dy(s){return function(l){l=ft(l);var c=ya(l)?xn(l):r,_=c?c[0]:l.charAt(0),T=c?Gi(c,1).join(""):l.slice(1);return _[s]()+T}}function Ia(s){return function(l){return Fd(h1(f1(l).replace(yC,"")),s,"")}}function Qs(s){return function(){var l=arguments;switch(l.length){case 0:return new s;case 1:return new s(l[0]);case 2:return new s(l[0],l[1]);case 3:return new s(l[0],l[1],l[2]);case 4:return new s(l[0],l[1],l[2],l[3]);case 5:return new s(l[0],l[1],l[2],l[3],l[4]);case 6:return new s(l[0],l[1],l[2],l[3],l[4],l[5]);case 7:return new s(l[0],l[1],l[2],l[3],l[4],l[5],l[6])}var c=Sa(s.prototype),_=s.apply(c,l);return Pt(_)?_:c}}function PR(s,l,c){var _=Qs(s);function T(){for(var C=arguments.length,A=W(C),F=C,G=Ra(T);F--;)A[F]=arguments[F];var q=C<3&&A[0]!==G&&A[C-1]!==G?[]:Ui(A,G);if(C-=q.length,C<c)return gy(s,l,yf,T.placeholder,r,A,q,r,r,c-C);var K=this&&this!==nr&&this instanceof T?_:s;return Xr(K,this,A)}return T}function py(s){return function(l,c,_){var T=vt(l);if(!Ar(l)){var C=Ce(c,3);l=Qt(l),c=function(F){return C(T[F],F,T)}}var A=s(l,c,_);return A>-1?T[C?l[A]:A]:r}}function vy(s){return ii(function(l){var c=l.length,_=c,T=on.prototype.thru;for(s&&l.reverse();_--;){var C=l[_];if(typeof C!="function")throw new nn(a);if(T&&!A&&wf(C)=="wrapper")var A=new on([],!0)}for(_=A?_:c;++_<c;){C=l[_];var F=wf(C),G=F=="wrapper"?pp(C):r;G&&gp(G[0])&&G[1]==(B|N|R|z)&&!G[4].length&&G[9]==1?A=A[wf(G[0])].apply(A,G[3]):A=C.length==1&&gp(C)?A[F]():A.thru(C)}return function(){var q=arguments,K=q[0];if(A&&q.length==1&&Be(K))return A.plant(K).value();for(var J=0,ce=c?l[J].apply(this,q):K;++J<c;)ce=l[J].call(this,ce);return ce}})}function yf(s,l,c,_,T,C,A,F,G,q){var K=l&B,J=l&g,ce=l&x,ge=l&(N|O),Re=l&M,He=ce?r:Qs(s);function Ne(){for(var $e=arguments.length,Ze=W($e),jr=$e;jr--;)Ze[jr]=arguments[jr];if(ge)var wr=Ra(Ne),$r=XC(Ze,wr);if(_&&(Ze=ly(Ze,_,T,ge)),C&&(Ze=fy(Ze,C,A,ge)),$e-=$r,ge&&$e<q){var Ht=Ui(Ze,wr);return gy(s,l,yf,Ne.placeholder,c,Ze,Ht,F,G,q-$e)}var wn=J?c:this,ui=ce?wn[s]:s;return $e=Ze.length,F?Ze=KR(Ze,F):Re&&$e>1&&Ze.reverse(),K&&G<$e&&(Ze.length=G),this&&this!==nr&&this instanceof Ne&&(ui=He||Qs(ui)),ui.apply(wn,Ze)}return Ne}function _y(s,l){return function(c,_){return iR(c,s,l(_),{})}}function xf(s,l){return function(c,_){var T;if(c===r&&_===r)return l;if(c!==r&&(T=c),_!==r){if(T===r)return _;typeof c=="string"||typeof _=="string"?(c=Vr(c),_=Vr(_)):(c=ty(c),_=ty(_)),T=s(c,_)}return T}}function fp(s){return ii(function(l){return l=Ct(l,zr(Ce())),ze(function(c){var _=this;return s(l,function(T){return Xr(T,_,c)})})})}function Tf(s,l){l=l===r?" ":Vr(l);var c=l.length;if(c<2)return c?np(l,s):l;var _=np(l,sf(s/xa(l)));return ya(l)?Gi(xn(_),0,s).join(""):_.slice(0,s)}function AR(s,l,c,_){var T=l&g,C=Qs(s);function A(){for(var F=-1,G=arguments.length,q=-1,K=_.length,J=W(K+G),ce=this&&this!==nr&&this instanceof A?C:s;++q<K;)J[q]=_[q];for(;G--;)J[q++]=arguments[++F];return Xr(ce,T?c:this,J)}return A}function my(s){return function(l,c,_){return _&&typeof _!="number"&&Er(l,c,_)&&(c=_=r),l=si(l),c===r?(c=l,l=0):c=si(c),_=_===r?l<c?1:-1:si(_),_R(l,c,_,s)}}function Ef(s){return function(l,c){return typeof l=="string"&&typeof c=="string"||(l=ln(l),c=ln(c)),s(l,c)}}function gy(s,l,c,_,T,C,A,F,G,q){var K=l&N,J=K?A:r,ce=K?r:A,ge=K?C:r,Re=K?r:C;l|=K?R:I,l&=~(K?I:R),l&w||(l&=~(g|x));var He=[s,l,T,ge,J,Re,ce,F,G,q],Ne=c.apply(r,He);return gp(s)&&Py(Ne,He),Ne.placeholder=_,Ay(Ne,s,l)}function hp(s){var l=Yt[s];return function(c,_){if(c=ln(c),_=_==null?0:hr(De(_),292),_&&A0(c)){var T=(ft(c)+"e").split("e"),C=l(T[0]+"e"+(+T[1]+_));return T=(ft(C)+"e").split("e"),+(T[0]+"e"+(+T[1]-_))}return l(c)}}var OR=wa&&1/Kl(new wa([,-0]))[1]==ye?function(s){return new wa(s)}:Lp;function yy(s){return function(l){var c=cr(l);return c==lt?Hd(l):c==Jt?qC(l):HC(l,s(l))}}function ni(s,l,c,_,T,C,A,F){var G=l&x;if(!G&&typeof s!="function")throw new nn(a);var q=_?_.length:0;if(q||(l&=~(R|I),_=T=r),A=A===r?A:qt(De(A),0),F=F===r?F:De(F),q-=T?T.length:0,l&I){var K=_,J=T;_=T=r}var ce=G?r:pp(s),ge=[s,l,c,_,T,K,J,C,A,F];if(ce&&$R(ge,ce),s=ge[0],l=ge[1],c=ge[2],_=ge[3],T=ge[4],F=ge[9]=ge[9]===r?G?0:s.length:qt(ge[9]-q,0),!F&&l&(N|O)&&(l&=~(N|O)),!l||l==g)var Re=NR(s,l,c);else l==N||l==O?Re=PR(s,l,F):(l==R||l==(g|R))&&!T.length?Re=AR(s,l,c,_):Re=yf.apply(r,ge);var He=ce?Q0:Py;return Ay(He(Re,ge),s,l)}function xy(s,l,c,_){return s===r||En(s,Ea[c])&&!ct.call(_,c)?l:s}function Ty(s,l,c,_,T,C){return Pt(s)&&Pt(l)&&(C.set(l,s),vf(s,l,r,Ty,C),C.delete(l)),s}function LR(s){return ru(s)?r:s}function Ey(s,l,c,_,T,C){var A=c&y,F=s.length,G=l.length;if(F!=G&&!(A&&G>F))return!1;var q=C.get(s),K=C.get(l);if(q&&K)return q==l&&K==s;var J=-1,ce=!0,ge=c&E?new So:r;for(C.set(s,l),C.set(l,s);++J<F;){var Re=s[J],He=l[J];if(_)var Ne=A?_(He,Re,J,l,s,C):_(Re,He,J,s,l,C);if(Ne!==r){if(Ne)continue;ce=!1;break}if(ge){if(!Ud(l,function($e,Ze){if(!Xs(ge,Ze)&&(Re===$e||T(Re,$e,c,_,C)))return ge.push(Ze)})){ce=!1;break}}else if(!(Re===He||T(Re,He,c,_,C))){ce=!1;break}}return C.delete(s),C.delete(l),ce}function FR(s,l,c,_,T,C,A){switch(c){case Qn:if(s.byteLength!=l.byteLength||s.byteOffset!=l.byteOffset)return!1;s=s.buffer,l=l.buffer;case Pi:return!(s.byteLength!=l.byteLength||!C(new rf(s),new rf(l)));case at:case je:case et:return En(+s,+l);case Ye:return s.name==l.name&&s.message==l.message;case en:case yn:return s==l+"";case lt:var F=Hd;case Jt:var G=_&y;if(F||(F=Kl),s.size!=l.size&&!G)return!1;var q=A.get(s);if(q)return q==l;_|=E,A.set(s,l);var K=Ey(F(s),F(l),_,T,C,A);return A.delete(s),K;case Fn:if($s)return $s.call(s)==$s.call(l)}return!1}function UR(s,l,c,_,T,C){var A=c&y,F=cp(s),G=F.length,q=cp(l),K=q.length;if(G!=K&&!A)return!1;for(var J=G;J--;){var ce=F[J];if(!(A?ce in l:ct.call(l,ce)))return!1}var ge=C.get(s),Re=C.get(l);if(ge&&Re)return ge==l&&Re==s;var He=!0;C.set(s,l),C.set(l,s);for(var Ne=A;++J<G;){ce=F[J];var $e=s[ce],Ze=l[ce];if(_)var jr=A?_(Ze,$e,ce,l,s,C):_($e,Ze,ce,s,l,C);if(!(jr===r?$e===Ze||T($e,Ze,c,_,C):jr)){He=!1;break}Ne||(Ne=ce=="constructor")}if(He&&!Ne){var wr=s.constructor,$r=l.constructor;wr!=$r&&"constructor"in s&&"constructor"in l&&!(typeof wr=="function"&&wr instanceof wr&&typeof $r=="function"&&$r instanceof $r)&&(He=!1)}return C.delete(s),C.delete(l),He}function ii(s){return xp(Ry(s,r,By),s+"")}function cp(s){return X0(s,Qt,_p)}function dp(s){return X0(s,Or,wy)}var pp=lf?function(s){return lf.get(s)}:Lp;function wf(s){for(var l=s.name+"",c=ba[l],_=ct.call(ba,l)?c.length:0;_--;){var T=c[_],C=T.func;if(C==null||C==s)return T.name}return l}function Ra(s){var l=ct.call(b,"placeholder")?b:s;return l.placeholder}function Ce(){var s=b.iteratee||Ap;return s=s===Ap?W0:s,arguments.length?s(arguments[0],arguments[1]):s}function bf(s,l){var c=s.__data__;return zR(l)?c[typeof l=="string"?"string":"hash"]:c.map}function vp(s){for(var l=Qt(s),c=l.length;c--;){var _=l[c],T=s[_];l[c]=[_,T,Cy(T)]}return l}function Ro(s,l){var c=jC(s,l);return V0(c)?c:r}function kR(s){var l=ct.call(s,wo),c=s[wo];try{s[wo]=r;var _=!0}catch{}var T=ef.call(s);return _&&(l?s[wo]=c:delete s[wo]),T}var _p=zd?function(s){return s==null?[]:(s=vt(s),Li(zd(s),function(l){return N0.call(s,l)}))}:Fp,wy=zd?function(s){for(var l=[];s;)Fi(l,_p(s)),s=nf(s);return l}:Fp,cr=Tr;(Vd&&cr(new Vd(new ArrayBuffer(1)))!=Qn||Vs&&cr(new Vs)!=lt||Wd&&cr(Wd.resolve())!=Nr||wa&&cr(new wa)!=Jt||Ws&&cr(new Ws)!=Ni)&&(cr=function(s){var l=Tr(s),c=l==Nt?s.constructor:r,_=c?No(c):"";if(_)switch(_){case gI:return Qn;case yI:return lt;case xI:return Nr;case TI:return Jt;case EI:return Ni}return l});function BR(s,l,c){for(var _=-1,T=c.length;++_<T;){var C=c[_],A=C.size;switch(C.type){case"drop":s+=A;break;case"dropRight":l-=A;break;case"take":l=hr(l,s+A);break;case"takeRight":s=qt(s,l-A);break}}return{start:s,end:l}}function MR(s){var l=s.match(cd);return l?l[1].split(dd):[]}function by(s,l,c){l=Di(l,s);for(var _=-1,T=l.length,C=!1;++_<T;){var A=Dn(l[_]);if(!(C=s!=null&&c(s,A)))break;s=s[A]}return C||++_!=T?C:(T=s==null?0:s.length,!!T&&Af(T)&&oi(A,T)&&(Be(s)||Po(s)))}function DR(s){var l=s.length,c=new s.constructor(l);return l&&typeof s[0]=="string"&&ct.call(s,"index")&&(c.index=s.index,c.input=s.input),c}function Sy(s){return typeof s.constructor=="function"&&!eu(s)?Sa(nf(s)):{}}function GR(s,l,c){var _=s.constructor;switch(l){case Pi:return lp(s);case at:case je:return new _(+s);case Qn:return wR(s,c);case fa:case ha:case ca:case da:case pa:case yo:case ks:case Bs:case xo:return sy(s,c);case lt:return new _;case et:case yn:return new _(s);case en:return bR(s);case Jt:return new _;case Fn:return SR(s)}}function HR(s,l){var c=l.length;if(!c)return s;var _=c-1;return l[_]=(c>1?"& ":"")+l[_],l=l.join(c>2?", ":" "),s.replace(hd,`{
/* [wrapped with `+l+`] */
`)}function XR(s){return Be(s)||Po(s)||!!(P0&&s&&s[P0])}function oi(s,l){var c=typeof s;return l=l==null?Oe:l,!!l&&(c=="number"||c!="symbol"&&Ed.test(s))&&s>-1&&s%1==0&&s<l}function Er(s,l,c){if(!Pt(c))return!1;var _=typeof l;return(_=="number"?Ar(c)&&oi(l,c.length):_=="string"&&l in c)?En(c[l],s):!1}function mp(s,l){if(Be(s))return!1;var c=typeof s;return c=="number"||c=="symbol"||c=="boolean"||s==null||Wr(s)?!0:ud.test(s)||!sd.test(s)||l!=null&&s in vt(l)}function zR(s){var l=typeof s;return l=="string"||l=="number"||l=="symbol"||l=="boolean"?s!=="__proto__":s===null}function gp(s){var l=wf(s),c=b[l];if(typeof c!="function"||!(l in qe.prototype))return!1;if(s===c)return!0;var _=pp(c);return!!_&&s===_[0]}function VR(s){return!!C0&&C0 in s}var WR=Jl?ai:Up;function eu(s){var l=s&&s.constructor,c=typeof l=="function"&&l.prototype||Ea;return s===c}function Cy(s){return s===s&&!Pt(s)}function Iy(s,l){return function(c){return c==null?!1:c[s]===l&&(l!==r||s in vt(c))}}function jR(s){var l=Nf(s,function(_){return c.size===h&&c.clear(),_}),c=l.cache;return l}function $R(s,l){var c=s[1],_=l[1],T=c|_,C=T<(g|x|B),A=_==B&&c==N||_==B&&c==z&&s[7].length<=l[8]||_==(B|z)&&l[7].length<=l[8]&&c==N;if(!(C||A))return s;_&g&&(s[2]=l[2],T|=c&g?0:w);var F=l[3];if(F){var G=s[3];s[3]=G?ly(G,F,l[4]):F,s[4]=G?Ui(s[3],d):l[4]}return F=l[5],F&&(G=s[5],s[5]=G?fy(G,F,l[6]):F,s[6]=G?Ui(s[5],d):l[6]),F=l[7],F&&(s[7]=F),_&B&&(s[8]=s[8]==null?l[8]:hr(s[8],l[8])),s[9]==null&&(s[9]=l[9]),s[0]=l[0],s[1]=T,s}function YR(s){var l=[];if(s!=null)for(var c in vt(s))l.push(c);return l}function qR(s){return ef.call(s)}function Ry(s,l,c){return l=qt(l===r?s.length-1:l,0),function(){for(var _=arguments,T=-1,C=qt(_.length-l,0),A=W(C);++T<C;)A[T]=_[l+T];T=-1;for(var F=W(l+1);++T<l;)F[T]=_[T];return F[l]=c(A),Xr(s,this,F)}}function Ny(s,l){return l.length<2?s:Io(s,sn(l,0,-1))}function KR(s,l){for(var c=s.length,_=hr(l.length,c),T=Pr(s);_--;){var C=l[_];s[_]=oi(C,c)?T[C]:r}return s}function yp(s,l){if(!(l==="constructor"&&typeof s[l]=="function")&&l!="__proto__")return s[l]}var Py=Oy(Q0),tu=hI||function(s,l){return nr.setTimeout(s,l)},xp=Oy(yR);function Ay(s,l,c){var _=l+"";return xp(s,HR(_,ZR(MR(_),c)))}function Oy(s){var l=0,c=0;return function(){var _=vI(),T=pe-(_-c);if(c=_,T>0){if(++l>=ae)return arguments[0]}else l=0;return s.apply(r,arguments)}}function Sf(s,l){var c=-1,_=s.length,T=_-1;for(l=l===r?_:l;++c<l;){var C=rp(c,T),A=s[C];s[C]=s[c],s[c]=A}return s.length=l,s}var Ly=jR(function(s){var l=[];return s.charCodeAt(0)===46&&l.push(""),s.replace(ld,function(c,_,T,C){l.push(T?C.replace(_d,"$1"):_||c)}),l});function Dn(s){if(typeof s=="string"||Wr(s))return s;var l=s+"";return l=="0"&&1/s==-ye?"-0":l}function No(s){if(s!=null){try{return Ql.call(s)}catch{}try{return s+""}catch{}}return""}function ZR(s,l){return rn(Ee,function(c){var _="_."+c[0];l&c[1]&&!Yl(s,_)&&s.push(_)}),s.sort()}function Fy(s){if(s instanceof qe)return s.clone();var l=new on(s.__wrapped__,s.__chain__);return l.__actions__=Pr(s.__actions__),l.__index__=s.__index__,l.__values__=s.__values__,l}function JR(s,l,c){(c?Er(s,l,c):l===r)?l=1:l=qt(De(l),0);var _=s==null?0:s.length;if(!_||l<1)return[];for(var T=0,C=0,A=W(sf(_/l));T<_;)A[C++]=sn(s,T,T+=l);return A}function QR(s){for(var l=-1,c=s==null?0:s.length,_=0,T=[];++l<c;){var C=s[l];C&&(T[_++]=C)}return T}function eN(){var s=arguments.length;if(!s)return[];for(var l=W(s-1),c=arguments[0],_=s;_--;)l[_-1]=arguments[_];return Fi(Be(c)?Pr(c):[c],ir(l,1))}var tN=ze(function(s,l){return Gt(s)?qs(s,ir(l,1,Gt,!0)):[]}),rN=ze(function(s,l){var c=un(l);return Gt(c)&&(c=r),Gt(s)?qs(s,ir(l,1,Gt,!0),Ce(c,2)):[]}),nN=ze(function(s,l){var c=un(l);return Gt(c)&&(c=r),Gt(s)?qs(s,ir(l,1,Gt,!0),r,c):[]});function iN(s,l,c){var _=s==null?0:s.length;return _?(l=c||l===r?1:De(l),sn(s,l<0?0:l,_)):[]}function oN(s,l,c){var _=s==null?0:s.length;return _?(l=c||l===r?1:De(l),l=_-l,sn(s,0,l<0?0:l)):[]}function aN(s,l){return s&&s.length?mf(s,Ce(l,3),!0,!0):[]}function sN(s,l){return s&&s.length?mf(s,Ce(l,3),!0):[]}function uN(s,l,c,_){var T=s==null?0:s.length;return T?(c&&typeof c!="number"&&Er(s,l,c)&&(c=0,_=T),eR(s,l,c,_)):[]}function Uy(s,l,c){var _=s==null?0:s.length;if(!_)return-1;var T=c==null?0:De(c);return T<0&&(T=qt(_+T,0)),ql(s,Ce(l,3),T)}function ky(s,l,c){var _=s==null?0:s.length;if(!_)return-1;var T=_-1;return c!==r&&(T=De(c),T=c<0?qt(_+T,0):hr(T,_-1)),ql(s,Ce(l,3),T,!0)}function By(s){var l=s==null?0:s.length;return l?ir(s,1):[]}function lN(s){var l=s==null?0:s.length;return l?ir(s,ye):[]}function fN(s,l){var c=s==null?0:s.length;return c?(l=l===r?1:De(l),ir(s,l)):[]}function hN(s){for(var l=-1,c=s==null?0:s.length,_={};++l<c;){var T=s[l];_[T[0]]=T[1]}return _}function My(s){return s&&s.length?s[0]:r}function cN(s,l,c){var _=s==null?0:s.length;if(!_)return-1;var T=c==null?0:De(c);return T<0&&(T=qt(_+T,0)),ga(s,l,T)}function dN(s){var l=s==null?0:s.length;return l?sn(s,0,-1):[]}var pN=ze(function(s){var l=Ct(s,sp);return l.length&&l[0]===s[0]?Zd(l):[]}),vN=ze(function(s){var l=un(s),c=Ct(s,sp);return l===un(c)?l=r:c.pop(),c.length&&c[0]===s[0]?Zd(c,Ce(l,2)):[]}),_N=ze(function(s){var l=un(s),c=Ct(s,sp);return l=typeof l=="function"?l:r,l&&c.pop(),c.length&&c[0]===s[0]?Zd(c,r,l):[]});function mN(s,l){return s==null?"":dI.call(s,l)}function un(s){var l=s==null?0:s.length;return l?s[l-1]:r}function gN(s,l,c){var _=s==null?0:s.length;if(!_)return-1;var T=_;return c!==r&&(T=De(c),T=T<0?qt(_+T,0):hr(T,_-1)),l===l?ZC(s,l,T):ql(s,g0,T,!0)}function yN(s,l){return s&&s.length?q0(s,De(l)):r}var xN=ze(Dy);function Dy(s,l){return s&&s.length&&l&&l.length?tp(s,l):s}function TN(s,l,c){return s&&s.length&&l&&l.length?tp(s,l,Ce(c,2)):s}function EN(s,l,c){return s&&s.length&&l&&l.length?tp(s,l,r,c):s}var wN=ii(function(s,l){var c=s==null?0:s.length,_=$d(s,l);return J0(s,Ct(l,function(T){return oi(T,c)?+T:T}).sort(uy)),_});function bN(s,l){var c=[];if(!(s&&s.length))return c;var _=-1,T=[],C=s.length;for(l=Ce(l,3);++_<C;){var A=s[_];l(A,_,s)&&(c.push(A),T.push(_))}return J0(s,T),c}function Tp(s){return s==null?s:mI.call(s)}function SN(s,l,c){var _=s==null?0:s.length;return _?(c&&typeof c!="number"&&Er(s,l,c)?(l=0,c=_):(l=l==null?0:De(l),c=c===r?_:De(c)),sn(s,l,c)):[]}function CN(s,l){return _f(s,l)}function IN(s,l,c){return ip(s,l,Ce(c,2))}function RN(s,l){var c=s==null?0:s.length;if(c){var _=_f(s,l);if(_<c&&En(s[_],l))return _}return-1}function NN(s,l){return _f(s,l,!0)}function PN(s,l,c){return ip(s,l,Ce(c,2),!0)}function AN(s,l){var c=s==null?0:s.length;if(c){var _=_f(s,l,!0)-1;if(En(s[_],l))return _}return-1}function ON(s){return s&&s.length?ey(s):[]}function LN(s,l){return s&&s.length?ey(s,Ce(l,2)):[]}function FN(s){var l=s==null?0:s.length;return l?sn(s,1,l):[]}function UN(s,l,c){return s&&s.length?(l=c||l===r?1:De(l),sn(s,0,l<0?0:l)):[]}function kN(s,l,c){var _=s==null?0:s.length;return _?(l=c||l===r?1:De(l),l=_-l,sn(s,l<0?0:l,_)):[]}function BN(s,l){return s&&s.length?mf(s,Ce(l,3),!1,!0):[]}function MN(s,l){return s&&s.length?mf(s,Ce(l,3)):[]}var DN=ze(function(s){return Mi(ir(s,1,Gt,!0))}),GN=ze(function(s){var l=un(s);return Gt(l)&&(l=r),Mi(ir(s,1,Gt,!0),Ce(l,2))}),HN=ze(function(s){var l=un(s);return l=typeof l=="function"?l:r,Mi(ir(s,1,Gt,!0),r,l)});function XN(s){return s&&s.length?Mi(s):[]}function zN(s,l){return s&&s.length?Mi(s,Ce(l,2)):[]}function VN(s,l){return l=typeof l=="function"?l:r,s&&s.length?Mi(s,r,l):[]}function Ep(s){if(!(s&&s.length))return[];var l=0;return s=Li(s,function(c){if(Gt(c))return l=qt(c.length,l),!0}),Dd(l,function(c){return Ct(s,kd(c))})}function Gy(s,l){if(!(s&&s.length))return[];var c=Ep(s);return l==null?c:Ct(c,function(_){return Xr(l,r,_)})}var WN=ze(function(s,l){return Gt(s)?qs(s,l):[]}),jN=ze(function(s){return ap(Li(s,Gt))}),$N=ze(function(s){var l=un(s);return Gt(l)&&(l=r),ap(Li(s,Gt),Ce(l,2))}),YN=ze(function(s){var l=un(s);return l=typeof l=="function"?l:r,ap(Li(s,Gt),r,l)}),qN=ze(Ep);function KN(s,l){return iy(s||[],l||[],Ys)}function ZN(s,l){return iy(s||[],l||[],Js)}var JN=ze(function(s){var l=s.length,c=l>1?s[l-1]:r;return c=typeof c=="function"?(s.pop(),c):r,Gy(s,c)});function Hy(s){var l=b(s);return l.__chain__=!0,l}function QN(s,l){return l(s),s}function Cf(s,l){return l(s)}var eP=ii(function(s){var l=s.length,c=l?s[0]:0,_=this.__wrapped__,T=function(C){return $d(C,s)};return l>1||this.__actions__.length||!(_ instanceof qe)||!oi(c)?this.thru(T):(_=_.slice(c,+c+(l?1:0)),_.__actions__.push({func:Cf,args:[T],thisArg:r}),new on(_,this.__chain__).thru(function(C){return l&&!C.length&&C.push(r),C}))});function tP(){return Hy(this)}function rP(){return new on(this.value(),this.__chain__)}function nP(){this.__values__===r&&(this.__values__=t1(this.value()));var s=this.__index__>=this.__values__.length,l=s?r:this.__values__[this.__index__++];return{done:s,value:l}}function iP(){return this}function oP(s){for(var l,c=this;c instanceof hf;){var _=Fy(c);_.__index__=0,_.__values__=r,l?T.__wrapped__=_:l=_;var T=_;c=c.__wrapped__}return T.__wrapped__=s,l}function aP(){var s=this.__wrapped__;if(s instanceof qe){var l=s;return this.__actions__.length&&(l=new qe(this)),l=l.reverse(),l.__actions__.push({func:Cf,args:[Tp],thisArg:r}),new on(l,this.__chain__)}return this.thru(Tp)}function sP(){return ny(this.__wrapped__,this.__actions__)}var uP=gf(function(s,l,c){ct.call(s,c)?++s[c]:ri(s,c,1)});function lP(s,l,c){var _=Be(s)?_0:QI;return c&&Er(s,l,c)&&(l=r),_(s,Ce(l,3))}function fP(s,l){var c=Be(s)?Li:G0;return c(s,Ce(l,3))}var hP=py(Uy),cP=py(ky);function dP(s,l){return ir(If(s,l),1)}function pP(s,l){return ir(If(s,l),ye)}function vP(s,l,c){return c=c===r?1:De(c),ir(If(s,l),c)}function Xy(s,l){var c=Be(s)?rn:Bi;return c(s,Ce(l,3))}function zy(s,l){var c=Be(s)?FC:D0;return c(s,Ce(l,3))}var _P=gf(function(s,l,c){ct.call(s,c)?s[c].push(l):ri(s,c,[l])});function mP(s,l,c,_){s=Ar(s)?s:Pa(s),c=c&&!_?De(c):0;var T=s.length;return c<0&&(c=qt(T+c,0)),Of(s)?c<=T&&s.indexOf(l,c)>-1:!!T&&ga(s,l,c)>-1}var gP=ze(function(s,l,c){var _=-1,T=typeof l=="function",C=Ar(s)?W(s.length):[];return Bi(s,function(A){C[++_]=T?Xr(l,A,c):Ks(A,l,c)}),C}),yP=gf(function(s,l,c){ri(s,c,l)});function If(s,l){var c=Be(s)?Ct:j0;return c(s,Ce(l,3))}function xP(s,l,c,_){return s==null?[]:(Be(l)||(l=l==null?[]:[l]),c=_?r:c,Be(c)||(c=c==null?[]:[c]),K0(s,l,c))}var TP=gf(function(s,l,c){s[c?0:1].push(l)},function(){return[[],[]]});function EP(s,l,c){var _=Be(s)?Fd:x0,T=arguments.length<3;return _(s,Ce(l,4),c,T,Bi)}function wP(s,l,c){var _=Be(s)?UC:x0,T=arguments.length<3;return _(s,Ce(l,4),c,T,D0)}function bP(s,l){var c=Be(s)?Li:G0;return c(s,Pf(Ce(l,3)))}function SP(s){var l=Be(s)?U0:mR;return l(s)}function CP(s,l,c){(c?Er(s,l,c):l===r)?l=1:l=De(l);var _=Be(s)?YI:gR;return _(s,l)}function IP(s){var l=Be(s)?qI:xR;return l(s)}function RP(s){if(s==null)return 0;if(Ar(s))return Of(s)?xa(s):s.length;var l=cr(s);return l==lt||l==Jt?s.size:Qd(s).length}function NP(s,l,c){var _=Be(s)?Ud:TR;return c&&Er(s,l,c)&&(l=r),_(s,Ce(l,3))}var PP=ze(function(s,l){if(s==null)return[];var c=l.length;return c>1&&Er(s,l[0],l[1])?l=[]:c>2&&Er(l[0],l[1],l[2])&&(l=[l[0]]),K0(s,ir(l,1),[])}),Rf=fI||function(){return nr.Date.now()};function AP(s,l){if(typeof l!="function")throw new nn(a);return s=De(s),function(){if(--s<1)return l.apply(this,arguments)}}function Vy(s,l,c){return l=c?r:l,l=s&&l==null?s.length:l,ni(s,B,r,r,r,r,l)}function Wy(s,l){var c;if(typeof l!="function")throw new nn(a);return s=De(s),function(){return--s>0&&(c=l.apply(this,arguments)),s<=1&&(l=r),c}}var wp=ze(function(s,l,c){var _=g;if(c.length){var T=Ui(c,Ra(wp));_|=R}return ni(s,_,l,c,T)}),jy=ze(function(s,l,c){var _=g|x;if(c.length){var T=Ui(c,Ra(jy));_|=R}return ni(l,_,s,c,T)});function $y(s,l,c){l=c?r:l;var _=ni(s,N,r,r,r,r,r,l);return _.placeholder=$y.placeholder,_}function Yy(s,l,c){l=c?r:l;var _=ni(s,O,r,r,r,r,r,l);return _.placeholder=Yy.placeholder,_}function qy(s,l,c){var _,T,C,A,F,G,q=0,K=!1,J=!1,ce=!0;if(typeof s!="function")throw new nn(a);l=ln(l)||0,Pt(c)&&(K=!!c.leading,J="maxWait"in c,C=J?qt(ln(c.maxWait)||0,l):C,ce="trailing"in c?!!c.trailing:ce);function ge(Ht){var wn=_,ui=T;return _=T=r,q=Ht,A=s.apply(ui,wn),A}function Re(Ht){return q=Ht,F=tu($e,l),K?ge(Ht):A}function He(Ht){var wn=Ht-G,ui=Ht-q,p1=l-wn;return J?hr(p1,C-ui):p1}function Ne(Ht){var wn=Ht-G,ui=Ht-q;return G===r||wn>=l||wn<0||J&&ui>=C}function $e(){var Ht=Rf();if(Ne(Ht))return Ze(Ht);F=tu($e,He(Ht))}function Ze(Ht){return F=r,ce&&_?ge(Ht):(_=T=r,A)}function jr(){F!==r&&oy(F),q=0,_=G=T=F=r}function wr(){return F===r?A:Ze(Rf())}function $r(){var Ht=Rf(),wn=Ne(Ht);if(_=arguments,T=this,G=Ht,wn){if(F===r)return Re(G);if(J)return oy(F),F=tu($e,l),ge(G)}return F===r&&(F=tu($e,l)),A}return $r.cancel=jr,$r.flush=wr,$r}var OP=ze(function(s,l){return M0(s,1,l)}),LP=ze(function(s,l,c){return M0(s,ln(l)||0,c)});function FP(s){return ni(s,M)}function Nf(s,l){if(typeof s!="function"||l!=null&&typeof l!="function")throw new nn(a);var c=function(){var _=arguments,T=l?l.apply(this,_):_[0],C=c.cache;if(C.has(T))return C.get(T);var A=s.apply(this,_);return c.cache=C.set(T,A)||C,A};return c.cache=new(Nf.Cache||ti),c}Nf.Cache=ti;function Pf(s){if(typeof s!="function")throw new nn(a);return function(){var l=arguments;switch(l.length){case 0:return!s.call(this);case 1:return!s.call(this,l[0]);case 2:return!s.call(this,l[0],l[1]);case 3:return!s.call(this,l[0],l[1],l[2])}return!s.apply(this,l)}}function UP(s){return Wy(2,s)}var kP=ER(function(s,l){l=l.length==1&&Be(l[0])?Ct(l[0],zr(Ce())):Ct(ir(l,1),zr(Ce()));var c=l.length;return ze(function(_){for(var T=-1,C=hr(_.length,c);++T<C;)_[T]=l[T].call(this,_[T]);return Xr(s,this,_)})}),bp=ze(function(s,l){var c=Ui(l,Ra(bp));return ni(s,R,r,l,c)}),Ky=ze(function(s,l){var c=Ui(l,Ra(Ky));return ni(s,I,r,l,c)}),BP=ii(function(s,l){return ni(s,z,r,r,r,l)});function MP(s,l){if(typeof s!="function")throw new nn(a);return l=l===r?l:De(l),ze(s,l)}function DP(s,l){if(typeof s!="function")throw new nn(a);return l=l==null?0:qt(De(l),0),ze(function(c){var _=c[l],T=Gi(c,0,l);return _&&Fi(T,_),Xr(s,this,T)})}function GP(s,l,c){var _=!0,T=!0;if(typeof s!="function")throw new nn(a);return Pt(c)&&(_="leading"in c?!!c.leading:_,T="trailing"in c?!!c.trailing:T),qy(s,l,{leading:_,maxWait:l,trailing:T})}function HP(s){return Vy(s,1)}function XP(s,l){return bp(up(l),s)}function zP(){if(!arguments.length)return[];var s=arguments[0];return Be(s)?s:[s]}function VP(s){return an(s,m)}function WP(s,l){return l=typeof l=="function"?l:r,an(s,m,l)}function jP(s){return an(s,p|m)}function $P(s,l){return l=typeof l=="function"?l:r,an(s,p|m,l)}function YP(s,l){return l==null||B0(s,l,Qt(l))}function En(s,l){return s===l||s!==s&&l!==l}var qP=Ef(Kd),KP=Ef(function(s,l){return s>=l}),Po=z0(function(){return arguments}())?z0:function(s){return Ft(s)&&ct.call(s,"callee")&&!N0.call(s,"callee")},Be=W.isArray,ZP=f0?zr(f0):oR;function Ar(s){return s!=null&&Af(s.length)&&!ai(s)}function Gt(s){return Ft(s)&&Ar(s)}function JP(s){return s===!0||s===!1||Ft(s)&&Tr(s)==at}var Hi=cI||Up,QP=h0?zr(h0):aR;function eA(s){return Ft(s)&&s.nodeType===1&&!ru(s)}function tA(s){if(s==null)return!0;if(Ar(s)&&(Be(s)||typeof s=="string"||typeof s.splice=="function"||Hi(s)||Na(s)||Po(s)))return!s.length;var l=cr(s);if(l==lt||l==Jt)return!s.size;if(eu(s))return!Qd(s).length;for(var c in s)if(ct.call(s,c))return!1;return!0}function rA(s,l){return Zs(s,l)}function nA(s,l,c){c=typeof c=="function"?c:r;var _=c?c(s,l):r;return _===r?Zs(s,l,r,c):!!_}function Sp(s){if(!Ft(s))return!1;var l=Tr(s);return l==Ye||l==yt||typeof s.message=="string"&&typeof s.name=="string"&&!ru(s)}function iA(s){return typeof s=="number"&&A0(s)}function ai(s){if(!Pt(s))return!1;var l=Tr(s);return l==st||l==Me||l==ot||l==Ln}function Zy(s){return typeof s=="number"&&s==De(s)}function Af(s){return typeof s=="number"&&s>-1&&s%1==0&&s<=Oe}function Pt(s){var l=typeof s;return s!=null&&(l=="object"||l=="function")}function Ft(s){return s!=null&&typeof s=="object"}var Jy=c0?zr(c0):uR;function oA(s,l){return s===l||Jd(s,l,vp(l))}function aA(s,l,c){return c=typeof c=="function"?c:r,Jd(s,l,vp(l),c)}function sA(s){return Qy(s)&&s!=+s}function uA(s){if(WR(s))throw new Ue(o);return V0(s)}function lA(s){return s===null}function fA(s){return s==null}function Qy(s){return typeof s=="number"||Ft(s)&&Tr(s)==et}function ru(s){if(!Ft(s)||Tr(s)!=Nt)return!1;var l=nf(s);if(l===null)return!0;var c=ct.call(l,"constructor")&&l.constructor;return typeof c=="function"&&c instanceof c&&Ql.call(c)==aI}var Cp=d0?zr(d0):lR;function hA(s){return Zy(s)&&s>=-Oe&&s<=Oe}var e1=p0?zr(p0):fR;function Of(s){return typeof s=="string"||!Be(s)&&Ft(s)&&Tr(s)==yn}function Wr(s){return typeof s=="symbol"||Ft(s)&&Tr(s)==Fn}var Na=v0?zr(v0):hR;function cA(s){return s===r}function dA(s){return Ft(s)&&cr(s)==Ni}function pA(s){return Ft(s)&&Tr(s)==Fl}var vA=Ef(ep),_A=Ef(function(s,l){return s<=l});function t1(s){if(!s)return[];if(Ar(s))return Of(s)?xn(s):Pr(s);if(zs&&s[zs])return YC(s[zs]());var l=cr(s),c=l==lt?Hd:l==Jt?Kl:Pa;return c(s)}function si(s){if(!s)return s===0?s:0;if(s=ln(s),s===ye||s===-ye){var l=s<0?-1:1;return l*ht}return s===s?s:0}function De(s){var l=si(s),c=l%1;return l===l?c?l-c:l:0}function r1(s){return s?Co(De(s),0,V):0}function ln(s){if(typeof s=="number")return s;if(Wr(s))return Z;if(Pt(s)){var l=typeof s.valueOf=="function"?s.valueOf():s;s=Pt(l)?l+"":l}if(typeof s!="string")return s===0?s:+s;s=T0(s);var c=yd.test(s);return c||Td.test(s)?AC(s.slice(2),c?2:8):gd.test(s)?Z:+s}function n1(s){return Mn(s,Or(s))}function mA(s){return s?Co(De(s),-Oe,Oe):s===0?s:0}function ft(s){return s==null?"":Vr(s)}var gA=Ca(function(s,l){if(eu(l)||Ar(l)){Mn(l,Qt(l),s);return}for(var c in l)ct.call(l,c)&&Ys(s,c,l[c])}),i1=Ca(function(s,l){Mn(l,Or(l),s)}),Lf=Ca(function(s,l,c,_){Mn(l,Or(l),s,_)}),yA=Ca(function(s,l,c,_){Mn(l,Qt(l),s,_)}),xA=ii($d);function TA(s,l){var c=Sa(s);return l==null?c:k0(c,l)}var EA=ze(function(s,l){s=vt(s);var c=-1,_=l.length,T=_>2?l[2]:r;for(T&&Er(l[0],l[1],T)&&(_=1);++c<_;)for(var C=l[c],A=Or(C),F=-1,G=A.length;++F<G;){var q=A[F],K=s[q];(K===r||En(K,Ea[q])&&!ct.call(s,q))&&(s[q]=C[q])}return s}),wA=ze(function(s){return s.push(r,Ty),Xr(o1,r,s)});function bA(s,l){return m0(s,Ce(l,3),Bn)}function SA(s,l){return m0(s,Ce(l,3),qd)}function CA(s,l){return s==null?s:Yd(s,Ce(l,3),Or)}function IA(s,l){return s==null?s:H0(s,Ce(l,3),Or)}function RA(s,l){return s&&Bn(s,Ce(l,3))}function NA(s,l){return s&&qd(s,Ce(l,3))}function PA(s){return s==null?[]:pf(s,Qt(s))}function AA(s){return s==null?[]:pf(s,Or(s))}function Ip(s,l,c){var _=s==null?r:Io(s,l);return _===r?c:_}function OA(s,l){return s!=null&&by(s,l,tR)}function Rp(s,l){return s!=null&&by(s,l,rR)}var LA=_y(function(s,l,c){l!=null&&typeof l.toString!="function"&&(l=ef.call(l)),s[l]=c},Pp(Lr)),FA=_y(function(s,l,c){l!=null&&typeof l.toString!="function"&&(l=ef.call(l)),ct.call(s,l)?s[l].push(c):s[l]=[c]},Ce),UA=ze(Ks);function Qt(s){return Ar(s)?F0(s):Qd(s)}function Or(s){return Ar(s)?F0(s,!0):cR(s)}function kA(s,l){var c={};return l=Ce(l,3),Bn(s,function(_,T,C){ri(c,l(_,T,C),_)}),c}function BA(s,l){var c={};return l=Ce(l,3),Bn(s,function(_,T,C){ri(c,T,l(_,T,C))}),c}var MA=Ca(function(s,l,c){vf(s,l,c)}),o1=Ca(function(s,l,c,_){vf(s,l,c,_)}),DA=ii(function(s,l){var c={};if(s==null)return c;var _=!1;l=Ct(l,function(C){return C=Di(C,s),_||(_=C.length>1),C}),Mn(s,dp(s),c),_&&(c=an(c,p|v|m,LR));for(var T=l.length;T--;)op(c,l[T]);return c});function GA(s,l){return a1(s,Pf(Ce(l)))}var HA=ii(function(s,l){return s==null?{}:pR(s,l)});function a1(s,l){if(s==null)return{};var c=Ct(dp(s),function(_){return[_]});return l=Ce(l),Z0(s,c,function(_,T){return l(_,T[0])})}function XA(s,l,c){l=Di(l,s);var _=-1,T=l.length;for(T||(T=1,s=r);++_<T;){var C=s==null?r:s[Dn(l[_])];C===r&&(_=T,C=c),s=ai(C)?C.call(s):C}return s}function zA(s,l,c){return s==null?s:Js(s,l,c)}function VA(s,l,c,_){return _=typeof _=="function"?_:r,s==null?s:Js(s,l,c,_)}var s1=yy(Qt),u1=yy(Or);function WA(s,l,c){var _=Be(s),T=_||Hi(s)||Na(s);if(l=Ce(l,4),c==null){var C=s&&s.constructor;T?c=_?new C:[]:Pt(s)?c=ai(C)?Sa(nf(s)):{}:c={}}return(T?rn:Bn)(s,function(A,F,G){return l(c,A,F,G)}),c}function jA(s,l){return s==null?!0:op(s,l)}function $A(s,l,c){return s==null?s:ry(s,l,up(c))}function YA(s,l,c,_){return _=typeof _=="function"?_:r,s==null?s:ry(s,l,up(c),_)}function Pa(s){return s==null?[]:Gd(s,Qt(s))}function qA(s){return s==null?[]:Gd(s,Or(s))}function KA(s,l,c){return c===r&&(c=l,l=r),c!==r&&(c=ln(c),c=c===c?c:0),l!==r&&(l=ln(l),l=l===l?l:0),Co(ln(s),l,c)}function ZA(s,l,c){return l=si(l),c===r?(c=l,l=0):c=si(c),s=ln(s),nR(s,l,c)}function JA(s,l,c){if(c&&typeof c!="boolean"&&Er(s,l,c)&&(l=c=r),c===r&&(typeof l=="boolean"?(c=l,l=r):typeof s=="boolean"&&(c=s,s=r)),s===r&&l===r?(s=0,l=1):(s=si(s),l===r?(l=s,s=0):l=si(l)),s>l){var _=s;s=l,l=_}if(c||s%1||l%1){var T=O0();return hr(s+T*(l-s+PC("1e-"+((T+"").length-1))),l)}return rp(s,l)}var QA=Ia(function(s,l,c){return l=l.toLowerCase(),s+(c?l1(l):l)});function l1(s){return Np(ft(s).toLowerCase())}function f1(s){return s=ft(s),s&&s.replace(wd,zC).replace(xC,"")}function eO(s,l,c){s=ft(s),l=Vr(l);var _=s.length;c=c===r?_:Co(De(c),0,_);var T=c;return c-=l.length,c>=0&&s.slice(c,T)==l}function tO(s){return s=ft(s),s&&id.test(s)?s.replace(Bl,VC):s}function rO(s){return s=ft(s),s&&fd.test(s)?s.replace(Ms,"\\$&"):s}var nO=Ia(function(s,l,c){return s+(c?"-":"")+l.toLowerCase()}),iO=Ia(function(s,l,c){return s+(c?" ":"")+l.toLowerCase()}),oO=dy("toLowerCase");function aO(s,l,c){s=ft(s),l=De(l);var _=l?xa(s):0;if(!l||_>=l)return s;var T=(l-_)/2;return Tf(uf(T),c)+s+Tf(sf(T),c)}function sO(s,l,c){s=ft(s),l=De(l);var _=l?xa(s):0;return l&&_<l?s+Tf(l-_,c):s}function uO(s,l,c){s=ft(s),l=De(l);var _=l?xa(s):0;return l&&_<l?Tf(l-_,c)+s:s}function lO(s,l,c){return c||l==null?l=0:l&&(l=+l),_I(ft(s).replace(Ds,""),l||0)}function fO(s,l,c){return(c?Er(s,l,c):l===r)?l=1:l=De(l),np(ft(s),l)}function hO(){var s=arguments,l=ft(s[0]);return s.length<3?l:l.replace(s[1],s[2])}var cO=Ia(function(s,l,c){return s+(c?"_":"")+l.toLowerCase()});function dO(s,l,c){return c&&typeof c!="number"&&Er(s,l,c)&&(l=c=r),c=c===r?V:c>>>0,c?(s=ft(s),s&&(typeof l=="string"||l!=null&&!Cp(l))&&(l=Vr(l),!l&&ya(s))?Gi(xn(s),0,c):s.split(l,c)):[]}var pO=Ia(function(s,l,c){return s+(c?" ":"")+Np(l)});function vO(s,l,c){return s=ft(s),c=c==null?0:Co(De(c),0,s.length),l=Vr(l),s.slice(c,c+l.length)==l}function _O(s,l,c){var _=b.templateSettings;c&&Er(s,l,c)&&(l=r),s=ft(s),l=Lf({},l,_,xy);var T=Lf({},l.imports,_.imports,xy),C=Qt(T),A=Gd(T,C),F,G,q=0,K=l.interpolate||va,J="__p += '",ce=Xd((l.escape||va).source+"|"+K.source+"|"+(K===Dl?md:va).source+"|"+(l.evaluate||va).source+"|$","g"),ge="//# sourceURL="+(ct.call(l,"sourceURL")?(l.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++SC+"]")+`
`;s.replace(ce,function(Ne,$e,Ze,jr,wr,$r){return Ze||(Ze=jr),J+=s.slice(q,$r).replace(Xl,WC),$e&&(F=!0,J+=`' +
__e(`+$e+`) +
'`),wr&&(G=!0,J+=`';
`+wr+`;
__p += '`),Ze&&(J+=`' +
((__t = (`+Ze+`)) == null ? '' : __t) +
'`),q=$r+Ne.length,Ne}),J+=`';
`;var Re=ct.call(l,"variable")&&l.variable;if(!Re)J=`with (obj) {
`+J+`
}
`;else if(vd.test(Re))throw new Ue(u);J=(G?J.replace(Ul,""):J).replace(nd,"$1").replace(Un,"$1;"),J="function("+(Re||"obj")+`) {
`+(Re?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(F?", __e = _.escape":"")+(G?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+J+`return __p
}`;var He=c1(function(){return ut(C,ge+"return "+J).apply(r,A)});if(He.source=J,Sp(He))throw He;return He}function mO(s){return ft(s).toLowerCase()}function gO(s){return ft(s).toUpperCase()}function yO(s,l,c){if(s=ft(s),s&&(c||l===r))return T0(s);if(!s||!(l=Vr(l)))return s;var _=xn(s),T=xn(l),C=E0(_,T),A=w0(_,T)+1;return Gi(_,C,A).join("")}function xO(s,l,c){if(s=ft(s),s&&(c||l===r))return s.slice(0,S0(s)+1);if(!s||!(l=Vr(l)))return s;var _=xn(s),T=w0(_,xn(l))+1;return Gi(_,0,T).join("")}function TO(s,l,c){if(s=ft(s),s&&(c||l===r))return s.replace(Ds,"");if(!s||!(l=Vr(l)))return s;var _=xn(s),T=E0(_,xn(l));return Gi(_,T).join("")}function EO(s,l){var c=$,_=de;if(Pt(l)){var T="separator"in l?l.separator:T;c="length"in l?De(l.length):c,_="omission"in l?Vr(l.omission):_}s=ft(s);var C=s.length;if(ya(s)){var A=xn(s);C=A.length}if(c>=C)return s;var F=c-xa(_);if(F<1)return _;var G=A?Gi(A,0,F).join(""):s.slice(0,F);if(T===r)return G+_;if(A&&(F+=G.length-F),Cp(T)){if(s.slice(F).search(T)){var q,K=G;for(T.global||(T=Xd(T.source,ft(Hl.exec(T))+"g")),T.lastIndex=0;q=T.exec(K);)var J=q.index;G=G.slice(0,J===r?F:J)}}else if(s.indexOf(Vr(T),F)!=F){var ce=G.lastIndexOf(T);ce>-1&&(G=G.slice(0,ce))}return G+_}function wO(s){return s=ft(s),s&&Ml.test(s)?s.replace(kl,JC):s}var bO=Ia(function(s,l,c){return s+(c?" ":"")+l.toUpperCase()}),Np=dy("toUpperCase");function h1(s,l,c){return s=ft(s),l=c?r:l,l===r?$C(s)?tI(s):MC(s):s.match(l)||[]}var c1=ze(function(s,l){try{return Xr(s,r,l)}catch(c){return Sp(c)?c:new Ue(c)}}),SO=ii(function(s,l){return rn(l,function(c){c=Dn(c),ri(s,c,wp(s[c],s))}),s});function CO(s){var l=s==null?0:s.length,c=Ce();return s=l?Ct(s,function(_){if(typeof _[1]!="function")throw new nn(a);return[c(_[0]),_[1]]}):[],ze(function(_){for(var T=-1;++T<l;){var C=s[T];if(Xr(C[0],this,_))return Xr(C[1],this,_)}})}function IO(s){return JI(an(s,p))}function Pp(s){return function(){return s}}function RO(s,l){return s==null||s!==s?l:s}var NO=vy(),PO=vy(!0);function Lr(s){return s}function Ap(s){return W0(typeof s=="function"?s:an(s,p))}function AO(s){return $0(an(s,p))}function OO(s,l){return Y0(s,an(l,p))}var LO=ze(function(s,l){return function(c){return Ks(c,s,l)}}),FO=ze(function(s,l){return function(c){return Ks(s,c,l)}});function Op(s,l,c){var _=Qt(l),T=pf(l,_);c==null&&!(Pt(l)&&(T.length||!_.length))&&(c=l,l=s,s=this,T=pf(l,Qt(l)));var C=!(Pt(c)&&"chain"in c)||!!c.chain,A=ai(s);return rn(T,function(F){var G=l[F];s[F]=G,A&&(s.prototype[F]=function(){var q=this.__chain__;if(C||q){var K=s(this.__wrapped__),J=K.__actions__=Pr(this.__actions__);return J.push({func:G,args:arguments,thisArg:s}),K.__chain__=q,K}return G.apply(s,Fi([this.value()],arguments))})}),s}function UO(){return nr._===this&&(nr._=sI),this}function Lp(){}function kO(s){return s=De(s),ze(function(l){return q0(l,s)})}var BO=fp(Ct),MO=fp(_0),DO=fp(Ud);function d1(s){return mp(s)?kd(Dn(s)):vR(s)}function GO(s){return function(l){return s==null?r:Io(s,l)}}var HO=my(),XO=my(!0);function Fp(){return[]}function Up(){return!1}function zO(){return{}}function VO(){return""}function WO(){return!0}function jO(s,l){if(s=De(s),s<1||s>Oe)return[];var c=V,_=hr(s,V);l=Ce(l),s-=V;for(var T=Dd(_,l);++c<s;)l(c);return T}function $O(s){return Be(s)?Ct(s,Dn):Wr(s)?[s]:Pr(Ly(ft(s)))}function YO(s){var l=++oI;return ft(s)+l}var qO=xf(function(s,l){return s+l},0),KO=hp("ceil"),ZO=xf(function(s,l){return s/l},1),JO=hp("floor");function QO(s){return s&&s.length?df(s,Lr,Kd):r}function e3(s,l){return s&&s.length?df(s,Ce(l,2),Kd):r}function t3(s){return y0(s,Lr)}function r3(s,l){return y0(s,Ce(l,2))}function n3(s){return s&&s.length?df(s,Lr,ep):r}function i3(s,l){return s&&s.length?df(s,Ce(l,2),ep):r}var o3=xf(function(s,l){return s*l},1),a3=hp("round"),s3=xf(function(s,l){return s-l},0);function u3(s){return s&&s.length?Md(s,Lr):0}function l3(s,l){return s&&s.length?Md(s,Ce(l,2)):0}return b.after=AP,b.ary=Vy,b.assign=gA,b.assignIn=i1,b.assignInWith=Lf,b.assignWith=yA,b.at=xA,b.before=Wy,b.bind=wp,b.bindAll=SO,b.bindKey=jy,b.castArray=zP,b.chain=Hy,b.chunk=JR,b.compact=QR,b.concat=eN,b.cond=CO,b.conforms=IO,b.constant=Pp,b.countBy=uP,b.create=TA,b.curry=$y,b.curryRight=Yy,b.debounce=qy,b.defaults=EA,b.defaultsDeep=wA,b.defer=OP,b.delay=LP,b.difference=tN,b.differenceBy=rN,b.differenceWith=nN,b.drop=iN,b.dropRight=oN,b.dropRightWhile=aN,b.dropWhile=sN,b.fill=uN,b.filter=fP,b.flatMap=dP,b.flatMapDeep=pP,b.flatMapDepth=vP,b.flatten=By,b.flattenDeep=lN,b.flattenDepth=fN,b.flip=FP,b.flow=NO,b.flowRight=PO,b.fromPairs=hN,b.functions=PA,b.functionsIn=AA,b.groupBy=_P,b.initial=dN,b.intersection=pN,b.intersectionBy=vN,b.intersectionWith=_N,b.invert=LA,b.invertBy=FA,b.invokeMap=gP,b.iteratee=Ap,b.keyBy=yP,b.keys=Qt,b.keysIn=Or,b.map=If,b.mapKeys=kA,b.mapValues=BA,b.matches=AO,b.matchesProperty=OO,b.memoize=Nf,b.merge=MA,b.mergeWith=o1,b.method=LO,b.methodOf=FO,b.mixin=Op,b.negate=Pf,b.nthArg=kO,b.omit=DA,b.omitBy=GA,b.once=UP,b.orderBy=xP,b.over=BO,b.overArgs=kP,b.overEvery=MO,b.overSome=DO,b.partial=bp,b.partialRight=Ky,b.partition=TP,b.pick=HA,b.pickBy=a1,b.property=d1,b.propertyOf=GO,b.pull=xN,b.pullAll=Dy,b.pullAllBy=TN,b.pullAllWith=EN,b.pullAt=wN,b.range=HO,b.rangeRight=XO,b.rearg=BP,b.reject=bP,b.remove=bN,b.rest=MP,b.reverse=Tp,b.sampleSize=CP,b.set=zA,b.setWith=VA,b.shuffle=IP,b.slice=SN,b.sortBy=PP,b.sortedUniq=ON,b.sortedUniqBy=LN,b.split=dO,b.spread=DP,b.tail=FN,b.take=UN,b.takeRight=kN,b.takeRightWhile=BN,b.takeWhile=MN,b.tap=QN,b.throttle=GP,b.thru=Cf,b.toArray=t1,b.toPairs=s1,b.toPairsIn=u1,b.toPath=$O,b.toPlainObject=n1,b.transform=WA,b.unary=HP,b.union=DN,b.unionBy=GN,b.unionWith=HN,b.uniq=XN,b.uniqBy=zN,b.uniqWith=VN,b.unset=jA,b.unzip=Ep,b.unzipWith=Gy,b.update=$A,b.updateWith=YA,b.values=Pa,b.valuesIn=qA,b.without=WN,b.words=h1,b.wrap=XP,b.xor=jN,b.xorBy=$N,b.xorWith=YN,b.zip=qN,b.zipObject=KN,b.zipObjectDeep=ZN,b.zipWith=JN,b.entries=s1,b.entriesIn=u1,b.extend=i1,b.extendWith=Lf,Op(b,b),b.add=qO,b.attempt=c1,b.camelCase=QA,b.capitalize=l1,b.ceil=KO,b.clamp=KA,b.clone=VP,b.cloneDeep=jP,b.cloneDeepWith=$P,b.cloneWith=WP,b.conformsTo=YP,b.deburr=f1,b.defaultTo=RO,b.divide=ZO,b.endsWith=eO,b.eq=En,b.escape=tO,b.escapeRegExp=rO,b.every=lP,b.find=hP,b.findIndex=Uy,b.findKey=bA,b.findLast=cP,b.findLastIndex=ky,b.findLastKey=SA,b.floor=JO,b.forEach=Xy,b.forEachRight=zy,b.forIn=CA,b.forInRight=IA,b.forOwn=RA,b.forOwnRight=NA,b.get=Ip,b.gt=qP,b.gte=KP,b.has=OA,b.hasIn=Rp,b.head=My,b.identity=Lr,b.includes=mP,b.indexOf=cN,b.inRange=ZA,b.invoke=UA,b.isArguments=Po,b.isArray=Be,b.isArrayBuffer=ZP,b.isArrayLike=Ar,b.isArrayLikeObject=Gt,b.isBoolean=JP,b.isBuffer=Hi,b.isDate=QP,b.isElement=eA,b.isEmpty=tA,b.isEqual=rA,b.isEqualWith=nA,b.isError=Sp,b.isFinite=iA,b.isFunction=ai,b.isInteger=Zy,b.isLength=Af,b.isMap=Jy,b.isMatch=oA,b.isMatchWith=aA,b.isNaN=sA,b.isNative=uA,b.isNil=fA,b.isNull=lA,b.isNumber=Qy,b.isObject=Pt,b.isObjectLike=Ft,b.isPlainObject=ru,b.isRegExp=Cp,b.isSafeInteger=hA,b.isSet=e1,b.isString=Of,b.isSymbol=Wr,b.isTypedArray=Na,b.isUndefined=cA,b.isWeakMap=dA,b.isWeakSet=pA,b.join=mN,b.kebabCase=nO,b.last=un,b.lastIndexOf=gN,b.lowerCase=iO,b.lowerFirst=oO,b.lt=vA,b.lte=_A,b.max=QO,b.maxBy=e3,b.mean=t3,b.meanBy=r3,b.min=n3,b.minBy=i3,b.stubArray=Fp,b.stubFalse=Up,b.stubObject=zO,b.stubString=VO,b.stubTrue=WO,b.multiply=o3,b.nth=yN,b.noConflict=UO,b.noop=Lp,b.now=Rf,b.pad=aO,b.padEnd=sO,b.padStart=uO,b.parseInt=lO,b.random=JA,b.reduce=EP,b.reduceRight=wP,b.repeat=fO,b.replace=hO,b.result=XA,b.round=a3,b.runInContext=D,b.sample=SP,b.size=RP,b.snakeCase=cO,b.some=NP,b.sortedIndex=CN,b.sortedIndexBy=IN,b.sortedIndexOf=RN,b.sortedLastIndex=NN,b.sortedLastIndexBy=PN,b.sortedLastIndexOf=AN,b.startCase=pO,b.startsWith=vO,b.subtract=s3,b.sum=u3,b.sumBy=l3,b.template=_O,b.times=jO,b.toFinite=si,b.toInteger=De,b.toLength=r1,b.toLower=mO,b.toNumber=ln,b.toSafeInteger=mA,b.toString=ft,b.toUpper=gO,b.trim=yO,b.trimEnd=xO,b.trimStart=TO,b.truncate=EO,b.unescape=wO,b.uniqueId=YO,b.upperCase=bO,b.upperFirst=Np,b.each=Xy,b.eachRight=zy,b.first=My,Op(b,function(){var s={};return Bn(b,function(l,c){ct.call(b.prototype,c)||(s[c]=l)}),s}(),{chain:!1}),b.VERSION=n,rn(["bind","bindKey","curry","curryRight","partial","partialRight"],function(s){b[s].placeholder=b}),rn(["drop","take"],function(s,l){qe.prototype[s]=function(c){c=c===r?1:qt(De(c),0);var _=this.__filtered__&&!l?new qe(this):this.clone();return _.__filtered__?_.__takeCount__=hr(c,_.__takeCount__):_.__views__.push({size:hr(c,V),type:s+(_.__dir__<0?"Right":"")}),_},qe.prototype[s+"Right"]=function(c){return this.reverse()[s](c).reverse()}}),rn(["filter","map","takeWhile"],function(s,l){var c=l+1,_=c==We||c==fe;qe.prototype[s]=function(T){var C=this.clone();return C.__iteratees__.push({iteratee:Ce(T,3),type:c}),C.__filtered__=C.__filtered__||_,C}}),rn(["head","last"],function(s,l){var c="take"+(l?"Right":"");qe.prototype[s]=function(){return this[c](1).value()[0]}}),rn(["initial","tail"],function(s,l){var c="drop"+(l?"":"Right");qe.prototype[s]=function(){return this.__filtered__?new qe(this):this[c](1)}}),qe.prototype.compact=function(){return this.filter(Lr)},qe.prototype.find=function(s){return this.filter(s).head()},qe.prototype.findLast=function(s){return this.reverse().find(s)},qe.prototype.invokeMap=ze(function(s,l){return typeof s=="function"?new qe(this):this.map(function(c){return Ks(c,s,l)})}),qe.prototype.reject=function(s){return this.filter(Pf(Ce(s)))},qe.prototype.slice=function(s,l){s=De(s);var c=this;return c.__filtered__&&(s>0||l<0)?new qe(c):(s<0?c=c.takeRight(-s):s&&(c=c.drop(s)),l!==r&&(l=De(l),c=l<0?c.dropRight(-l):c.take(l-s)),c)},qe.prototype.takeRightWhile=function(s){return this.reverse().takeWhile(s).reverse()},qe.prototype.toArray=function(){return this.take(V)},Bn(qe.prototype,function(s,l){var c=/^(?:filter|find|map|reject)|While$/.test(l),_=/^(?:head|last)$/.test(l),T=b[_?"take"+(l=="last"?"Right":""):l],C=_||/^find/.test(l);!T||(b.prototype[l]=function(){var A=this.__wrapped__,F=_?[1]:arguments,G=A instanceof qe,q=F[0],K=G||Be(A),J=function($e){var Ze=T.apply(b,Fi([$e],F));return _&&ce?Ze[0]:Ze};K&&c&&typeof q=="function"&&q.length!=1&&(G=K=!1);var ce=this.__chain__,ge=!!this.__actions__.length,Re=C&&!ce,He=G&&!ge;if(!C&&K){A=He?A:new qe(this);var Ne=s.apply(A,F);return Ne.__actions__.push({func:Cf,args:[J],thisArg:r}),new on(Ne,ce)}return Re&&He?s.apply(this,F):(Ne=this.thru(J),Re?_?Ne.value()[0]:Ne.value():Ne)})}),rn(["pop","push","shift","sort","splice","unshift"],function(s){var l=Zl[s],c=/^(?:push|sort|unshift)$/.test(s)?"tap":"thru",_=/^(?:pop|shift)$/.test(s);b.prototype[s]=function(){var T=arguments;if(_&&!this.__chain__){var C=this.value();return l.apply(Be(C)?C:[],T)}return this[c](function(A){return l.apply(Be(A)?A:[],T)})}}),Bn(qe.prototype,function(s,l){var c=b[l];if(c){var _=c.name+"";ct.call(ba,_)||(ba[_]=[]),ba[_].push({name:l,func:c})}}),ba[yf(r,x).name]=[{name:"wrapper",func:r}],qe.prototype.clone=wI,qe.prototype.reverse=bI,qe.prototype.value=SI,b.prototype.at=eP,b.prototype.chain=tP,b.prototype.commit=rP,b.prototype.next=nP,b.prototype.plant=oP,b.prototype.reverse=aP,b.prototype.toJSON=b.prototype.valueOf=b.prototype.value=sP,b.prototype.first=b.prototype.head,zs&&(b.prototype[zs]=iP),b},Ta=rI();Eo?((Eo.exports=Ta)._=Ta,Ad._=Ta):nr._=Ta}).call(tr)})(Cr,Cr.exports);var nT=Cr.exports;const Ri=(e,t,r)=>{const n=e.split(`
`);let i=[],o=[];const a=n.map(f=>{const h=dk(f);return i=[...i,...h.sentenceAssets],o=[...o,...h.subScene],h});i=nT.uniqWith(i),pk(i),xS.push(r),o=nT.uniqWith(o),vk(o);const u={sceneName:t,sceneUrl:r,sentenceList:a,assetsList:i,subSceneList:o};return bt.info(`\u89E3\u6790\u573A\u666F\uFF1A${t}\uFF0C\u6570\u636E\u4E3A\uFF1A`,u),u},_k="_TextBox_EventHandler_1jp2n_1",mk="_TextBox_main_1jp2n_9",gk="_showSoftly_1jp2n_1",yk="_TextBox_textElement_1jp2n_35",xk="_TextBox_textElement_start_1jp2n_40",Tk="_TextDelayShow_1jp2n_1",Ek="_TextBox_textElement_Settled_1jp2n_45",wk="_TextBox_showName_1jp2n_49",bk="_miniAvatarContainer_1jp2n_65",Sk="_miniAvatarImg_1jp2n_73";var pi={TextBox_EventHandler:_k,TextBox_main:mk,showSoftly:gk,TextBox_textElement:yk,TextBox_textElement_start:xk,TextDelayShow:Tk,TextBox_textElement_Settled:Ek,TextBox_showName:wk,miniAvatarContainer:bk,miniAvatarImg:Sk};const $c=()=>Math.random().toString().substring(0,10),Yc=e=>{for(let t=0;t<se.performList.length;t++){const r=se.performList[t];!r.isHoldOn&&r.performName===e&&(r.stopFunction(),clearTimeout(r.stopTimeout),se.performList.splice(t,1),t--)}},Ck=e=>{bt.debug("\u5355\u6B21\u64AD\u653E\u8BED\u97F3");const t=$c();let r="";for(const i of e.args)i.key==="vocal"&&(r=i.value.toString());let n=document.getElementById("currentVocal");n!==null&&(n.currentTime=0,n.pause()),Ke("stageRef").setStage("vocal",r),setTimeout(()=>{let i=document.getElementById("currentVocal");i!==null&&(i.currentTime=0,i.oncanplay=()=>{i.play();const o={performName:t,duration:1e3*60*60,isOver:!1,isHoldOn:!0,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0};se.performList.push(o)},i.onended=()=>{for(const o of se.performList)o.performName===t&&(o.isOver=!0,o.stopFunction(),Yc(o.performName))})},1)},iT=e=>{const t=Ke("stageRef"),r=Ke("userDataRef");t.setStage("showText",e.content),t.setStage("vocal","");let n=t.stageState.showName;for(const u of e.args)u.key==="speaker"&&(n=u.value),u.key==="clear"&&u.value===!0&&(n=""),u.key==="vocal"&&Ck(e);t.setStage("showName",n),setTimeout(()=>{[...document.querySelectorAll("."+pi.TextBox_textElement_start)].forEach(h=>{h.className=pi.TextBox_textElement})},0);const i=$c(),o=55-20*r.userDataState.optionData.textSpeed,a=750-r.userDataState.optionData.textSpeed*250;return{performName:i,duration:e.content.length*o+a,isOver:!1,isHoldOn:!1,stopFunction:()=>{[...document.querySelectorAll("."+pi.TextBox_textElement)].forEach(h=>{h.className=pi.TextBox_textElement_Settled})},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}},Ik={performName:"",duration:100,isOver:!1,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0},Rk="_MainStage_main_1vixb_1",Nk="_MainStage_showBgSoftly_1vixb_1",Pk="_MainStage_bgContainer_1vixb_10",Ak="_MainStage_bgContainer_onChange_1vixb_16",Ok="_MainStage_oldBgContainer_1vixb_23",Lk="_MainStage_oldBgFadeout_1vixb_1",Fk="_MainStage_oldBgContainer_Settled_1vixb_32";var Bh={MainStage_main:Rk,MainStage_showBgSoftly:Nk,MainStage_bgContainer:Pk,MainStage_bgContainer_onChange:Ak,MainStage_oldBgContainer:Ok,MainStage_oldBgFadeout:Lk,MainStage_oldBgContainer_Settled:Fk};const Uk=e=>{const t=Ke("stageRef").stageState.bgName;return Ke("stageRef").setStage("oldBgName",t),Ke("stageRef").setStage("bgName",e.content),{performName:$c(),duration:1e3,isOver:!1,isHoldOn:!1,stopFunction:()=>{const n=document.getElementById("MainStage_bg_OldContainer");n&&(n.className=Bh.MainStage_oldBgContainer_Settled)},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}},kk=e=>{let t="center",r=e.content;for(const i of e.args)i.key==="left"&&i.value===!0&&(t="left"),i.key==="right"&&i.value===!0&&(t="right"),i.key==="clear"&&i.value===!0&&(r=""),r==="none"&&(r="");const n=Ke("stageRef");switch(t){case"center":n.setStage("figName",r);break;case"left":n.setStage("figNameLeft",r);break;case"right":n.setStage("figNameRight",r);break}return{performName:"none",duration:0,isOver:!1,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!1,stopTimeout:void 0}},Bk=e=>{let t=e.content;return Xc(t),{performName:"none",duration:0,isOver:!1,isHoldOn:!0,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}},Dr=(e,t,r)=>setTimeout(()=>{const n=new MouseEvent("click",{view:window,bubbles:!0,cancelable:!0,clientX:t}),i=document.getElementById(e);i!==null&&i.dispatchEvent(n)},r),Mk=(e,t)=>{Le.sceneStack.push({sceneName:Le.currentScene.sceneName,sceneUrl:Le.currentScene.sceneUrl,continueLine:Le.currentSentenceId}),Ii(e).then(r=>{Le.currentScene=Ri(r,t,e),Le.currentSentenceId=0,bt.debug("\u73B0\u5728\u8C03\u7528\u573A\u666F\uFF0C\u8C03\u7528\u7ED3\u679C\uFF1A",Le),Dr("nextSentence_target",0,0)})},Dk=e=>{const t=e.content.split("/"),r=t[t.length-1];return Mk(e.content,r),{performName:"none",duration:0,isOver:!1,isHoldOn:!0,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}},KS=(e,t)=>{Ii(e).then(r=>{Le.currentScene=Ri(r,t,e),Le.currentSentenceId=0,bt.debug("\u73B0\u5728\u5207\u6362\u573A\u666F\uFF0C\u5207\u6362\u540E\u7684\u7ED3\u679C\uFF1A",Le),Dr("nextSentence_target",0,0)})},Gk=e=>{const t=e.content.split("/"),r=t[t.length-1];return KS(e.content,r),{performName:"none",duration:0,isOver:!1,isHoldOn:!0,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}},Hk="_FullScreenPerform_main_nyf1t_1",Xk="_FullScreenPerform_element_nyf1t_8",zk="_fullScreen_video_nyf1t_16",Vk="_introContainer_nyf1t_24",Wk="_introElement_nyf1t_36",jk="_intro_showSoftly_nyf1t_1",$k="_videoContainer_nyf1t_49";var ol={FullScreenPerform_main:Hk,FullScreenPerform_element:Xk,fullScreen_video:zk,introContainer:Vk,introElement:Wk,intro_showSoftly:jk,videoContainer:$k},qc={exports:{}},Rl={};/** @license React v17.0.2
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yk=It.exports,ZS=60103;Rl.Fragment=60107;if(typeof Symbol=="function"&&Symbol.for){var oT=Symbol.for;ZS=oT("react.element"),Rl.Fragment=oT("react.fragment")}var qk=Yk.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Kk=Object.prototype.hasOwnProperty,Zk={key:!0,ref:!0,__self:!0,__source:!0};function JS(e,t,r){var n,i={},o=null,a=null;r!==void 0&&(o=""+r),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(a=t.ref);for(n in t)Kk.call(t,n)&&!Zk.hasOwnProperty(n)&&(i[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)i[n]===void 0&&(i[n]=t[n]);return{$$typeof:ZS,type:e,key:o,ref:a,props:i,_owner:qk.current}}Rl.jsx=JS;Rl.jsxs=JS;qc.exports=Rl;const X=qc.exports.jsx,Pe=qc.exports.jsxs,Os=qc.exports.Fragment,Jk=e=>{const t=e.content.split(/\|/),r=t.map((o,a)=>X("div",{style:{animationDelay:`${1500*a}ms`},className:ol.introElement,children:o},"introtext"+a+Math.random().toString())),n=X("div",{children:r});gs.render(n,document.getElementById("introContainer"));const i=document.getElementById("introContainer");return i&&(i.style.display="block"),{performName:"introPerform",duration:1e3+1500*t.length,isOver:!1,isHoldOn:!1,stopFunction:()=>{const o=document.getElementById("introContainer");o&&(o.style.display="none"),Dr("nextSentence_target",0,0)},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}};function Qk(e){var t=this.constructor;return this.then(function(r){return t.resolve(e()).then(function(){return r})},function(r){return t.resolve(e()).then(function(){return t.reject(r)})})}function eB(e){var t=this;return new t(function(r,n){if(!(e&&typeof e.length!="undefined"))return n(new TypeError(typeof e+" "+e+" is not iterable(cannot read property Symbol(Symbol.iterator))"));var i=Array.prototype.slice.call(e);if(i.length===0)return r([]);var o=i.length;function a(f,h){if(h&&(typeof h=="object"||typeof h=="function")){var d=h.then;if(typeof d=="function"){d.call(h,function(p){a(f,p)},function(p){i[f]={status:"rejected",reason:p},--o===0&&r(i)});return}}i[f]={status:"fulfilled",value:h},--o===0&&r(i)}for(var u=0;u<i.length;u++)a(u,i[u])})}var tB=setTimeout;function QS(e){return Boolean(e&&typeof e.length!="undefined")}function rB(){}function nB(e,t){return function(){e.apply(t,arguments)}}function Dt(e){if(!(this instanceof Dt))throw new TypeError("Promises must be constructed via new");if(typeof e!="function")throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],t2(e,this)}function e2(e,t){for(;e._state===3;)e=e._value;if(e._state===0){e._deferreds.push(t);return}e._handled=!0,Dt._immediateFn(function(){var r=e._state===1?t.onFulfilled:t.onRejected;if(r===null){(e._state===1?G_:al)(t.promise,e._value);return}var n;try{n=r(e._value)}catch(i){al(t.promise,i);return}G_(t.promise,n)})}function G_(e,t){try{if(t===e)throw new TypeError("A promise cannot be resolved with itself.");if(t&&(typeof t=="object"||typeof t=="function")){var r=t.then;if(t instanceof Dt){e._state=3,e._value=t,H_(e);return}else if(typeof r=="function"){t2(nB(r,t),e);return}}e._state=1,e._value=t,H_(e)}catch(n){al(e,n)}}function al(e,t){e._state=2,e._value=t,H_(e)}function H_(e){e._state===2&&e._deferreds.length===0&&Dt._immediateFn(function(){e._handled||Dt._unhandledRejectionFn(e._value)});for(var t=0,r=e._deferreds.length;t<r;t++)e2(e,e._deferreds[t]);e._deferreds=null}function iB(e,t,r){this.onFulfilled=typeof e=="function"?e:null,this.onRejected=typeof t=="function"?t:null,this.promise=r}function t2(e,t){var r=!1;try{e(function(n){r||(r=!0,G_(t,n))},function(n){r||(r=!0,al(t,n))})}catch(n){if(r)return;r=!0,al(t,n)}}Dt.prototype.catch=function(e){return this.then(null,e)};Dt.prototype.then=function(e,t){var r=new this.constructor(rB);return e2(this,new iB(e,t,r)),r};Dt.prototype.finally=Qk;Dt.all=function(e){return new Dt(function(t,r){if(!QS(e))return r(new TypeError("Promise.all accepts an array"));var n=Array.prototype.slice.call(e);if(n.length===0)return t([]);var i=n.length;function o(u,f){try{if(f&&(typeof f=="object"||typeof f=="function")){var h=f.then;if(typeof h=="function"){h.call(f,function(d){o(u,d)},r);return}}n[u]=f,--i===0&&t(n)}catch(d){r(d)}}for(var a=0;a<n.length;a++)o(a,n[a])})};Dt.allSettled=eB;Dt.resolve=function(e){return e&&typeof e=="object"&&e.constructor===Dt?e:new Dt(function(t){t(e)})};Dt.reject=function(e){return new Dt(function(t,r){r(e)})};Dt.race=function(e){return new Dt(function(t,r){if(!QS(e))return r(new TypeError("Promise.race accepts an array"));for(var n=0,i=e.length;n<i;n++)Dt.resolve(e[n]).then(t,r)})};Dt._immediateFn=typeof setImmediate=="function"&&function(e){setImmediate(e)}||function(e){tB(e,0)};Dt._unhandledRejectionFn=function(t){typeof console!="undefined"&&console&&console.warn("Possible Unhandled Promise Rejection:",t)};/*!
 * @pixi/polyfill - v6.3.0
 * Compiled Wed, 23 Mar 2022 18:58:56 UTC
 *
 * @pixi/polyfill is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */typeof globalThis=="undefined"&&(typeof self!="undefined"?self.globalThis=self:typeof global!="undefined"&&(global.globalThis=global));globalThis.Promise||(globalThis.Promise=Dt);Object.assign||(Object.assign=Fm);var oB=16;Date.now&&Date.prototype.getTime||(Date.now=function(){return new Date().getTime()});if(!(globalThis.performance&&globalThis.performance.now)){var aB=Date.now();globalThis.performance||(globalThis.performance={}),globalThis.performance.now=function(){return Date.now()-aB}}var _v=Date.now(),aT=["ms","moz","webkit","o"];for(var mv=0;mv<aT.length&&!globalThis.requestAnimationFrame;++mv){var gv=aT[mv];globalThis.requestAnimationFrame=globalThis[gv+"RequestAnimationFrame"],globalThis.cancelAnimationFrame=globalThis[gv+"CancelAnimationFrame"]||globalThis[gv+"CancelRequestAnimationFrame"]}globalThis.requestAnimationFrame||(globalThis.requestAnimationFrame=function(e){if(typeof e!="function")throw new TypeError(e+"is not a function");var t=Date.now(),r=oB+_v-t;return r<0&&(r=0),_v=t,globalThis.self.setTimeout(function(){_v=Date.now(),e(performance.now())},r)});globalThis.cancelAnimationFrame||(globalThis.cancelAnimationFrame=function(e){return clearTimeout(e)});Math.sign||(Math.sign=function(t){return t=Number(t),t===0||isNaN(t)?t:t>0?1:-1});Number.isInteger||(Number.isInteger=function(t){return typeof t=="number"&&isFinite(t)&&Math.floor(t)===t});globalThis.ArrayBuffer||(globalThis.ArrayBuffer=Array);globalThis.Float32Array||(globalThis.Float32Array=Array);globalThis.Uint32Array||(globalThis.Uint32Array=Array);globalThis.Uint16Array||(globalThis.Uint16Array=Array);globalThis.Uint8Array||(globalThis.Uint8Array=Array);globalThis.Int32Array||(globalThis.Int32Array=Array);var yv=/iPhone/i,sT=/iPod/i,uT=/iPad/i,lT=/\biOS-universal(?:.+)Mac\b/i,xv=/\bAndroid(?:.+)Mobile\b/i,fT=/Android/i,ka=/(?:SD4930UR|\bSilk(?:.+)Mobile\b)/i,Jf=/Silk/i,li=/Windows Phone/i,hT=/\bWindows(?:.+)ARM\b/i,cT=/BlackBerry/i,dT=/BB10/i,pT=/Opera Mini/i,vT=/\b(CriOS|Chrome)(?:.+)Mobile/i,_T=/Mobile(?:.+)Firefox\b/i,mT=function(e){return typeof e!="undefined"&&e.platform==="MacIntel"&&typeof e.maxTouchPoints=="number"&&e.maxTouchPoints>1&&typeof MSStream=="undefined"};function sB(e){return function(t){return t.test(e)}}function uB(e){var t={userAgent:"",platform:"",maxTouchPoints:0};!e&&typeof navigator!="undefined"?t={userAgent:navigator.userAgent,platform:navigator.platform,maxTouchPoints:navigator.maxTouchPoints||0}:typeof e=="string"?t.userAgent=e:e&&e.userAgent&&(t={userAgent:e.userAgent,platform:e.platform,maxTouchPoints:e.maxTouchPoints||0});var r=t.userAgent,n=r.split("[FBAN");typeof n[1]!="undefined"&&(r=n[0]),n=r.split("Twitter"),typeof n[1]!="undefined"&&(r=n[0]);var i=sB(r),o={apple:{phone:i(yv)&&!i(li),ipod:i(sT),tablet:!i(yv)&&(i(uT)||mT(t))&&!i(li),universal:i(lT),device:(i(yv)||i(sT)||i(uT)||i(lT)||mT(t))&&!i(li)},amazon:{phone:i(ka),tablet:!i(ka)&&i(Jf),device:i(ka)||i(Jf)},android:{phone:!i(li)&&i(ka)||!i(li)&&i(xv),tablet:!i(li)&&!i(ka)&&!i(xv)&&(i(Jf)||i(fT)),device:!i(li)&&(i(ka)||i(Jf)||i(xv)||i(fT))||i(/\bokhttp\b/i)},windows:{phone:i(li),tablet:i(hT),device:i(li)||i(hT)},other:{blackberry:i(cT),blackberry10:i(dT),opera:i(pT),firefox:i(_T),chrome:i(vT),device:i(cT)||i(dT)||i(pT)||i(_T)||i(vT)},any:!1,phone:!1,tablet:!1};return o.any=o.apple.device||o.android.device||o.windows.device||o.other.device,o.phone=o.apple.phone||o.android.phone||o.windows.phone,o.tablet=o.apple.tablet||o.android.tablet||o.windows.tablet,o}/*!
 * @pixi/settings - v6.3.0
 * Compiled Wed, 23 Mar 2022 18:58:56 UTC
 *
 * @pixi/settings is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var Vn=uB(globalThis.navigator);function lB(e){var t=!0;if(Vn.tablet||Vn.phone){if(Vn.apple.device){var r=navigator.userAgent.match(/OS (\d+)_(\d+)?/);if(r){var n=parseInt(r[1],10);n<11&&(t=!1)}}if(Vn.android.device){var r=navigator.userAgent.match(/Android\s([0-9.]*)/);if(r){var n=parseInt(r[1],10);n<7&&(t=!1)}}}return t?e:4}function fB(){return!Vn.apple.device}/*!
 * @pixi/constants - v6.3.0
 * Compiled Wed, 23 Mar 2022 18:58:56 UTC
 *
 * @pixi/constants is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var gT;(function(e){e[e.WEBGL_LEGACY=0]="WEBGL_LEGACY",e[e.WEBGL=1]="WEBGL",e[e.WEBGL2=2]="WEBGL2"})(gT||(gT={}));var yT;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.WEBGL=1]="WEBGL",e[e.CANVAS=2]="CANVAS"})(yT||(yT={}));var xT;(function(e){e[e.COLOR=16384]="COLOR",e[e.DEPTH=256]="DEPTH",e[e.STENCIL=1024]="STENCIL"})(xT||(xT={}));var TT;(function(e){e[e.NORMAL=0]="NORMAL",e[e.ADD=1]="ADD",e[e.MULTIPLY=2]="MULTIPLY",e[e.SCREEN=3]="SCREEN",e[e.OVERLAY=4]="OVERLAY",e[e.DARKEN=5]="DARKEN",e[e.LIGHTEN=6]="LIGHTEN",e[e.COLOR_DODGE=7]="COLOR_DODGE",e[e.COLOR_BURN=8]="COLOR_BURN",e[e.HARD_LIGHT=9]="HARD_LIGHT",e[e.SOFT_LIGHT=10]="SOFT_LIGHT",e[e.DIFFERENCE=11]="DIFFERENCE",e[e.EXCLUSION=12]="EXCLUSION",e[e.HUE=13]="HUE",e[e.SATURATION=14]="SATURATION",e[e.COLOR=15]="COLOR",e[e.LUMINOSITY=16]="LUMINOSITY",e[e.NORMAL_NPM=17]="NORMAL_NPM",e[e.ADD_NPM=18]="ADD_NPM",e[e.SCREEN_NPM=19]="SCREEN_NPM",e[e.NONE=20]="NONE",e[e.SRC_OVER=0]="SRC_OVER",e[e.SRC_IN=21]="SRC_IN",e[e.SRC_OUT=22]="SRC_OUT",e[e.SRC_ATOP=23]="SRC_ATOP",e[e.DST_OVER=24]="DST_OVER",e[e.DST_IN=25]="DST_IN",e[e.DST_OUT=26]="DST_OUT",e[e.DST_ATOP=27]="DST_ATOP",e[e.ERASE=26]="ERASE",e[e.SUBTRACT=28]="SUBTRACT",e[e.XOR=29]="XOR"})(TT||(TT={}));var ET;(function(e){e[e.POINTS=0]="POINTS",e[e.LINES=1]="LINES",e[e.LINE_LOOP=2]="LINE_LOOP",e[e.LINE_STRIP=3]="LINE_STRIP",e[e.TRIANGLES=4]="TRIANGLES",e[e.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",e[e.TRIANGLE_FAN=6]="TRIANGLE_FAN"})(ET||(ET={}));var wT;(function(e){e[e.RGBA=6408]="RGBA",e[e.RGB=6407]="RGB",e[e.RG=33319]="RG",e[e.RED=6403]="RED",e[e.RGBA_INTEGER=36249]="RGBA_INTEGER",e[e.RGB_INTEGER=36248]="RGB_INTEGER",e[e.RG_INTEGER=33320]="RG_INTEGER",e[e.RED_INTEGER=36244]="RED_INTEGER",e[e.ALPHA=6406]="ALPHA",e[e.LUMINANCE=6409]="LUMINANCE",e[e.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",e[e.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",e[e.DEPTH_STENCIL=34041]="DEPTH_STENCIL"})(wT||(wT={}));var bT;(function(e){e[e.TEXTURE_2D=3553]="TEXTURE_2D",e[e.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",e[e.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",e[e.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",e[e.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",e[e.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",e[e.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",e[e.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",e[e.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z"})(bT||(bT={}));var ST;(function(e){e[e.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",e[e.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",e[e.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",e[e.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",e[e.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",e[e.UNSIGNED_INT=5125]="UNSIGNED_INT",e[e.UNSIGNED_INT_10F_11F_11F_REV=35899]="UNSIGNED_INT_10F_11F_11F_REV",e[e.UNSIGNED_INT_2_10_10_10_REV=33640]="UNSIGNED_INT_2_10_10_10_REV",e[e.UNSIGNED_INT_24_8=34042]="UNSIGNED_INT_24_8",e[e.UNSIGNED_INT_5_9_9_9_REV=35902]="UNSIGNED_INT_5_9_9_9_REV",e[e.BYTE=5120]="BYTE",e[e.SHORT=5122]="SHORT",e[e.INT=5124]="INT",e[e.FLOAT=5126]="FLOAT",e[e.FLOAT_32_UNSIGNED_INT_24_8_REV=36269]="FLOAT_32_UNSIGNED_INT_24_8_REV",e[e.HALF_FLOAT=36193]="HALF_FLOAT"})(ST||(ST={}));var CT;(function(e){e[e.FLOAT=0]="FLOAT",e[e.INT=1]="INT",e[e.UINT=2]="UINT"})(CT||(CT={}));var X_;(function(e){e[e.NEAREST=0]="NEAREST",e[e.LINEAR=1]="LINEAR"})(X_||(X_={}));var z_;(function(e){e[e.CLAMP=33071]="CLAMP",e[e.REPEAT=10497]="REPEAT",e[e.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT"})(z_||(z_={}));var V_;(function(e){e[e.OFF=0]="OFF",e[e.POW2=1]="POW2",e[e.ON=2]="ON",e[e.ON_MANUAL=3]="ON_MANUAL"})(V_||(V_={}));var IT;(function(e){e[e.NPM=0]="NPM",e[e.UNPACK=1]="UNPACK",e[e.PMA=2]="PMA",e[e.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",e[e.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",e[e.PREMULTIPLY_ALPHA=2]="PREMULTIPLY_ALPHA",e[e.PREMULTIPLIED_ALPHA=2]="PREMULTIPLIED_ALPHA"})(IT||(IT={}));var RT;(function(e){e[e.NO=0]="NO",e[e.YES=1]="YES",e[e.AUTO=2]="AUTO",e[e.BLEND=0]="BLEND",e[e.CLEAR=1]="CLEAR",e[e.BLIT=2]="BLIT"})(RT||(RT={}));var W_;(function(e){e[e.AUTO=0]="AUTO",e[e.MANUAL=1]="MANUAL"})(W_||(W_={}));var zu;(function(e){e.LOW="lowp",e.MEDIUM="mediump",e.HIGH="highp"})(zu||(zu={}));var NT;(function(e){e[e.NONE=0]="NONE",e[e.SCISSOR=1]="SCISSOR",e[e.STENCIL=2]="STENCIL",e[e.SPRITE=3]="SPRITE"})(NT||(NT={}));var j_;(function(e){e[e.NONE=0]="NONE",e[e.LOW=2]="LOW",e[e.MEDIUM=4]="MEDIUM",e[e.HIGH=8]="HIGH"})(j_||(j_={}));var PT;(function(e){e[e.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",e[e.ARRAY_BUFFER=34962]="ARRAY_BUFFER",e[e.UNIFORM_BUFFER=35345]="UNIFORM_BUFFER"})(PT||(PT={}));var Te={MIPMAP_TEXTURES:V_.POW2,ANISOTROPIC_LEVEL:0,RESOLUTION:1,FILTER_RESOLUTION:1,FILTER_MULTISAMPLE:j_.NONE,SPRITE_MAX_TEXTURES:lB(32),SPRITE_BATCH_SIZE:4096,RENDER_OPTIONS:{view:null,antialias:!1,autoDensity:!1,backgroundColor:0,backgroundAlpha:1,useContextAlpha:!0,clearBeforeRender:!0,preserveDrawingBuffer:!1,width:800,height:600,legacy:!1},GC_MODE:W_.AUTO,GC_MAX_IDLE:60*60,GC_MAX_CHECK_COUNT:60*10,WRAP_MODE:z_.CLAMP,SCALE_MODE:X_.LINEAR,PRECISION_VERTEX:zu.HIGH,PRECISION_FRAGMENT:Vn.apple.device?zu.HIGH:zu.MEDIUM,CAN_UPLOAD_SAME_BUFFER:fB(),CREATE_IMAGE_BITMAP:!1,ROUND_PIXELS:!1},r2={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(f,h,d){this.fn=f,this.context=h,this.once=d||!1}function o(f,h,d,p,v){if(typeof d!="function")throw new TypeError("The listener must be a function");var m=new i(d,p||f,v),y=r?r+h:h;return f._events[y]?f._events[y].fn?f._events[y]=[f._events[y],m]:f._events[y].push(m):(f._events[y]=m,f._eventsCount++),f}function a(f,h){--f._eventsCount===0?f._events=new n:delete f._events[h]}function u(){this._events=new n,this._eventsCount=0}u.prototype.eventNames=function(){var h=[],d,p;if(this._eventsCount===0)return h;for(p in d=this._events)t.call(d,p)&&h.push(r?p.slice(1):p);return Object.getOwnPropertySymbols?h.concat(Object.getOwnPropertySymbols(d)):h},u.prototype.listeners=function(h){var d=r?r+h:h,p=this._events[d];if(!p)return[];if(p.fn)return[p.fn];for(var v=0,m=p.length,y=new Array(m);v<m;v++)y[v]=p[v].fn;return y},u.prototype.listenerCount=function(h){var d=r?r+h:h,p=this._events[d];return p?p.fn?1:p.length:0},u.prototype.emit=function(h,d,p,v,m,y){var E=r?r+h:h;if(!this._events[E])return!1;var g=this._events[E],x=arguments.length,w,N;if(g.fn){switch(g.once&&this.removeListener(h,g.fn,void 0,!0),x){case 1:return g.fn.call(g.context),!0;case 2:return g.fn.call(g.context,d),!0;case 3:return g.fn.call(g.context,d,p),!0;case 4:return g.fn.call(g.context,d,p,v),!0;case 5:return g.fn.call(g.context,d,p,v,m),!0;case 6:return g.fn.call(g.context,d,p,v,m,y),!0}for(N=1,w=new Array(x-1);N<x;N++)w[N-1]=arguments[N];g.fn.apply(g.context,w)}else{var O=g.length,R;for(N=0;N<O;N++)switch(g[N].once&&this.removeListener(h,g[N].fn,void 0,!0),x){case 1:g[N].fn.call(g[N].context);break;case 2:g[N].fn.call(g[N].context,d);break;case 3:g[N].fn.call(g[N].context,d,p);break;case 4:g[N].fn.call(g[N].context,d,p,v);break;default:if(!w)for(R=1,w=new Array(x-1);R<x;R++)w[R-1]=arguments[R];g[N].fn.apply(g[N].context,w)}}return!0},u.prototype.on=function(h,d,p){return o(this,h,d,p,!1)},u.prototype.once=function(h,d,p){return o(this,h,d,p,!0)},u.prototype.removeListener=function(h,d,p,v){var m=r?r+h:h;if(!this._events[m])return this;if(!d)return a(this,m),this;var y=this._events[m];if(y.fn)y.fn===d&&(!v||y.once)&&(!p||y.context===p)&&a(this,m);else{for(var E=0,g=[],x=y.length;E<x;E++)(y[E].fn!==d||v&&!y[E].once||p&&y[E].context!==p)&&g.push(y[E]);g.length?this._events[m]=g.length===1?g[0]:g:a(this,m)}return this},u.prototype.removeAllListeners=function(h){var d;return h?(d=r?r+h:h,this._events[d]&&a(this,d)):(this._events=new n,this._eventsCount=0),this},u.prototype.off=u.prototype.removeListener,u.prototype.addListener=u.prototype.on,u.prefixed=r,u.EventEmitter=u,e.exports=u})(r2);var Nl=r2.exports,Yg={exports:{}};Yg.exports=Kc;Yg.exports.default=Kc;function Kc(e,t,r){r=r||2;var n=t&&t.length,i=n?t[0]*r:e.length,o=n2(e,0,i,r,!0),a=[];if(!o||o.next===o.prev)return a;var u,f,h,d,p,v,m;if(n&&(o=vB(e,t,o,r)),e.length>80*r){u=h=e[0],f=d=e[1];for(var y=r;y<i;y+=r)p=e[y],v=e[y+1],p<u&&(u=p),v<f&&(f=v),p>h&&(h=p),v>d&&(d=v);m=Math.max(h-u,d-f),m=m!==0?1/m:0}return sl(o,a,r,u,f,m),a}function n2(e,t,r,n,i){var o,a;if(i===q_(e,t,r,n)>0)for(o=t;o<r;o+=n)a=AT(o,e[o],e[o+1],a);else for(o=r-n;o>=t;o-=n)a=AT(o,e[o],e[o+1],a);return a&&Zc(a,a.next)&&(ll(a),a=a.next),a}function co(e,t){if(!e)return e;t||(t=e);var r=e,n;do if(n=!1,!r.steiner&&(Zc(r,r.next)||Lt(r.prev,r,r.next)===0)){if(ll(r),r=t=r.prev,r===r.next)break;n=!0}else r=r.next;while(n||r!==t);return t}function sl(e,t,r,n,i,o,a){if(!!e){!a&&o&&xB(e,n,i,o);for(var u=e,f,h;e.prev!==e.next;){if(f=e.prev,h=e.next,o?cB(e,n,i,o):hB(e)){t.push(f.i/r),t.push(e.i/r),t.push(h.i/r),ll(e),e=h.next,u=h.next;continue}if(e=h,e===u){a?a===1?(e=dB(co(e),t,r),sl(e,t,r,n,i,o,2)):a===2&&pB(e,t,r,n,i,o):sl(co(e),t,r,n,i,o,1);break}}}}function hB(e){var t=e.prev,r=e,n=e.next;if(Lt(t,r,n)>=0)return!1;for(var i=e.next.next;i!==e.prev;){if(qa(t.x,t.y,r.x,r.y,n.x,n.y,i.x,i.y)&&Lt(i.prev,i,i.next)>=0)return!1;i=i.next}return!0}function cB(e,t,r,n){var i=e.prev,o=e,a=e.next;if(Lt(i,o,a)>=0)return!1;for(var u=i.x<o.x?i.x<a.x?i.x:a.x:o.x<a.x?o.x:a.x,f=i.y<o.y?i.y<a.y?i.y:a.y:o.y<a.y?o.y:a.y,h=i.x>o.x?i.x>a.x?i.x:a.x:o.x>a.x?o.x:a.x,d=i.y>o.y?i.y>a.y?i.y:a.y:o.y>a.y?o.y:a.y,p=$_(u,f,t,r,n),v=$_(h,d,t,r,n),m=e.prevZ,y=e.nextZ;m&&m.z>=p&&y&&y.z<=v;){if(m!==e.prev&&m!==e.next&&qa(i.x,i.y,o.x,o.y,a.x,a.y,m.x,m.y)&&Lt(m.prev,m,m.next)>=0||(m=m.prevZ,y!==e.prev&&y!==e.next&&qa(i.x,i.y,o.x,o.y,a.x,a.y,y.x,y.y)&&Lt(y.prev,y,y.next)>=0))return!1;y=y.nextZ}for(;m&&m.z>=p;){if(m!==e.prev&&m!==e.next&&qa(i.x,i.y,o.x,o.y,a.x,a.y,m.x,m.y)&&Lt(m.prev,m,m.next)>=0)return!1;m=m.prevZ}for(;y&&y.z<=v;){if(y!==e.prev&&y!==e.next&&qa(i.x,i.y,o.x,o.y,a.x,a.y,y.x,y.y)&&Lt(y.prev,y,y.next)>=0)return!1;y=y.nextZ}return!0}function dB(e,t,r){var n=e;do{var i=n.prev,o=n.next.next;!Zc(i,o)&&i2(i,n,n.next,o)&&ul(i,o)&&ul(o,i)&&(t.push(i.i/r),t.push(n.i/r),t.push(o.i/r),ll(n),ll(n.next),n=e=o),n=n.next}while(n!==e);return co(n)}function pB(e,t,r,n,i,o){var a=e;do{for(var u=a.next.next;u!==a.prev;){if(a.i!==u.i&&wB(a,u)){var f=o2(a,u);a=co(a,a.next),f=co(f,f.next),sl(a,t,r,n,i,o),sl(f,t,r,n,i,o);return}u=u.next}a=a.next}while(a!==e)}function vB(e,t,r,n){var i=[],o,a,u,f,h;for(o=0,a=t.length;o<a;o++)u=t[o]*n,f=o<a-1?t[o+1]*n:e.length,h=n2(e,u,f,n,!1),h===h.next&&(h.steiner=!0),i.push(EB(h));for(i.sort(_B),o=0;o<i.length;o++)r=mB(i[o],r),r=co(r,r.next);return r}function _B(e,t){return e.x-t.x}function mB(e,t){var r=gB(e,t);if(!r)return t;var n=o2(r,e),i=co(r,r.next);return co(n,n.next),t===r?i:t}function gB(e,t){var r=t,n=e.x,i=e.y,o=-1/0,a;do{if(i<=r.y&&i>=r.next.y&&r.next.y!==r.y){var u=r.x+(i-r.y)*(r.next.x-r.x)/(r.next.y-r.y);if(u<=n&&u>o){if(o=u,u===n){if(i===r.y)return r;if(i===r.next.y)return r.next}a=r.x<r.next.x?r:r.next}}r=r.next}while(r!==t);if(!a)return null;if(n===o)return a;var f=a,h=a.x,d=a.y,p=1/0,v;r=a;do n>=r.x&&r.x>=h&&n!==r.x&&qa(i<d?n:o,i,h,d,i<d?o:n,i,r.x,r.y)&&(v=Math.abs(i-r.y)/(n-r.x),ul(r,e)&&(v<p||v===p&&(r.x>a.x||r.x===a.x&&yB(a,r)))&&(a=r,p=v)),r=r.next;while(r!==f);return a}function yB(e,t){return Lt(e.prev,e,t.prev)<0&&Lt(t.next,e,e.next)<0}function xB(e,t,r,n){var i=e;do i.z===null&&(i.z=$_(i.x,i.y,t,r,n)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next;while(i!==e);i.prevZ.nextZ=null,i.prevZ=null,TB(i)}function TB(e){var t,r,n,i,o,a,u,f,h=1;do{for(r=e,e=null,o=null,a=0;r;){for(a++,n=r,u=0,t=0;t<h&&(u++,n=n.nextZ,!!n);t++);for(f=h;u>0||f>0&&n;)u!==0&&(f===0||!n||r.z<=n.z)?(i=r,r=r.nextZ,u--):(i=n,n=n.nextZ,f--),o?o.nextZ=i:e=i,i.prevZ=o,o=i;r=n}o.nextZ=null,h*=2}while(a>1);return e}function $_(e,t,r,n,i){return e=32767*(e-r)*i,t=32767*(t-n)*i,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,t=(t|t<<8)&16711935,t=(t|t<<4)&252645135,t=(t|t<<2)&858993459,t=(t|t<<1)&1431655765,e|t<<1}function EB(e){var t=e,r=e;do(t.x<r.x||t.x===r.x&&t.y<r.y)&&(r=t),t=t.next;while(t!==e);return r}function qa(e,t,r,n,i,o,a,u){return(i-a)*(t-u)-(e-a)*(o-u)>=0&&(e-a)*(n-u)-(r-a)*(t-u)>=0&&(r-a)*(o-u)-(i-a)*(n-u)>=0}function wB(e,t){return e.next.i!==t.i&&e.prev.i!==t.i&&!bB(e,t)&&(ul(e,t)&&ul(t,e)&&SB(e,t)&&(Lt(e.prev,e,t.prev)||Lt(e,t.prev,t))||Zc(e,t)&&Lt(e.prev,e,e.next)>0&&Lt(t.prev,t,t.next)>0)}function Lt(e,t,r){return(t.y-e.y)*(r.x-t.x)-(t.x-e.x)*(r.y-t.y)}function Zc(e,t){return e.x===t.x&&e.y===t.y}function i2(e,t,r,n){var i=eh(Lt(e,t,r)),o=eh(Lt(e,t,n)),a=eh(Lt(r,n,e)),u=eh(Lt(r,n,t));return!!(i!==o&&a!==u||i===0&&Qf(e,r,t)||o===0&&Qf(e,n,t)||a===0&&Qf(r,e,n)||u===0&&Qf(r,t,n))}function Qf(e,t,r){return t.x<=Math.max(e.x,r.x)&&t.x>=Math.min(e.x,r.x)&&t.y<=Math.max(e.y,r.y)&&t.y>=Math.min(e.y,r.y)}function eh(e){return e>0?1:e<0?-1:0}function bB(e,t){var r=e;do{if(r.i!==e.i&&r.next.i!==e.i&&r.i!==t.i&&r.next.i!==t.i&&i2(r,r.next,e,t))return!0;r=r.next}while(r!==e);return!1}function ul(e,t){return Lt(e.prev,e,e.next)<0?Lt(e,t,e.next)>=0&&Lt(e,e.prev,t)>=0:Lt(e,t,e.prev)<0||Lt(e,e.next,t)<0}function SB(e,t){var r=e,n=!1,i=(e.x+t.x)/2,o=(e.y+t.y)/2;do r.y>o!=r.next.y>o&&r.next.y!==r.y&&i<(r.next.x-r.x)*(o-r.y)/(r.next.y-r.y)+r.x&&(n=!n),r=r.next;while(r!==e);return n}function o2(e,t){var r=new Y_(e.i,e.x,e.y),n=new Y_(t.i,t.x,t.y),i=e.next,o=t.prev;return e.next=t,t.prev=e,r.next=i,i.prev=r,n.next=r,r.prev=n,o.next=n,n.prev=o,n}function AT(e,t,r,n){var i=new Y_(e,t,r);return n?(i.next=n.next,i.prev=n,n.next.prev=i,n.next=i):(i.prev=i,i.next=i),i}function ll(e){e.next.prev=e.prev,e.prev.next=e.next,e.prevZ&&(e.prevZ.nextZ=e.nextZ),e.nextZ&&(e.nextZ.prevZ=e.prevZ)}function Y_(e,t,r){this.i=e,this.x=t,this.y=r,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}Kc.deviation=function(e,t,r,n){var i=t&&t.length,o=i?t[0]*r:e.length,a=Math.abs(q_(e,0,o,r));if(i)for(var u=0,f=t.length;u<f;u++){var h=t[u]*r,d=u<f-1?t[u+1]*r:e.length;a-=Math.abs(q_(e,h,d,r))}var p=0;for(u=0;u<n.length;u+=3){var v=n[u]*r,m=n[u+1]*r,y=n[u+2]*r;p+=Math.abs((e[v]-e[y])*(e[m+1]-e[v+1])-(e[v]-e[m])*(e[y+1]-e[v+1]))}return a===0&&p===0?0:Math.abs((p-a)/a)};function q_(e,t,r,n){for(var i=0,o=t,a=r-n;o<r;o+=n)i+=(e[a]-e[o])*(e[o+1]+e[a+1]),a=o;return i}Kc.flatten=function(e){for(var t=e[0][0].length,r={vertices:[],holes:[],dimensions:t},n=0,i=0;i<e.length;i++){for(var o=0;o<e[i].length;o++)for(var a=0;a<t;a++)r.vertices.push(e[i][o][a]);i>0&&(n+=e[i-1].length,r.holes.push(n))}return r};var a2=Yg.exports,K_={exports:{}};/*! https://mths.be/punycode v1.3.2 by @mathias */(function(e,t){(function(r){var n=t&&!t.nodeType&&t,i=e&&!e.nodeType&&e,o=typeof tr=="object"&&tr;(o.global===o||o.window===o||o.self===o)&&(r=o);var a,u=2147483647,f=36,h=1,d=26,p=38,v=700,m=72,y=128,E="-",g=/^xn--/,x=/[^\x20-\x7E]/,w=/[\x2E\u3002\uFF0E\uFF61]/g,N={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},O=f-h,R=Math.floor,I=String.fromCharCode,B;function z(Z){throw RangeError(N[Z])}function M(Z,V){for(var re=Z.length,he=[];re--;)he[re]=V(Z[re]);return he}function $(Z,V){var re=Z.split("@"),he="";re.length>1&&(he=re[0]+"@",Z=re[1]),Z=Z.replace(w,".");var Ee=Z.split("."),Ae=M(Ee,V).join(".");return he+Ae}function de(Z){for(var V=[],re=0,he=Z.length,Ee,Ae;re<he;)Ee=Z.charCodeAt(re++),Ee>=55296&&Ee<=56319&&re<he?(Ae=Z.charCodeAt(re++),(Ae&64512)==56320?V.push(((Ee&1023)<<10)+(Ae&1023)+65536):(V.push(Ee),re--)):V.push(Ee);return V}function ae(Z){return M(Z,function(V){var re="";return V>65535&&(V-=65536,re+=I(V>>>10&1023|55296),V=56320|V&1023),re+=I(V),re}).join("")}function pe(Z){return Z-48<10?Z-22:Z-65<26?Z-65:Z-97<26?Z-97:f}function We(Z,V){return Z+22+75*(Z<26)-((V!=0)<<5)}function le(Z,V,re){var he=0;for(Z=re?R(Z/v):Z>>1,Z+=R(Z/V);Z>O*d>>1;he+=f)Z=R(Z/O);return R(he+(O+1)*Z/(Z+p))}function fe(Z){var V=[],re=Z.length,he,Ee=0,Ae=y,ke=m,ot,at,je,yt,Ye,st,Me,lt,et;for(ot=Z.lastIndexOf(E),ot<0&&(ot=0),at=0;at<ot;++at)Z.charCodeAt(at)>=128&&z("not-basic"),V.push(Z.charCodeAt(at));for(je=ot>0?ot+1:0;je<re;){for(yt=Ee,Ye=1,st=f;je>=re&&z("invalid-input"),Me=pe(Z.charCodeAt(je++)),(Me>=f||Me>R((u-Ee)/Ye))&&z("overflow"),Ee+=Me*Ye,lt=st<=ke?h:st>=ke+d?d:st-ke,!(Me<lt);st+=f)et=f-lt,Ye>R(u/et)&&z("overflow"),Ye*=et;he=V.length+1,ke=le(Ee-yt,he,yt==0),R(Ee/he)>u-Ae&&z("overflow"),Ae+=R(Ee/he),Ee%=he,V.splice(Ee++,0,Ae)}return ae(V)}function ye(Z){var V,re,he,Ee,Ae,ke,ot,at,je,yt,Ye,st=[],Me,lt,et,Ve;for(Z=de(Z),Me=Z.length,V=y,re=0,Ae=m,ke=0;ke<Me;++ke)Ye=Z[ke],Ye<128&&st.push(I(Ye));for(he=Ee=st.length,Ee&&st.push(E);he<Me;){for(ot=u,ke=0;ke<Me;++ke)Ye=Z[ke],Ye>=V&&Ye<ot&&(ot=Ye);for(lt=he+1,ot-V>R((u-re)/lt)&&z("overflow"),re+=(ot-V)*lt,V=ot,ke=0;ke<Me;++ke)if(Ye=Z[ke],Ye<V&&++re>u&&z("overflow"),Ye==V){for(at=re,je=f;yt=je<=Ae?h:je>=Ae+d?d:je-Ae,!(at<yt);je+=f)Ve=at-yt,et=f-yt,st.push(I(We(yt+Ve%et,0))),at=R(Ve/et);st.push(I(We(at,0))),Ae=le(re,lt,he==Ee),re=0,++he}++re,++V}return st.join("")}function Oe(Z){return $(Z,function(V){return g.test(V)?fe(V.slice(4).toLowerCase()):V})}function ht(Z){return $(Z,function(V){return x.test(V)?"xn--"+ye(V):V})}if(a={version:"1.3.2",ucs2:{decode:de,encode:ae},decode:fe,encode:ye,toASCII:ht,toUnicode:Oe},n&&i)if(e.exports==n)i.exports=a;else for(B in a)a.hasOwnProperty(B)&&(n[B]=a[B]);else r.punycode=a})(tr)})(K_,K_.exports);var CB={isString:function(e){return typeof e=="string"},isObject:function(e){return typeof e=="object"&&e!==null},isNull:function(e){return e===null},isNullOrUndefined:function(e){return e==null}},fl={};function IB(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var RB=function(e,t,r,n){t=t||"&",r=r||"=";var i={};if(typeof e!="string"||e.length===0)return i;var o=/\+/g;e=e.split(t);var a=1e3;n&&typeof n.maxKeys=="number"&&(a=n.maxKeys);var u=e.length;a>0&&u>a&&(u=a);for(var f=0;f<u;++f){var h=e[f].replace(o,"%20"),d=h.indexOf(r),p,v,m,y;d>=0?(p=h.substr(0,d),v=h.substr(d+1)):(p=h,v=""),m=decodeURIComponent(p),y=decodeURIComponent(v),IB(i,m)?Array.isArray(i[m])?i[m].push(y):i[m]=[i[m],y]:i[m]=y}return i},vu=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}},NB=function(e,t,r,n){return t=t||"&",r=r||"=",e===null&&(e=void 0),typeof e=="object"?Object.keys(e).map(function(i){var o=encodeURIComponent(vu(i))+r;return Array.isArray(e[i])?e[i].map(function(a){return o+encodeURIComponent(vu(a))}).join(t):o+encodeURIComponent(vu(e[i]))}).join(t):n?encodeURIComponent(vu(n))+r+encodeURIComponent(vu(e)):""};fl.decode=fl.parse=RB;fl.encode=fl.stringify=NB;var PB=K_.exports,Gn=CB,AB=Jc,OB=zB,LB=XB;function An(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}var FB=/^([a-z0-9.+-]+:)/i,UB=/:[0-9]*$/,kB=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,BB=["<",">",'"',"`"," ","\r",`
`,"	"],MB=["{","}","|","\\","^","`"].concat(BB),Z_=["'"].concat(MB),OT=["%","/","?",";","#"].concat(Z_),LT=["/","?","#"],DB=255,FT=/^[+a-z0-9A-Z_-]{0,63}$/,GB=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,HB={javascript:!0,"javascript:":!0},J_={javascript:!0,"javascript:":!0},hs={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},Q_=fl;function Jc(e,t,r){if(e&&Gn.isObject(e)&&e instanceof An)return e;var n=new An;return n.parse(e,t,r),n}An.prototype.parse=function(e,t,r){if(!Gn.isString(e))throw new TypeError("Parameter 'url' must be a string, not "+typeof e);var n=e.indexOf("?"),i=n!==-1&&n<e.indexOf("#")?"?":"#",o=e.split(i),a=/\\/g;o[0]=o[0].replace(a,"/"),e=o.join(i);var u=e;if(u=u.trim(),!r&&e.split("#").length===1){var f=kB.exec(u);if(f)return this.path=u,this.href=u,this.pathname=f[1],f[2]?(this.search=f[2],t?this.query=Q_.parse(this.search.substr(1)):this.query=this.search.substr(1)):t&&(this.search="",this.query={}),this}var h=FB.exec(u);if(h){h=h[0];var d=h.toLowerCase();this.protocol=d,u=u.substr(h.length)}if(r||h||u.match(/^\/\/[^@\/]+@[^@\/]+/)){var p=u.substr(0,2)==="//";p&&!(h&&J_[h])&&(u=u.substr(2),this.slashes=!0)}if(!J_[h]&&(p||h&&!hs[h])){for(var v=-1,m=0;m<LT.length;m++){var y=u.indexOf(LT[m]);y!==-1&&(v===-1||y<v)&&(v=y)}var E,g;v===-1?g=u.lastIndexOf("@"):g=u.lastIndexOf("@",v),g!==-1&&(E=u.slice(0,g),u=u.slice(g+1),this.auth=decodeURIComponent(E)),v=-1;for(var m=0;m<OT.length;m++){var y=u.indexOf(OT[m]);y!==-1&&(v===-1||y<v)&&(v=y)}v===-1&&(v=u.length),this.host=u.slice(0,v),u=u.slice(v),this.parseHost(),this.hostname=this.hostname||"";var x=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!x)for(var w=this.hostname.split(/\./),m=0,N=w.length;m<N;m++){var O=w[m];if(!!O&&!O.match(FT)){for(var R="",I=0,B=O.length;I<B;I++)O.charCodeAt(I)>127?R+="x":R+=O[I];if(!R.match(FT)){var z=w.slice(0,m),M=w.slice(m+1),$=O.match(GB);$&&(z.push($[1]),M.unshift($[2])),M.length&&(u="/"+M.join(".")+u),this.hostname=z.join(".");break}}}this.hostname.length>DB?this.hostname="":this.hostname=this.hostname.toLowerCase(),x||(this.hostname=PB.toASCII(this.hostname));var de=this.port?":"+this.port:"",ae=this.hostname||"";this.host=ae+de,this.href+=this.host,x&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),u[0]!=="/"&&(u="/"+u))}if(!HB[d])for(var m=0,N=Z_.length;m<N;m++){var pe=Z_[m];if(u.indexOf(pe)!==-1){var We=encodeURIComponent(pe);We===pe&&(We=escape(pe)),u=u.split(pe).join(We)}}var le=u.indexOf("#");le!==-1&&(this.hash=u.substr(le),u=u.slice(0,le));var fe=u.indexOf("?");if(fe!==-1?(this.search=u.substr(fe),this.query=u.substr(fe+1),t&&(this.query=Q_.parse(this.query)),u=u.slice(0,fe)):t&&(this.search="",this.query={}),u&&(this.pathname=u),hs[d]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var de=this.pathname||"",ye=this.search||"";this.path=de+ye}return this.href=this.format(),this};function XB(e){return Gn.isString(e)&&(e=Jc(e)),e instanceof An?e.format():An.prototype.format.call(e)}An.prototype.format=function(){var e=this.auth||"";e&&(e=encodeURIComponent(e),e=e.replace(/%3A/i,":"),e+="@");var t=this.protocol||"",r=this.pathname||"",n=this.hash||"",i=!1,o="";this.host?i=e+this.host:this.hostname&&(i=e+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(i+=":"+this.port)),this.query&&Gn.isObject(this.query)&&Object.keys(this.query).length&&(o=Q_.stringify(this.query));var a=this.search||o&&"?"+o||"";return t&&t.substr(-1)!==":"&&(t+=":"),this.slashes||(!t||hs[t])&&i!==!1?(i="//"+(i||""),r&&r.charAt(0)!=="/"&&(r="/"+r)):i||(i=""),n&&n.charAt(0)!=="#"&&(n="#"+n),a&&a.charAt(0)!=="?"&&(a="?"+a),r=r.replace(/[?#]/g,function(u){return encodeURIComponent(u)}),a=a.replace("#","%23"),t+i+r+a+n};function zB(e,t){return Jc(e,!1,!0).resolve(t)}An.prototype.resolve=function(e){return this.resolveObject(Jc(e,!1,!0)).format()};An.prototype.resolveObject=function(e){if(Gn.isString(e)){var t=new An;t.parse(e,!1,!0),e=t}for(var r=new An,n=Object.keys(this),i=0;i<n.length;i++){var o=n[i];r[o]=this[o]}if(r.hash=e.hash,e.href==="")return r.href=r.format(),r;if(e.slashes&&!e.protocol){for(var a=Object.keys(e),u=0;u<a.length;u++){var f=a[u];f!=="protocol"&&(r[f]=e[f])}return hs[r.protocol]&&r.hostname&&!r.pathname&&(r.path=r.pathname="/"),r.href=r.format(),r}if(e.protocol&&e.protocol!==r.protocol){if(!hs[e.protocol]){for(var h=Object.keys(e),d=0;d<h.length;d++){var p=h[d];r[p]=e[p]}return r.href=r.format(),r}if(r.protocol=e.protocol,!e.host&&!J_[e.protocol]){for(var N=(e.pathname||"").split("/");N.length&&!(e.host=N.shift()););e.host||(e.host=""),e.hostname||(e.hostname=""),N[0]!==""&&N.unshift(""),N.length<2&&N.unshift(""),r.pathname=N.join("/")}else r.pathname=e.pathname;if(r.search=e.search,r.query=e.query,r.host=e.host||"",r.auth=e.auth,r.hostname=e.hostname||e.host,r.port=e.port,r.pathname||r.search){var v=r.pathname||"",m=r.search||"";r.path=v+m}return r.slashes=r.slashes||e.slashes,r.href=r.format(),r}var y=r.pathname&&r.pathname.charAt(0)==="/",E=e.host||e.pathname&&e.pathname.charAt(0)==="/",g=E||y||r.host&&e.pathname,x=g,w=r.pathname&&r.pathname.split("/")||[],N=e.pathname&&e.pathname.split("/")||[],O=r.protocol&&!hs[r.protocol];if(O&&(r.hostname="",r.port=null,r.host&&(w[0]===""?w[0]=r.host:w.unshift(r.host)),r.host="",e.protocol&&(e.hostname=null,e.port=null,e.host&&(N[0]===""?N[0]=e.host:N.unshift(e.host)),e.host=null),g=g&&(N[0]===""||w[0]==="")),E)r.host=e.host||e.host===""?e.host:r.host,r.hostname=e.hostname||e.hostname===""?e.hostname:r.hostname,r.search=e.search,r.query=e.query,w=N;else if(N.length)w||(w=[]),w.pop(),w=w.concat(N),r.search=e.search,r.query=e.query;else if(!Gn.isNullOrUndefined(e.search)){if(O){r.hostname=r.host=w.shift();var R=r.host&&r.host.indexOf("@")>0?r.host.split("@"):!1;R&&(r.auth=R.shift(),r.host=r.hostname=R.shift())}return r.search=e.search,r.query=e.query,(!Gn.isNull(r.pathname)||!Gn.isNull(r.search))&&(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.href=r.format(),r}if(!w.length)return r.pathname=null,r.search?r.path="/"+r.search:r.path=null,r.href=r.format(),r;for(var I=w.slice(-1)[0],B=(r.host||e.host||w.length>1)&&(I==="."||I==="..")||I==="",z=0,M=w.length;M>=0;M--)I=w[M],I==="."?w.splice(M,1):I===".."?(w.splice(M,1),z++):z&&(w.splice(M,1),z--);if(!g&&!x)for(;z--;z)w.unshift("..");g&&w[0]!==""&&(!w[0]||w[0].charAt(0)!=="/")&&w.unshift(""),B&&w.join("/").substr(-1)!=="/"&&w.push("");var $=w[0]===""||w[0]&&w[0].charAt(0)==="/";if(O){r.hostname=r.host=$?"":w.length?w.shift():"";var R=r.host&&r.host.indexOf("@")>0?r.host.split("@"):!1;R&&(r.auth=R.shift(),r.host=r.hostname=R.shift())}return g=g||r.host&&w.length,g&&!$&&w.unshift(""),w.length?r.pathname=w.join("/"):(r.pathname=null,r.path=null),(!Gn.isNull(r.pathname)||!Gn.isNull(r.search))&&(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.auth=e.auth||r.auth,r.slashes=r.slashes||e.slashes,r.href=r.format(),r};An.prototype.parseHost=function(){var e=this.host,t=UB.exec(e);t&&(t=t[0],t!==":"&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)};/*!
 * @pixi/constants - v6.3.0
 * Compiled Wed, 23 Mar 2022 18:58:56 UTC
 *
 * @pixi/constants is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var Ei;(function(e){e[e.WEBGL_LEGACY=0]="WEBGL_LEGACY",e[e.WEBGL=1]="WEBGL",e[e.WEBGL2=2]="WEBGL2"})(Ei||(Ei={}));var hl;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.WEBGL=1]="WEBGL",e[e.CANVAS=2]="CANVAS"})(hl||(hl={}));var hc;(function(e){e[e.COLOR=16384]="COLOR",e[e.DEPTH=256]="DEPTH",e[e.STENCIL=1024]="STENCIL"})(hc||(hc={}));var be;(function(e){e[e.NORMAL=0]="NORMAL",e[e.ADD=1]="ADD",e[e.MULTIPLY=2]="MULTIPLY",e[e.SCREEN=3]="SCREEN",e[e.OVERLAY=4]="OVERLAY",e[e.DARKEN=5]="DARKEN",e[e.LIGHTEN=6]="LIGHTEN",e[e.COLOR_DODGE=7]="COLOR_DODGE",e[e.COLOR_BURN=8]="COLOR_BURN",e[e.HARD_LIGHT=9]="HARD_LIGHT",e[e.SOFT_LIGHT=10]="SOFT_LIGHT",e[e.DIFFERENCE=11]="DIFFERENCE",e[e.EXCLUSION=12]="EXCLUSION",e[e.HUE=13]="HUE",e[e.SATURATION=14]="SATURATION",e[e.COLOR=15]="COLOR",e[e.LUMINOSITY=16]="LUMINOSITY",e[e.NORMAL_NPM=17]="NORMAL_NPM",e[e.ADD_NPM=18]="ADD_NPM",e[e.SCREEN_NPM=19]="SCREEN_NPM",e[e.NONE=20]="NONE",e[e.SRC_OVER=0]="SRC_OVER",e[e.SRC_IN=21]="SRC_IN",e[e.SRC_OUT=22]="SRC_OUT",e[e.SRC_ATOP=23]="SRC_ATOP",e[e.DST_OVER=24]="DST_OVER",e[e.DST_IN=25]="DST_IN",e[e.DST_OUT=26]="DST_OUT",e[e.DST_ATOP=27]="DST_ATOP",e[e.ERASE=26]="ERASE",e[e.SUBTRACT=28]="SUBTRACT",e[e.XOR=29]="XOR"})(be||(be={}));var Pn;(function(e){e[e.POINTS=0]="POINTS",e[e.LINES=1]="LINES",e[e.LINE_LOOP=2]="LINE_LOOP",e[e.LINE_STRIP=3]="LINE_STRIP",e[e.TRIANGLES=4]="TRIANGLES",e[e.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",e[e.TRIANGLE_FAN=6]="TRIANGLE_FAN"})(Pn||(Pn={}));var oe;(function(e){e[e.RGBA=6408]="RGBA",e[e.RGB=6407]="RGB",e[e.RG=33319]="RG",e[e.RED=6403]="RED",e[e.RGBA_INTEGER=36249]="RGBA_INTEGER",e[e.RGB_INTEGER=36248]="RGB_INTEGER",e[e.RG_INTEGER=33320]="RG_INTEGER",e[e.RED_INTEGER=36244]="RED_INTEGER",e[e.ALPHA=6406]="ALPHA",e[e.LUMINANCE=6409]="LUMINANCE",e[e.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",e[e.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",e[e.DEPTH_STENCIL=34041]="DEPTH_STENCIL"})(oe||(oe={}));var Yo;(function(e){e[e.TEXTURE_2D=3553]="TEXTURE_2D",e[e.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",e[e.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",e[e.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",e[e.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",e[e.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",e[e.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",e[e.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",e[e.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z"})(Yo||(Yo={}));var we;(function(e){e[e.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",e[e.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",e[e.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",e[e.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",e[e.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",e[e.UNSIGNED_INT=5125]="UNSIGNED_INT",e[e.UNSIGNED_INT_10F_11F_11F_REV=35899]="UNSIGNED_INT_10F_11F_11F_REV",e[e.UNSIGNED_INT_2_10_10_10_REV=33640]="UNSIGNED_INT_2_10_10_10_REV",e[e.UNSIGNED_INT_24_8=34042]="UNSIGNED_INT_24_8",e[e.UNSIGNED_INT_5_9_9_9_REV=35902]="UNSIGNED_INT_5_9_9_9_REV",e[e.BYTE=5120]="BYTE",e[e.SHORT=5122]="SHORT",e[e.INT=5124]="INT",e[e.FLOAT=5126]="FLOAT",e[e.FLOAT_32_UNSIGNED_INT_24_8_REV=36269]="FLOAT_32_UNSIGNED_INT_24_8_REV",e[e.HALF_FLOAT=36193]="HALF_FLOAT"})(we||(we={}));var cc;(function(e){e[e.FLOAT=0]="FLOAT",e[e.INT=1]="INT",e[e.UINT=2]="UINT"})(cc||(cc={}));var gi;(function(e){e[e.NEAREST=0]="NEAREST",e[e.LINEAR=1]="LINEAR"})(gi||(gi={}));var xi;(function(e){e[e.CLAMP=33071]="CLAMP",e[e.REPEAT=10497]="REPEAT",e[e.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT"})(xi||(xi={}));var wi;(function(e){e[e.OFF=0]="OFF",e[e.POW2=1]="POW2",e[e.ON=2]="ON",e[e.ON_MANUAL=3]="ON_MANUAL"})(wi||(wi={}));var On;(function(e){e[e.NPM=0]="NPM",e[e.UNPACK=1]="UNPACK",e[e.PMA=2]="PMA",e[e.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",e[e.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",e[e.PREMULTIPLY_ALPHA=2]="PREMULTIPLY_ALPHA",e[e.PREMULTIPLIED_ALPHA=2]="PREMULTIPLIED_ALPHA"})(On||(On={}));var Wi;(function(e){e[e.NO=0]="NO",e[e.YES=1]="YES",e[e.AUTO=2]="AUTO",e[e.BLEND=0]="BLEND",e[e.CLEAR=1]="CLEAR",e[e.BLIT=2]="BLIT"})(Wi||(Wi={}));var em;(function(e){e[e.AUTO=0]="AUTO",e[e.MANUAL=1]="MANUAL"})(em||(em={}));var Wn;(function(e){e.LOW="lowp",e.MEDIUM="mediump",e.HIGH="highp"})(Wn||(Wn={}));var pr;(function(e){e[e.NONE=0]="NONE",e[e.SCISSOR=1]="SCISSOR",e[e.STENCIL=2]="STENCIL",e[e.SPRITE=3]="SPRITE"})(pr||(pr={}));var $t;(function(e){e[e.NONE=0]="NONE",e[e.LOW=2]="LOW",e[e.MEDIUM=4]="MEDIUM",e[e.HIGH=8]="HIGH"})($t||($t={}));var Yn;(function(e){e[e.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",e[e.ARRAY_BUFFER=34962]="ARRAY_BUFFER",e[e.UNIFORM_BUFFER=35345]="UNIFORM_BUFFER"})(Yn||(Yn={}));/*!
 * @pixi/utils - v6.3.0
 * Compiled Wed, 23 Mar 2022 18:58:56 UTC
 *
 * @pixi/utils is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var Ka={parse:AB,format:LB,resolve:OB};Te.RETINA_PREFIX=/@([0-9\.]+)x/;Te.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT=!1;var UT=!1,kT="6.3.0";function VB(e){var t;if(!UT){if(navigator.userAgent.toLowerCase().indexOf("chrome")>-1){var r=[`
 %c %c %c PixiJS `+kT+" - \u2730 "+e+` \u2730  %c  %c  http://www.pixijs.com/  %c %c \u2665%c\u2665%c\u2665 

`,"background: #ff66a5; padding:5px 0;","background: #ff66a5; padding:5px 0;","color: #ff66a5; background: #030307; padding:5px 0;","background: #ff66a5; padding:5px 0;","background: #ffc3dc; padding:5px 0;","background: #ff66a5; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;"];(t=globalThis.console).log.apply(t,r)}else globalThis.console&&globalThis.console.log("PixiJS "+kT+" - "+e+" - http://www.pixijs.com/");UT=!0}}var Tv;function WB(){return typeof Tv=="undefined"&&(Tv=function(){var t={stencil:!0,failIfMajorPerformanceCaveat:Te.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT};try{if(!globalThis.WebGLRenderingContext)return!1;var r=document.createElement("canvas"),n=r.getContext("webgl",t)||r.getContext("experimental-webgl",t),i=!!(n&&n.getContextAttributes().stencil);if(n){var o=n.getExtension("WEBGL_lose_context");o&&o.loseContext()}return n=null,i}catch{return!1}}()),Tv}var jB="#f0f8ff",$B="#faebd7",YB="#00ffff",qB="#7fffd4",KB="#f0ffff",ZB="#f5f5dc",JB="#ffe4c4",QB="#000000",eM="#ffebcd",tM="#0000ff",rM="#8a2be2",nM="#a52a2a",iM="#deb887",oM="#5f9ea0",aM="#7fff00",sM="#d2691e",uM="#ff7f50",lM="#6495ed",fM="#fff8dc",hM="#dc143c",cM="#00ffff",dM="#00008b",pM="#008b8b",vM="#b8860b",_M="#a9a9a9",mM="#006400",gM="#a9a9a9",yM="#bdb76b",xM="#8b008b",TM="#556b2f",EM="#ff8c00",wM="#9932cc",bM="#8b0000",SM="#e9967a",CM="#8fbc8f",IM="#483d8b",RM="#2f4f4f",NM="#2f4f4f",PM="#00ced1",AM="#9400d3",OM="#ff1493",LM="#00bfff",FM="#696969",UM="#696969",kM="#1e90ff",BM="#b22222",MM="#fffaf0",DM="#228b22",GM="#ff00ff",HM="#dcdcdc",XM="#f8f8ff",zM="#daa520",VM="#ffd700",WM="#808080",jM="#008000",$M="#adff2f",YM="#808080",qM="#f0fff0",KM="#ff69b4",ZM="#cd5c5c",JM="#4b0082",QM="#fffff0",eD="#f0e68c",tD="#fff0f5",rD="#e6e6fa",nD="#7cfc00",iD="#fffacd",oD="#add8e6",aD="#f08080",sD="#e0ffff",uD="#fafad2",lD="#d3d3d3",fD="#90ee90",hD="#d3d3d3",cD="#ffb6c1",dD="#ffa07a",pD="#20b2aa",vD="#87cefa",_D="#778899",mD="#778899",gD="#b0c4de",yD="#ffffe0",xD="#00ff00",TD="#32cd32",ED="#faf0e6",wD="#ff00ff",bD="#800000",SD="#66cdaa",CD="#0000cd",ID="#ba55d3",RD="#9370db",ND="#3cb371",PD="#7b68ee",AD="#00fa9a",OD="#48d1cc",LD="#c71585",FD="#191970",UD="#f5fffa",kD="#ffe4e1",BD="#ffe4b5",MD="#ffdead",DD="#000080",GD="#fdf5e6",HD="#808000",XD="#6b8e23",zD="#ffa500",VD="#ff4500",WD="#da70d6",jD="#eee8aa",$D="#98fb98",YD="#afeeee",qD="#db7093",KD="#ffefd5",ZD="#ffdab9",JD="#cd853f",QD="#ffc0cb",e6="#dda0dd",t6="#b0e0e6",r6="#800080",n6="#663399",i6="#ff0000",o6="#bc8f8f",a6="#4169e1",s6="#8b4513",u6="#fa8072",l6="#f4a460",f6="#2e8b57",h6="#fff5ee",c6="#a0522d",d6="#c0c0c0",p6="#87ceeb",v6="#6a5acd",_6="#708090",m6="#708090",g6="#fffafa",y6="#00ff7f",x6="#4682b4",T6="#d2b48c",E6="#008080",w6="#d8bfd8",b6="#ff6347",S6="#40e0d0",C6="#ee82ee",I6="#f5deb3",R6="#ffffff",N6="#f5f5f5",P6="#ffff00",A6="#9acd32",O6={aliceblue:jB,antiquewhite:$B,aqua:YB,aquamarine:qB,azure:KB,beige:ZB,bisque:JB,black:QB,blanchedalmond:eM,blue:tM,blueviolet:rM,brown:nM,burlywood:iM,cadetblue:oM,chartreuse:aM,chocolate:sM,coral:uM,cornflowerblue:lM,cornsilk:fM,crimson:hM,cyan:cM,darkblue:dM,darkcyan:pM,darkgoldenrod:vM,darkgray:_M,darkgreen:mM,darkgrey:gM,darkkhaki:yM,darkmagenta:xM,darkolivegreen:TM,darkorange:EM,darkorchid:wM,darkred:bM,darksalmon:SM,darkseagreen:CM,darkslateblue:IM,darkslategray:RM,darkslategrey:NM,darkturquoise:PM,darkviolet:AM,deeppink:OM,deepskyblue:LM,dimgray:FM,dimgrey:UM,dodgerblue:kM,firebrick:BM,floralwhite:MM,forestgreen:DM,fuchsia:GM,gainsboro:HM,ghostwhite:XM,goldenrod:zM,gold:VM,gray:WM,green:jM,greenyellow:$M,grey:YM,honeydew:qM,hotpink:KM,indianred:ZM,indigo:JM,ivory:QM,khaki:eD,lavenderblush:tD,lavender:rD,lawngreen:nD,lemonchiffon:iD,lightblue:oD,lightcoral:aD,lightcyan:sD,lightgoldenrodyellow:uD,lightgray:lD,lightgreen:fD,lightgrey:hD,lightpink:cD,lightsalmon:dD,lightseagreen:pD,lightskyblue:vD,lightslategray:_D,lightslategrey:mD,lightsteelblue:gD,lightyellow:yD,lime:xD,limegreen:TD,linen:ED,magenta:wD,maroon:bD,mediumaquamarine:SD,mediumblue:CD,mediumorchid:ID,mediumpurple:RD,mediumseagreen:ND,mediumslateblue:PD,mediumspringgreen:AD,mediumturquoise:OD,mediumvioletred:LD,midnightblue:FD,mintcream:UD,mistyrose:kD,moccasin:BD,navajowhite:MD,navy:DD,oldlace:GD,olive:HD,olivedrab:XD,orange:zD,orangered:VD,orchid:WD,palegoldenrod:jD,palegreen:$D,paleturquoise:YD,palevioletred:qD,papayawhip:KD,peachpuff:ZD,peru:JD,pink:QD,plum:e6,powderblue:t6,purple:r6,rebeccapurple:n6,red:i6,rosybrown:o6,royalblue:a6,saddlebrown:s6,salmon:u6,sandybrown:l6,seagreen:f6,seashell:h6,sienna:c6,silver:d6,skyblue:p6,slateblue:v6,slategray:_6,slategrey:m6,snow:g6,springgreen:y6,steelblue:x6,tan:T6,teal:E6,thistle:w6,tomato:b6,turquoise:S6,violet:C6,wheat:I6,white:R6,whitesmoke:N6,yellow:P6,yellowgreen:A6};function Es(e,t){return t===void 0&&(t=[]),t[0]=(e>>16&255)/255,t[1]=(e>>8&255)/255,t[2]=(e&255)/255,t}function s2(e){var t=e.toString(16);return t="000000".substring(0,6-t.length)+t,"#"+t}function u2(e){return typeof e=="string"&&(e=O6[e.toLowerCase()]||e,e[0]==="#"&&(e=e.slice(1))),parseInt(e,16)}function L6(){for(var e=[],t=[],r=0;r<32;r++)e[r]=r,t[r]=r;e[be.NORMAL_NPM]=be.NORMAL,e[be.ADD_NPM]=be.ADD,e[be.SCREEN_NPM]=be.SCREEN,t[be.NORMAL]=be.NORMAL_NPM,t[be.ADD]=be.ADD_NPM,t[be.SCREEN]=be.SCREEN_NPM;var n=[];return n.push(t),n.push(e),n}var l2=L6();function f2(e,t){return l2[t?1:0][e]}function F6(e,t,r,n){return r=r||new Float32Array(4),n||n===void 0?(r[0]=e[0]*t,r[1]=e[1]*t,r[2]=e[2]*t):(r[0]=e[0],r[1]=e[1],r[2]=e[2]),r[3]=t,r}function qg(e,t){if(t===1)return(t*255<<24)+e;if(t===0)return 0;var r=e>>16&255,n=e>>8&255,i=e&255;return r=r*t+.5|0,n=n*t+.5|0,i=i*t+.5|0,(t*255<<24)+(r<<16)+(n<<8)+i}function h2(e,t,r,n){return r=r||new Float32Array(4),r[0]=(e>>16&255)/255,r[1]=(e>>8&255)/255,r[2]=(e&255)/255,(n||n===void 0)&&(r[0]*=t,r[1]*=t,r[2]*=t),r[3]=t,r}function U6(e,t){t===void 0&&(t=null);var r=e*6;if(t=t||new Uint16Array(r),t.length!==r)throw new Error("Out buffer length is incorrect, got "+t.length+" and expected "+r);for(var n=0,i=0;n<r;n+=6,i+=4)t[n+0]=i+0,t[n+1]=i+1,t[n+2]=i+2,t[n+3]=i+0,t[n+4]=i+2,t[n+5]=i+3;return t}function c2(e){if(e.BYTES_PER_ELEMENT===4)return e instanceof Float32Array?"Float32Array":e instanceof Uint32Array?"Uint32Array":"Int32Array";if(e.BYTES_PER_ELEMENT===2){if(e instanceof Uint16Array)return"Uint16Array"}else if(e.BYTES_PER_ELEMENT===1&&e instanceof Uint8Array)return"Uint8Array";return null}function dc(e){return e+=e===0?1:0,--e,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e+1}function BT(e){return!(e&e-1)&&!!e}function MT(e){var t=(e>65535?1:0)<<4;e>>>=t;var r=(e>255?1:0)<<3;return e>>>=r,t|=r,r=(e>15?1:0)<<2,e>>>=r,t|=r,r=(e>3?1:0)<<1,e>>>=r,t|=r,t|e>>1}function cs(e,t,r){var n=e.length,i;if(!(t>=n||r===0)){r=t+r>n?n-t:r;var o=n-r;for(i=t;i<o;++i)e[i]=e[i+r];e.length=o}}function Za(e){return e===0?0:e<0?-1:1}var k6=0;function Qo(){return++k6}var DT={};function ea(e,t,r){if(r===void 0&&(r=3),!DT[t]){var n=new Error().stack;typeof n=="undefined"?console.warn("PixiJS Deprecation Warning: ",t+`
Deprecated since v`+e):(n=n.split(`
`).splice(r).join(`
`),console.groupCollapsed?(console.groupCollapsed("%cPixiJS Deprecation Warning: %c%s","color:#614108;background:#fffbe6","font-weight:normal;color:#614108;background:#fffbe6",t+`
Deprecated since v`+e),console.warn(n),console.groupEnd()):(console.warn("PixiJS Deprecation Warning: ",t+`
Deprecated since v`+e),console.warn(n))),DT[t]=!0}}var GT={},hi=Object.create(null),Ao=Object.create(null),HT=function(){function e(t,r,n){this.canvas=document.createElement("canvas"),this.context=this.canvas.getContext("2d"),this.resolution=n||Te.RESOLUTION,this.resize(t,r)}return e.prototype.clear=function(){this.context.setTransform(1,0,0,1,0,0),this.context.clearRect(0,0,this.canvas.width,this.canvas.height)},e.prototype.resize=function(t,r){this.canvas.width=Math.round(t*this.resolution),this.canvas.height=Math.round(r*this.resolution)},e.prototype.destroy=function(){this.context=null,this.canvas=null},Object.defineProperty(e.prototype,"width",{get:function(){return this.canvas.width},set:function(t){this.canvas.width=Math.round(t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this.canvas.height},set:function(t){this.canvas.height=Math.round(t)},enumerable:!1,configurable:!0}),e}();function B6(e){var t=e.width,r=e.height,n=e.getContext("2d"),i=n.getImageData(0,0,t,r),o=i.data,a=o.length,u={top:null,left:null,right:null,bottom:null},f=null,h,d,p;for(h=0;h<a;h+=4)o[h+3]!==0&&(d=h/4%t,p=~~(h/4/t),u.top===null&&(u.top=p),(u.left===null||d<u.left)&&(u.left=d),(u.right===null||u.right<d)&&(u.right=d+1),(u.bottom===null||u.bottom<p)&&(u.bottom=p));return u.top!==null&&(t=u.right-u.left,r=u.bottom-u.top+1,f=n.getImageData(u.left,u.top,t,r)),{height:r,width:t,data:f}}var th;function M6(e,t){if(t===void 0&&(t=globalThis.location),e.indexOf("data:")===0)return"";t=t||globalThis.location,th||(th=document.createElement("a")),th.href=e;var r=Ka.parse(th.href),n=!r.port&&t.port===""||r.port===t.port;return r.hostname!==t.hostname||!n||r.protocol!==t.protocol?"anonymous":""}function pc(e,t){var r=Te.RETINA_PREFIX.exec(e);return r?parseFloat(r[1]):t!==void 0?t:1}/*!
 * @pixi/math - v6.3.0
 * Compiled Wed, 23 Mar 2022 18:58:56 UTC
 *
 * @pixi/math is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var vc=Math.PI*2,D6=180/Math.PI,G6=Math.PI/180,Bt;(function(e){e[e.POLY=0]="POLY",e[e.RECT=1]="RECT",e[e.CIRC=2]="CIRC",e[e.ELIP=3]="ELIP",e[e.RREC=4]="RREC"})(Bt||(Bt={}));var wt=function(){function e(t,r){t===void 0&&(t=0),r===void 0&&(r=0),this.x=0,this.y=0,this.x=t,this.y=r}return e.prototype.clone=function(){return new e(this.x,this.y)},e.prototype.copyFrom=function(t){return this.set(t.x,t.y),this},e.prototype.copyTo=function(t){return t.set(this.x,this.y),t},e.prototype.equals=function(t){return t.x===this.x&&t.y===this.y},e.prototype.set=function(t,r){return t===void 0&&(t=0),r===void 0&&(r=t),this.x=t,this.y=r,this},e.prototype.toString=function(){return"[@pixi/math:Point x="+this.x+" y="+this.y+"]"},e}(),rh=[new wt,new wt,new wt,new wt],it=function(){function e(t,r,n,i){t===void 0&&(t=0),r===void 0&&(r=0),n===void 0&&(n=0),i===void 0&&(i=0),this.x=Number(t),this.y=Number(r),this.width=Number(n),this.height=Number(i),this.type=Bt.RECT}return Object.defineProperty(e.prototype,"left",{get:function(){return this.x},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"right",{get:function(){return this.x+this.width},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"top",{get:function(){return this.y},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"bottom",{get:function(){return this.y+this.height},enumerable:!1,configurable:!0}),Object.defineProperty(e,"EMPTY",{get:function(){return new e(0,0,0,0)},enumerable:!1,configurable:!0}),e.prototype.clone=function(){return new e(this.x,this.y,this.width,this.height)},e.prototype.copyFrom=function(t){return this.x=t.x,this.y=t.y,this.width=t.width,this.height=t.height,this},e.prototype.copyTo=function(t){return t.x=this.x,t.y=this.y,t.width=this.width,t.height=this.height,t},e.prototype.contains=function(t,r){return this.width<=0||this.height<=0?!1:t>=this.x&&t<this.x+this.width&&r>=this.y&&r<this.y+this.height},e.prototype.intersects=function(t,r){if(!r){var n=this.x<t.x?t.x:this.x,i=this.right>t.right?t.right:this.right;if(i<=n)return!1;var o=this.y<t.y?t.y:this.y,a=this.bottom>t.bottom?t.bottom:this.bottom;return a>o}var u=this.left,f=this.right,h=this.top,d=this.bottom;if(f<=u||d<=h)return!1;var p=rh[0].set(t.left,t.top),v=rh[1].set(t.left,t.bottom),m=rh[2].set(t.right,t.top),y=rh[3].set(t.right,t.bottom);if(m.x<=p.x||v.y<=p.y)return!1;var E=Math.sign(r.a*r.d-r.b*r.c);if(E===0||(r.apply(p,p),r.apply(v,v),r.apply(m,m),r.apply(y,y),Math.max(p.x,v.x,m.x,y.x)<=u||Math.min(p.x,v.x,m.x,y.x)>=f||Math.max(p.y,v.y,m.y,y.y)<=h||Math.min(p.y,v.y,m.y,y.y)>=d))return!1;var g=E*(v.y-p.y),x=E*(p.x-v.x),w=g*u+x*h,N=g*f+x*h,O=g*u+x*d,R=g*f+x*d;if(Math.max(w,N,O,R)<=g*p.x+x*p.y||Math.min(w,N,O,R)>=g*y.x+x*y.y)return!1;var I=E*(p.y-m.y),B=E*(m.x-p.x),z=I*u+B*h,M=I*f+B*h,$=I*u+B*d,de=I*f+B*d;return!(Math.max(z,M,$,de)<=I*p.x+B*p.y||Math.min(z,M,$,de)>=I*y.x+B*y.y)},e.prototype.pad=function(t,r){return t===void 0&&(t=0),r===void 0&&(r=t),this.x-=t,this.y-=r,this.width+=t*2,this.height+=r*2,this},e.prototype.fit=function(t){var r=Math.max(this.x,t.x),n=Math.min(this.x+this.width,t.x+t.width),i=Math.max(this.y,t.y),o=Math.min(this.y+this.height,t.y+t.height);return this.x=r,this.width=Math.max(n-r,0),this.y=i,this.height=Math.max(o-i,0),this},e.prototype.ceil=function(t,r){t===void 0&&(t=1),r===void 0&&(r=.001);var n=Math.ceil((this.x+this.width-r)*t)/t,i=Math.ceil((this.y+this.height-r)*t)/t;return this.x=Math.floor((this.x+r)*t)/t,this.y=Math.floor((this.y+r)*t)/t,this.width=n-this.x,this.height=i-this.y,this},e.prototype.enlarge=function(t){var r=Math.min(this.x,t.x),n=Math.max(this.x+this.width,t.x+t.width),i=Math.min(this.y,t.y),o=Math.max(this.y+this.height,t.y+t.height);return this.x=r,this.width=n-r,this.y=i,this.height=o-i,this},e.prototype.toString=function(){return"[@pixi/math:Rectangle x="+this.x+" y="+this.y+" width="+this.width+" height="+this.height+"]"},e}(),H6=function(){function e(t,r,n){t===void 0&&(t=0),r===void 0&&(r=0),n===void 0&&(n=0),this.x=t,this.y=r,this.radius=n,this.type=Bt.CIRC}return e.prototype.clone=function(){return new e(this.x,this.y,this.radius)},e.prototype.contains=function(t,r){if(this.radius<=0)return!1;var n=this.radius*this.radius,i=this.x-t,o=this.y-r;return i*=i,o*=o,i+o<=n},e.prototype.getBounds=function(){return new it(this.x-this.radius,this.y-this.radius,this.radius*2,this.radius*2)},e.prototype.toString=function(){return"[@pixi/math:Circle x="+this.x+" y="+this.y+" radius="+this.radius+"]"},e}(),X6=function(){function e(t,r,n,i){t===void 0&&(t=0),r===void 0&&(r=0),n===void 0&&(n=0),i===void 0&&(i=0),this.x=t,this.y=r,this.width=n,this.height=i,this.type=Bt.ELIP}return e.prototype.clone=function(){return new e(this.x,this.y,this.width,this.height)},e.prototype.contains=function(t,r){if(this.width<=0||this.height<=0)return!1;var n=(t-this.x)/this.width,i=(r-this.y)/this.height;return n*=n,i*=i,n+i<=1},e.prototype.getBounds=function(){return new it(this.x-this.width,this.y-this.height,this.width,this.height)},e.prototype.toString=function(){return"[@pixi/math:Ellipse x="+this.x+" y="+this.y+" width="+this.width+" height="+this.height+"]"},e}(),Mh=function(){function e(){for(var t=arguments,r=[],n=0;n<arguments.length;n++)r[n]=t[n];var i=Array.isArray(r[0])?r[0]:r;if(typeof i[0]!="number"){for(var o=[],a=0,u=i.length;a<u;a++)o.push(i[a].x,i[a].y);i=o}this.points=i,this.type=Bt.POLY,this.closeStroke=!0}return e.prototype.clone=function(){var t=this.points.slice(),r=new e(t);return r.closeStroke=this.closeStroke,r},e.prototype.contains=function(t,r){for(var n=!1,i=this.points.length/2,o=0,a=i-1;o<i;a=o++){var u=this.points[o*2],f=this.points[o*2+1],h=this.points[a*2],d=this.points[a*2+1],p=f>r!=d>r&&t<(h-u)*((r-f)/(d-f))+u;p&&(n=!n)}return n},e.prototype.toString=function(){return"[@pixi/math:Polygon"+("closeStroke="+this.closeStroke)+("points="+this.points.reduce(function(t,r){return t+", "+r},"")+"]")},e}(),z6=function(){function e(t,r,n,i,o){t===void 0&&(t=0),r===void 0&&(r=0),n===void 0&&(n=0),i===void 0&&(i=0),o===void 0&&(o=20),this.x=t,this.y=r,this.width=n,this.height=i,this.radius=o,this.type=Bt.RREC}return e.prototype.clone=function(){return new e(this.x,this.y,this.width,this.height,this.radius)},e.prototype.contains=function(t,r){if(this.width<=0||this.height<=0)return!1;if(t>=this.x&&t<=this.x+this.width&&r>=this.y&&r<=this.y+this.height){var n=Math.max(0,Math.min(this.radius,Math.min(this.width,this.height)/2));if(r>=this.y+n&&r<=this.y+this.height-n||t>=this.x+n&&t<=this.x+this.width-n)return!0;var i=t-(this.x+n),o=r-(this.y+n),a=n*n;if(i*i+o*o<=a||(i=t-(this.x+this.width-n),i*i+o*o<=a)||(o=r-(this.y+this.height-n),i*i+o*o<=a)||(i=t-(this.x+n),i*i+o*o<=a))return!0}return!1},e.prototype.toString=function(){return"[@pixi/math:RoundedRectangle x="+this.x+" y="+this.y+("width="+this.width+" height="+this.height+" radius="+this.radius+"]")},e}(),Ja=function(){function e(t,r,n,i){n===void 0&&(n=0),i===void 0&&(i=0),this._x=n,this._y=i,this.cb=t,this.scope=r}return e.prototype.clone=function(t,r){return t===void 0&&(t=this.cb),r===void 0&&(r=this.scope),new e(t,r,this._x,this._y)},e.prototype.set=function(t,r){return t===void 0&&(t=0),r===void 0&&(r=t),(this._x!==t||this._y!==r)&&(this._x=t,this._y=r,this.cb.call(this.scope)),this},e.prototype.copyFrom=function(t){return(this._x!==t.x||this._y!==t.y)&&(this._x=t.x,this._y=t.y,this.cb.call(this.scope)),this},e.prototype.copyTo=function(t){return t.set(this._x,this._y),t},e.prototype.equals=function(t){return t.x===this._x&&t.y===this._y},e.prototype.toString=function(){return"[@pixi/math:ObservablePoint x="+0+" y="+0+" scope="+this.scope+"]"},Object.defineProperty(e.prototype,"x",{get:function(){return this._x},set:function(t){this._x!==t&&(this._x=t,this.cb.call(this.scope))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"y",{get:function(){return this._y},set:function(t){this._y!==t&&(this._y=t,this.cb.call(this.scope))},enumerable:!1,configurable:!0}),e}(),Wt=function(){function e(t,r,n,i,o,a){t===void 0&&(t=1),r===void 0&&(r=0),n===void 0&&(n=0),i===void 0&&(i=1),o===void 0&&(o=0),a===void 0&&(a=0),this.array=null,this.a=t,this.b=r,this.c=n,this.d=i,this.tx=o,this.ty=a}return e.prototype.fromArray=function(t){this.a=t[0],this.b=t[1],this.c=t[3],this.d=t[4],this.tx=t[2],this.ty=t[5]},e.prototype.set=function(t,r,n,i,o,a){return this.a=t,this.b=r,this.c=n,this.d=i,this.tx=o,this.ty=a,this},e.prototype.toArray=function(t,r){this.array||(this.array=new Float32Array(9));var n=r||this.array;return t?(n[0]=this.a,n[1]=this.b,n[2]=0,n[3]=this.c,n[4]=this.d,n[5]=0,n[6]=this.tx,n[7]=this.ty,n[8]=1):(n[0]=this.a,n[1]=this.c,n[2]=this.tx,n[3]=this.b,n[4]=this.d,n[5]=this.ty,n[6]=0,n[7]=0,n[8]=1),n},e.prototype.apply=function(t,r){r=r||new wt;var n=t.x,i=t.y;return r.x=this.a*n+this.c*i+this.tx,r.y=this.b*n+this.d*i+this.ty,r},e.prototype.applyInverse=function(t,r){r=r||new wt;var n=1/(this.a*this.d+this.c*-this.b),i=t.x,o=t.y;return r.x=this.d*n*i+-this.c*n*o+(this.ty*this.c-this.tx*this.d)*n,r.y=this.a*n*o+-this.b*n*i+(-this.ty*this.a+this.tx*this.b)*n,r},e.prototype.translate=function(t,r){return this.tx+=t,this.ty+=r,this},e.prototype.scale=function(t,r){return this.a*=t,this.d*=r,this.c*=t,this.b*=r,this.tx*=t,this.ty*=r,this},e.prototype.rotate=function(t){var r=Math.cos(t),n=Math.sin(t),i=this.a,o=this.c,a=this.tx;return this.a=i*r-this.b*n,this.b=i*n+this.b*r,this.c=o*r-this.d*n,this.d=o*n+this.d*r,this.tx=a*r-this.ty*n,this.ty=a*n+this.ty*r,this},e.prototype.append=function(t){var r=this.a,n=this.b,i=this.c,o=this.d;return this.a=t.a*r+t.b*i,this.b=t.a*n+t.b*o,this.c=t.c*r+t.d*i,this.d=t.c*n+t.d*o,this.tx=t.tx*r+t.ty*i+this.tx,this.ty=t.tx*n+t.ty*o+this.ty,this},e.prototype.setTransform=function(t,r,n,i,o,a,u,f,h){return this.a=Math.cos(u+h)*o,this.b=Math.sin(u+h)*o,this.c=-Math.sin(u-f)*a,this.d=Math.cos(u-f)*a,this.tx=t-(n*this.a+i*this.c),this.ty=r-(n*this.b+i*this.d),this},e.prototype.prepend=function(t){var r=this.tx;if(t.a!==1||t.b!==0||t.c!==0||t.d!==1){var n=this.a,i=this.c;this.a=n*t.a+this.b*t.c,this.b=n*t.b+this.b*t.d,this.c=i*t.a+this.d*t.c,this.d=i*t.b+this.d*t.d}return this.tx=r*t.a+this.ty*t.c+t.tx,this.ty=r*t.b+this.ty*t.d+t.ty,this},e.prototype.decompose=function(t){var r=this.a,n=this.b,i=this.c,o=this.d,a=t.pivot,u=-Math.atan2(-i,o),f=Math.atan2(n,r),h=Math.abs(u+f);return h<1e-5||Math.abs(vc-h)<1e-5?(t.rotation=f,t.skew.x=t.skew.y=0):(t.rotation=0,t.skew.x=u,t.skew.y=f),t.scale.x=Math.sqrt(r*r+n*n),t.scale.y=Math.sqrt(i*i+o*o),t.position.x=this.tx+(a.x*r+a.y*i),t.position.y=this.ty+(a.x*n+a.y*o),t},e.prototype.invert=function(){var t=this.a,r=this.b,n=this.c,i=this.d,o=this.tx,a=t*i-r*n;return this.a=i/a,this.b=-r/a,this.c=-n/a,this.d=t/a,this.tx=(n*this.ty-i*o)/a,this.ty=-(t*this.ty-r*o)/a,this},e.prototype.identity=function(){return this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this},e.prototype.clone=function(){var t=new e;return t.a=this.a,t.b=this.b,t.c=this.c,t.d=this.d,t.tx=this.tx,t.ty=this.ty,t},e.prototype.copyTo=function(t){return t.a=this.a,t.b=this.b,t.c=this.c,t.d=this.d,t.tx=this.tx,t.ty=this.ty,t},e.prototype.copyFrom=function(t){return this.a=t.a,this.b=t.b,this.c=t.c,this.d=t.d,this.tx=t.tx,this.ty=t.ty,this},e.prototype.toString=function(){return"[@pixi/math:Matrix a="+this.a+" b="+this.b+" c="+this.c+" d="+this.d+" tx="+this.tx+" ty="+this.ty+"]"},Object.defineProperty(e,"IDENTITY",{get:function(){return new e},enumerable:!1,configurable:!0}),Object.defineProperty(e,"TEMP_MATRIX",{get:function(){return new e},enumerable:!1,configurable:!0}),e}(),Mo=[1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1,0,1],Do=[0,1,1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1],Go=[0,-1,-1,-1,0,1,1,1,0,1,1,1,0,-1,-1,-1],Ho=[1,1,0,-1,-1,-1,0,1,-1,-1,0,1,1,1,0,-1],tm=[],d2=[],nh=Math.sign;function V6(){for(var e=0;e<16;e++){var t=[];tm.push(t);for(var r=0;r<16;r++)for(var n=nh(Mo[e]*Mo[r]+Go[e]*Do[r]),i=nh(Do[e]*Mo[r]+Ho[e]*Do[r]),o=nh(Mo[e]*Go[r]+Go[e]*Ho[r]),a=nh(Do[e]*Go[r]+Ho[e]*Ho[r]),u=0;u<16;u++)if(Mo[u]===n&&Do[u]===i&&Go[u]===o&&Ho[u]===a){t.push(u);break}}for(var e=0;e<16;e++){var f=new Wt;f.set(Mo[e],Do[e],Go[e],Ho[e],0,0),d2.push(f)}}V6();var Ot={E:0,SE:1,S:2,SW:3,W:4,NW:5,N:6,NE:7,MIRROR_VERTICAL:8,MAIN_DIAGONAL:10,MIRROR_HORIZONTAL:12,REVERSE_DIAGONAL:14,uX:function(e){return Mo[e]},uY:function(e){return Do[e]},vX:function(e){return Go[e]},vY:function(e){return Ho[e]},inv:function(e){return e&8?e&15:-e&7},add:function(e,t){return tm[e][t]},sub:function(e,t){return tm[e][Ot.inv(t)]},rotate180:function(e){return e^4},isVertical:function(e){return(e&3)===2},byDirection:function(e,t){return Math.abs(e)*2<=Math.abs(t)?t>=0?Ot.S:Ot.N:Math.abs(t)*2<=Math.abs(e)?e>0?Ot.E:Ot.W:t>0?e>0?Ot.SE:Ot.SW:e>0?Ot.NE:Ot.NW},matrixAppendRotationInv:function(e,t,r,n){r===void 0&&(r=0),n===void 0&&(n=0);var i=d2[Ot.inv(t)];i.tx=r,i.ty=n,e.append(i)}},p2=function(){function e(){this.worldTransform=new Wt,this.localTransform=new Wt,this.position=new Ja(this.onChange,this,0,0),this.scale=new Ja(this.onChange,this,1,1),this.pivot=new Ja(this.onChange,this,0,0),this.skew=new Ja(this.updateSkew,this,0,0),this._rotation=0,this._cx=1,this._sx=0,this._cy=0,this._sy=1,this._localID=0,this._currentLocalID=0,this._worldID=0,this._parentID=0}return e.prototype.onChange=function(){this._localID++},e.prototype.updateSkew=function(){this._cx=Math.cos(this._rotation+this.skew.y),this._sx=Math.sin(this._rotation+this.skew.y),this._cy=-Math.sin(this._rotation-this.skew.x),this._sy=Math.cos(this._rotation-this.skew.x),this._localID++},e.prototype.toString=function(){return"[@pixi/math:Transform "+("position=("+this.position.x+", "+this.position.y+") ")+("rotation="+this.rotation+" ")+("scale=("+this.scale.x+", "+this.scale.y+") ")+("skew=("+this.skew.x+", "+this.skew.y+") ")+"]"},e.prototype.updateLocalTransform=function(){var t=this.localTransform;this._localID!==this._currentLocalID&&(t.a=this._cx*this.scale.x,t.b=this._sx*this.scale.x,t.c=this._cy*this.scale.y,t.d=this._sy*this.scale.y,t.tx=this.position.x-(this.pivot.x*t.a+this.pivot.y*t.c),t.ty=this.position.y-(this.pivot.x*t.b+this.pivot.y*t.d),this._currentLocalID=this._localID,this._parentID=-1)},e.prototype.updateTransform=function(t){var r=this.localTransform;if(this._localID!==this._currentLocalID&&(r.a=this._cx*this.scale.x,r.b=this._sx*this.scale.x,r.c=this._cy*this.scale.y,r.d=this._sy*this.scale.y,r.tx=this.position.x-(this.pivot.x*r.a+this.pivot.y*r.c),r.ty=this.position.y-(this.pivot.x*r.b+this.pivot.y*r.d),this._currentLocalID=this._localID,this._parentID=-1),this._parentID!==t._worldID){var n=t.worldTransform,i=this.worldTransform;i.a=r.a*n.a+r.b*n.c,i.b=r.a*n.b+r.b*n.d,i.c=r.c*n.a+r.d*n.c,i.d=r.c*n.b+r.d*n.d,i.tx=r.tx*n.a+r.ty*n.c+n.tx,i.ty=r.tx*n.b+r.ty*n.d+n.ty,this._parentID=t._worldID,this._worldID++}},e.prototype.setFromMatrix=function(t){t.decompose(this),this._localID++},Object.defineProperty(e.prototype,"rotation",{get:function(){return this._rotation},set:function(t){this._rotation!==t&&(this._rotation=t,this.updateSkew())},enumerable:!1,configurable:!0}),e.IDENTITY=new e,e}();/*!
 * @pixi/display - v6.3.0
 * Compiled Wed, 23 Mar 2022 18:58:56 UTC
 *
 * @pixi/display is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */Te.SORTABLE_CHILDREN=!1;var cl=function(){function e(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,this.rect=null,this.updateID=-1}return e.prototype.isEmpty=function(){return this.minX>this.maxX||this.minY>this.maxY},e.prototype.clear=function(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0},e.prototype.getRectangle=function(t){return this.minX>this.maxX||this.minY>this.maxY?it.EMPTY:(t=t||new it(0,0,1,1),t.x=this.minX,t.y=this.minY,t.width=this.maxX-this.minX,t.height=this.maxY-this.minY,t)},e.prototype.addPoint=function(t){this.minX=Math.min(this.minX,t.x),this.maxX=Math.max(this.maxX,t.x),this.minY=Math.min(this.minY,t.y),this.maxY=Math.max(this.maxY,t.y)},e.prototype.addPointMatrix=function(t,r){var n=t.a,i=t.b,o=t.c,a=t.d,u=t.tx,f=t.ty,h=n*r.x+o*r.y+u,d=i*r.x+a*r.y+f;this.minX=Math.min(this.minX,h),this.maxX=Math.max(this.maxX,h),this.minY=Math.min(this.minY,d),this.maxY=Math.max(this.maxY,d)},e.prototype.addQuad=function(t){var r=this.minX,n=this.minY,i=this.maxX,o=this.maxY,a=t[0],u=t[1];r=a<r?a:r,n=u<n?u:n,i=a>i?a:i,o=u>o?u:o,a=t[2],u=t[3],r=a<r?a:r,n=u<n?u:n,i=a>i?a:i,o=u>o?u:o,a=t[4],u=t[5],r=a<r?a:r,n=u<n?u:n,i=a>i?a:i,o=u>o?u:o,a=t[6],u=t[7],r=a<r?a:r,n=u<n?u:n,i=a>i?a:i,o=u>o?u:o,this.minX=r,this.minY=n,this.maxX=i,this.maxY=o},e.prototype.addFrame=function(t,r,n,i,o){this.addFrameMatrix(t.worldTransform,r,n,i,o)},e.prototype.addFrameMatrix=function(t,r,n,i,o){var a=t.a,u=t.b,f=t.c,h=t.d,d=t.tx,p=t.ty,v=this.minX,m=this.minY,y=this.maxX,E=this.maxY,g=a*r+f*n+d,x=u*r+h*n+p;v=g<v?g:v,m=x<m?x:m,y=g>y?g:y,E=x>E?x:E,g=a*i+f*n+d,x=u*i+h*n+p,v=g<v?g:v,m=x<m?x:m,y=g>y?g:y,E=x>E?x:E,g=a*r+f*o+d,x=u*r+h*o+p,v=g<v?g:v,m=x<m?x:m,y=g>y?g:y,E=x>E?x:E,g=a*i+f*o+d,x=u*i+h*o+p,v=g<v?g:v,m=x<m?x:m,y=g>y?g:y,E=x>E?x:E,this.minX=v,this.minY=m,this.maxX=y,this.maxY=E},e.prototype.addVertexData=function(t,r,n){for(var i=this.minX,o=this.minY,a=this.maxX,u=this.maxY,f=r;f<n;f+=2){var h=t[f],d=t[f+1];i=h<i?h:i,o=d<o?d:o,a=h>a?h:a,u=d>u?d:u}this.minX=i,this.minY=o,this.maxX=a,this.maxY=u},e.prototype.addVertices=function(t,r,n,i){this.addVerticesMatrix(t.worldTransform,r,n,i)},e.prototype.addVerticesMatrix=function(t,r,n,i,o,a){o===void 0&&(o=0),a===void 0&&(a=o);for(var u=t.a,f=t.b,h=t.c,d=t.d,p=t.tx,v=t.ty,m=this.minX,y=this.minY,E=this.maxX,g=this.maxY,x=n;x<i;x+=2){var w=r[x],N=r[x+1],O=u*w+h*N+p,R=d*N+f*w+v;m=Math.min(m,O-o),E=Math.max(E,O+o),y=Math.min(y,R-a),g=Math.max(g,R+a)}this.minX=m,this.minY=y,this.maxX=E,this.maxY=g},e.prototype.addBounds=function(t){var r=this.minX,n=this.minY,i=this.maxX,o=this.maxY;this.minX=t.minX<r?t.minX:r,this.minY=t.minY<n?t.minY:n,this.maxX=t.maxX>i?t.maxX:i,this.maxY=t.maxY>o?t.maxY:o},e.prototype.addBoundsMask=function(t,r){var n=t.minX>r.minX?t.minX:r.minX,i=t.minY>r.minY?t.minY:r.minY,o=t.maxX<r.maxX?t.maxX:r.maxX,a=t.maxY<r.maxY?t.maxY:r.maxY;if(n<=o&&i<=a){var u=this.minX,f=this.minY,h=this.maxX,d=this.maxY;this.minX=n<u?n:u,this.minY=i<f?i:f,this.maxX=o>h?o:h,this.maxY=a>d?a:d}},e.prototype.addBoundsMatrix=function(t,r){this.addFrameMatrix(r,t.minX,t.minY,t.maxX,t.maxY)},e.prototype.addBoundsArea=function(t,r){var n=t.minX>r.x?t.minX:r.x,i=t.minY>r.y?t.minY:r.y,o=t.maxX<r.x+r.width?t.maxX:r.x+r.width,a=t.maxY<r.y+r.height?t.maxY:r.y+r.height;if(n<=o&&i<=a){var u=this.minX,f=this.minY,h=this.maxX,d=this.maxY;this.minX=n<u?n:u,this.minY=i<f?i:f,this.maxX=o>h?o:h,this.maxY=a>d?a:d}},e.prototype.pad=function(t,r){t===void 0&&(t=0),r===void 0&&(r=t),this.isEmpty()||(this.minX-=t,this.maxX+=t,this.minY-=r,this.maxY+=r)},e.prototype.addFramePad=function(t,r,n,i,o,a){t-=o,r-=a,n+=o,i+=a,this.minX=this.minX<t?this.minX:t,this.maxX=this.maxX>n?this.maxX:n,this.minY=this.minY<r?this.minY:r,this.maxY=this.maxY>i?this.maxY:i},e}();/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var rm=function(e,t){return rm=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},rm(e,t)};function Kg(e,t){rm(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var jt=function(e){Kg(t,e);function t(){var r=e.call(this)||this;return r.tempDisplayObjectParent=null,r.transform=new p2,r.alpha=1,r.visible=!0,r.renderable=!0,r.cullable=!1,r.cullArea=null,r.parent=null,r.worldAlpha=1,r._lastSortedIndex=0,r._zIndex=0,r.filterArea=null,r.filters=null,r._enabledFilters=null,r._bounds=new cl,r._localBounds=null,r._boundsID=0,r._boundsRect=null,r._localBoundsRect=null,r._mask=null,r._maskRefCount=0,r._destroyed=!1,r.isSprite=!1,r.isMask=!1,r}return t.mixin=function(r){for(var n=Object.keys(r),i=0;i<n.length;++i){var o=n[i];Object.defineProperty(t.prototype,o,Object.getOwnPropertyDescriptor(r,o))}},Object.defineProperty(t.prototype,"destroyed",{get:function(){return this._destroyed},enumerable:!1,configurable:!0}),t.prototype._recursivePostUpdateTransform=function(){this.parent?(this.parent._recursivePostUpdateTransform(),this.transform.updateTransform(this.parent.transform)):this.transform.updateTransform(this._tempDisplayObjectParent.transform)},t.prototype.updateTransform=function(){this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha},t.prototype.getBounds=function(r,n){return r||(this.parent?(this._recursivePostUpdateTransform(),this.updateTransform()):(this.parent=this._tempDisplayObjectParent,this.updateTransform(),this.parent=null)),this._bounds.updateID!==this._boundsID&&(this.calculateBounds(),this._bounds.updateID=this._boundsID),n||(this._boundsRect||(this._boundsRect=new it),n=this._boundsRect),this._bounds.getRectangle(n)},t.prototype.getLocalBounds=function(r){r||(this._localBoundsRect||(this._localBoundsRect=new it),r=this._localBoundsRect),this._localBounds||(this._localBounds=new cl);var n=this.transform,i=this.parent;this.parent=null,this.transform=this._tempDisplayObjectParent.transform;var o=this._bounds,a=this._boundsID;this._bounds=this._localBounds;var u=this.getBounds(!1,r);return this.parent=i,this.transform=n,this._bounds=o,this._bounds.updateID+=this._boundsID-a,u},t.prototype.toGlobal=function(r,n,i){return i===void 0&&(i=!1),i||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.apply(r,n)},t.prototype.toLocal=function(r,n,i,o){return n&&(r=n.toGlobal(r,i,o)),o||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.applyInverse(r,i)},t.prototype.setParent=function(r){if(!r||!r.addChild)throw new Error("setParent: Argument must be a Container");return r.addChild(this),r},t.prototype.setTransform=function(r,n,i,o,a,u,f,h,d){return r===void 0&&(r=0),n===void 0&&(n=0),i===void 0&&(i=1),o===void 0&&(o=1),a===void 0&&(a=0),u===void 0&&(u=0),f===void 0&&(f=0),h===void 0&&(h=0),d===void 0&&(d=0),this.position.x=r,this.position.y=n,this.scale.x=i||1,this.scale.y=o||1,this.rotation=a,this.skew.x=u,this.skew.y=f,this.pivot.x=h,this.pivot.y=d,this},t.prototype.destroy=function(r){this.parent&&this.parent.removeChild(this),this.emit("destroyed"),this.removeAllListeners(),this.transform=null,this.parent=null,this._bounds=null,this.mask=null,this.cullArea=null,this.filters=null,this.filterArea=null,this.hitArea=null,this.interactive=!1,this.interactiveChildren=!1,this._destroyed=!0},Object.defineProperty(t.prototype,"_tempDisplayObjectParent",{get:function(){return this.tempDisplayObjectParent===null&&(this.tempDisplayObjectParent=new v2),this.tempDisplayObjectParent},enumerable:!1,configurable:!0}),t.prototype.enableTempParent=function(){var r=this.parent;return this.parent=this._tempDisplayObjectParent,r},t.prototype.disableTempParent=function(r){this.parent=r},Object.defineProperty(t.prototype,"x",{get:function(){return this.position.x},set:function(r){this.transform.position.x=r},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"y",{get:function(){return this.position.y},set:function(r){this.transform.position.y=r},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"worldTransform",{get:function(){return this.transform.worldTransform},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"localTransform",{get:function(){return this.transform.localTransform},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"position",{get:function(){return this.transform.position},set:function(r){this.transform.position.copyFrom(r)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"scale",{get:function(){return this.transform.scale},set:function(r){this.transform.scale.copyFrom(r)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"pivot",{get:function(){return this.transform.pivot},set:function(r){this.transform.pivot.copyFrom(r)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"skew",{get:function(){return this.transform.skew},set:function(r){this.transform.skew.copyFrom(r)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"rotation",{get:function(){return this.transform.rotation},set:function(r){this.transform.rotation=r},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"angle",{get:function(){return this.transform.rotation*D6},set:function(r){this.transform.rotation=r*G6},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"zIndex",{get:function(){return this._zIndex},set:function(r){this._zIndex=r,this.parent&&(this.parent.sortDirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"worldVisible",{get:function(){var r=this;do{if(!r.visible)return!1;r=r.parent}while(r);return!0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"mask",{get:function(){return this._mask},set:function(r){if(this._mask!==r){if(this._mask){var n=this._mask.maskObject||this._mask;n._maskRefCount--,n._maskRefCount===0&&(n.renderable=!0,n.isMask=!1)}if(this._mask=r,this._mask){var n=this._mask.maskObject||this._mask;n._maskRefCount===0&&(n.renderable=!1,n.isMask=!0),n._maskRefCount++}}},enumerable:!1,configurable:!0}),t}(Nl),v2=function(e){Kg(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.sortDirty=null,r}return t}(jt);jt.prototype.displayObjectUpdateTransform=jt.prototype.updateTransform;/*!
 * @pixi/constants - v6.3.0
 * Compiled Wed, 23 Mar 2022 18:58:56 UTC
 *
 * @pixi/constants is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var XT;(function(e){e[e.WEBGL_LEGACY=0]="WEBGL_LEGACY",e[e.WEBGL=1]="WEBGL",e[e.WEBGL2=2]="WEBGL2"})(XT||(XT={}));var zT;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.WEBGL=1]="WEBGL",e[e.CANVAS=2]="CANVAS"})(zT||(zT={}));var VT;(function(e){e[e.COLOR=16384]="COLOR",e[e.DEPTH=256]="DEPTH",e[e.STENCIL=1024]="STENCIL"})(VT||(VT={}));var WT;(function(e){e[e.NORMAL=0]="NORMAL",e[e.ADD=1]="ADD",e[e.MULTIPLY=2]="MULTIPLY",e[e.SCREEN=3]="SCREEN",e[e.OVERLAY=4]="OVERLAY",e[e.DARKEN=5]="DARKEN",e[e.LIGHTEN=6]="LIGHTEN",e[e.COLOR_DODGE=7]="COLOR_DODGE",e[e.COLOR_BURN=8]="COLOR_BURN",e[e.HARD_LIGHT=9]="HARD_LIGHT",e[e.SOFT_LIGHT=10]="SOFT_LIGHT",e[e.DIFFERENCE=11]="DIFFERENCE",e[e.EXCLUSION=12]="EXCLUSION",e[e.HUE=13]="HUE",e[e.SATURATION=14]="SATURATION",e[e.COLOR=15]="COLOR",e[e.LUMINOSITY=16]="LUMINOSITY",e[e.NORMAL_NPM=17]="NORMAL_NPM",e[e.ADD_NPM=18]="ADD_NPM",e[e.SCREEN_NPM=19]="SCREEN_NPM",e[e.NONE=20]="NONE",e[e.SRC_OVER=0]="SRC_OVER",e[e.SRC_IN=21]="SRC_IN",e[e.SRC_OUT=22]="SRC_OUT",e[e.SRC_ATOP=23]="SRC_ATOP",e[e.DST_OVER=24]="DST_OVER",e[e.DST_IN=25]="DST_IN",e[e.DST_OUT=26]="DST_OUT",e[e.DST_ATOP=27]="DST_ATOP",e[e.ERASE=26]="ERASE",e[e.SUBTRACT=28]="SUBTRACT",e[e.XOR=29]="XOR"})(WT||(WT={}));var jT;(function(e){e[e.POINTS=0]="POINTS",e[e.LINES=1]="LINES",e[e.LINE_LOOP=2]="LINE_LOOP",e[e.LINE_STRIP=3]="LINE_STRIP",e[e.TRIANGLES=4]="TRIANGLES",e[e.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",e[e.TRIANGLE_FAN=6]="TRIANGLE_FAN"})(jT||(jT={}));var $T;(function(e){e[e.RGBA=6408]="RGBA",e[e.RGB=6407]="RGB",e[e.RG=33319]="RG",e[e.RED=6403]="RED",e[e.RGBA_INTEGER=36249]="RGBA_INTEGER",e[e.RGB_INTEGER=36248]="RGB_INTEGER",e[e.RG_INTEGER=33320]="RG_INTEGER",e[e.RED_INTEGER=36244]="RED_INTEGER",e[e.ALPHA=6406]="ALPHA",e[e.LUMINANCE=6409]="LUMINANCE",e[e.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",e[e.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",e[e.DEPTH_STENCIL=34041]="DEPTH_STENCIL"})($T||($T={}));var YT;(function(e){e[e.TEXTURE_2D=3553]="TEXTURE_2D",e[e.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",e[e.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",e[e.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",e[e.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",e[e.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",e[e.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",e[e.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",e[e.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z"})(YT||(YT={}));var qT;(function(e){e[e.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",e[e.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",e[e.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",e[e.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",e[e.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",e[e.UNSIGNED_INT=5125]="UNSIGNED_INT",e[e.UNSIGNED_INT_10F_11F_11F_REV=35899]="UNSIGNED_INT_10F_11F_11F_REV",e[e.UNSIGNED_INT_2_10_10_10_REV=33640]="UNSIGNED_INT_2_10_10_10_REV",e[e.UNSIGNED_INT_24_8=34042]="UNSIGNED_INT_24_8",e[e.UNSIGNED_INT_5_9_9_9_REV=35902]="UNSIGNED_INT_5_9_9_9_REV",e[e.BYTE=5120]="BYTE",e[e.SHORT=5122]="SHORT",e[e.INT=5124]="INT",e[e.FLOAT=5126]="FLOAT",e[e.FLOAT_32_UNSIGNED_INT_24_8_REV=36269]="FLOAT_32_UNSIGNED_INT_24_8_REV",e[e.HALF_FLOAT=36193]="HALF_FLOAT"})(qT||(qT={}));var KT;(function(e){e[e.FLOAT=0]="FLOAT",e[e.INT=1]="INT",e[e.UINT=2]="UINT"})(KT||(KT={}));var ZT;(function(e){e[e.NEAREST=0]="NEAREST",e[e.LINEAR=1]="LINEAR"})(ZT||(ZT={}));var JT;(function(e){e[e.CLAMP=33071]="CLAMP",e[e.REPEAT=10497]="REPEAT",e[e.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT"})(JT||(JT={}));var QT;(function(e){e[e.OFF=0]="OFF",e[e.POW2=1]="POW2",e[e.ON=2]="ON",e[e.ON_MANUAL=3]="ON_MANUAL"})(QT||(QT={}));var eE;(function(e){e[e.NPM=0]="NPM",e[e.UNPACK=1]="UNPACK",e[e.PMA=2]="PMA",e[e.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",e[e.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",e[e.PREMULTIPLY_ALPHA=2]="PREMULTIPLY_ALPHA",e[e.PREMULTIPLIED_ALPHA=2]="PREMULTIPLIED_ALPHA"})(eE||(eE={}));var tE;(function(e){e[e.NO=0]="NO",e[e.YES=1]="YES",e[e.AUTO=2]="AUTO",e[e.BLEND=0]="BLEND",e[e.CLEAR=1]="CLEAR",e[e.BLIT=2]="BLIT"})(tE||(tE={}));var rE;(function(e){e[e.AUTO=0]="AUTO",e[e.MANUAL=1]="MANUAL"})(rE||(rE={}));var nE;(function(e){e.LOW="lowp",e.MEDIUM="mediump",e.HIGH="highp"})(nE||(nE={}));var nm;(function(e){e[e.NONE=0]="NONE",e[e.SCISSOR=1]="SCISSOR",e[e.STENCIL=2]="STENCIL",e[e.SPRITE=3]="SPRITE"})(nm||(nm={}));var iE;(function(e){e[e.NONE=0]="NONE",e[e.LOW=2]="LOW",e[e.MEDIUM=4]="MEDIUM",e[e.HIGH=8]="HIGH"})(iE||(iE={}));var oE;(function(e){e[e.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",e[e.ARRAY_BUFFER=34962]="ARRAY_BUFFER",e[e.UNIFORM_BUFFER=35345]="UNIFORM_BUFFER"})(oE||(oE={}));function W6(e,t){return e.zIndex===t.zIndex?e._lastSortedIndex-t._lastSortedIndex:e.zIndex-t.zIndex}var _n=function(e){Kg(t,e);function t(){var r=e.call(this)||this;return r.children=[],r.sortableChildren=Te.SORTABLE_CHILDREN,r.sortDirty=!1,r}return t.prototype.onChildrenChange=function(r){},t.prototype.addChild=function(){for(var r=arguments,n=[],i=0;i<arguments.length;i++)n[i]=r[i];if(n.length>1)for(var o=0;o<n.length;o++)this.addChild(n[o]);else{var a=n[0];a.parent&&a.parent.removeChild(a),a.parent=this,this.sortDirty=!0,a.transform._parentID=-1,this.children.push(a),this._boundsID++,this.onChildrenChange(this.children.length-1),this.emit("childAdded",a,this,this.children.length-1),a.emit("added",this)}return n[0]},t.prototype.addChildAt=function(r,n){if(n<0||n>this.children.length)throw new Error(r+"addChildAt: The index "+n+" supplied is out of bounds "+this.children.length);return r.parent&&r.parent.removeChild(r),r.parent=this,this.sortDirty=!0,r.transform._parentID=-1,this.children.splice(n,0,r),this._boundsID++,this.onChildrenChange(n),r.emit("added",this),this.emit("childAdded",r,this,n),r},t.prototype.swapChildren=function(r,n){if(r!==n){var i=this.getChildIndex(r),o=this.getChildIndex(n);this.children[i]=n,this.children[o]=r,this.onChildrenChange(i<o?i:o)}},t.prototype.getChildIndex=function(r){var n=this.children.indexOf(r);if(n===-1)throw new Error("The supplied DisplayObject must be a child of the caller");return n},t.prototype.setChildIndex=function(r,n){if(n<0||n>=this.children.length)throw new Error("The index "+n+" supplied is out of bounds "+this.children.length);var i=this.getChildIndex(r);cs(this.children,i,1),this.children.splice(n,0,r),this.onChildrenChange(n)},t.prototype.getChildAt=function(r){if(r<0||r>=this.children.length)throw new Error("getChildAt: Index ("+r+") does not exist.");return this.children[r]},t.prototype.removeChild=function(){for(var r=arguments,n=[],i=0;i<arguments.length;i++)n[i]=r[i];if(n.length>1)for(var o=0;o<n.length;o++)this.removeChild(n[o]);else{var a=n[0],u=this.children.indexOf(a);if(u===-1)return null;a.parent=null,a.transform._parentID=-1,cs(this.children,u,1),this._boundsID++,this.onChildrenChange(u),a.emit("removed",this),this.emit("childRemoved",a,this,u)}return n[0]},t.prototype.removeChildAt=function(r){var n=this.getChildAt(r);return n.parent=null,n.transform._parentID=-1,cs(this.children,r,1),this._boundsID++,this.onChildrenChange(r),n.emit("removed",this),this.emit("childRemoved",n,this,r),n},t.prototype.removeChildren=function(r,n){r===void 0&&(r=0),n===void 0&&(n=this.children.length);var i=r,o=n,a=o-i,u;if(a>0&&a<=o){u=this.children.splice(i,a);for(var f=0;f<u.length;++f)u[f].parent=null,u[f].transform&&(u[f].transform._parentID=-1);this._boundsID++,this.onChildrenChange(r);for(var f=0;f<u.length;++f)u[f].emit("removed",this),this.emit("childRemoved",u[f],this,f);return u}else if(a===0&&this.children.length===0)return[];throw new RangeError("removeChildren: numeric values are outside the acceptable range.")},t.prototype.sortChildren=function(){for(var r=!1,n=0,i=this.children.length;n<i;++n){var o=this.children[n];o._lastSortedIndex=n,!r&&o.zIndex!==0&&(r=!0)}r&&this.children.length>1&&this.children.sort(W6),this.sortDirty=!1},t.prototype.updateTransform=function(){this.sortableChildren&&this.sortDirty&&this.sortChildren(),this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha;for(var r=0,n=this.children.length;r<n;++r){var i=this.children[r];i.visible&&i.updateTransform()}},t.prototype.calculateBounds=function(){this._bounds.clear(),this._calculateBounds();for(var r=0;r<this.children.length;r++){var n=this.children[r];if(!(!n.visible||!n.renderable))if(n.calculateBounds(),n._mask){var i=n._mask.maskObject||n._mask;i.calculateBounds(),this._bounds.addBoundsMask(n._bounds,i._bounds)}else n.filterArea?this._bounds.addBoundsArea(n._bounds,n.filterArea):this._bounds.addBounds(n._bounds)}this._bounds.updateID=this._boundsID},t.prototype.getLocalBounds=function(r,n){n===void 0&&(n=!1);var i=e.prototype.getLocalBounds.call(this,r);if(!n)for(var o=0,a=this.children.length;o<a;++o){var u=this.children[o];u.visible&&u.updateTransform()}return i},t.prototype._calculateBounds=function(){},t.prototype._renderWithCulling=function(r){var n=r.renderTexture.sourceFrame;if(n.width>0&&n.height>0){var i,o;if(this.cullArea?(i=this.cullArea,o=this.worldTransform):this._render!==t.prototype._render&&(i=this.getBounds(!0)),i&&n.intersects(i,o))this._render(r);else if(this.cullArea)return;for(var a=0,u=this.children.length;a<u;++a){var f=this.children[a],h=f.cullable;f.cullable=h||!this.cullArea,f.render(r),f.cullable=h}}},t.prototype.render=function(r){if(!(!this.visible||this.worldAlpha<=0||!this.renderable))if(this._mask||this.filters&&this.filters.length)this.renderAdvanced(r);else if(this.cullable)this._renderWithCulling(r);else{this._render(r);for(var n=0,i=this.children.length;n<i;++n)this.children[n].render(r)}},t.prototype.renderAdvanced=function(r){var n=this.filters,i=this._mask;if(n){this._enabledFilters||(this._enabledFilters=[]),this._enabledFilters.length=0;for(var o=0;o<n.length;o++)n[o].enabled&&this._enabledFilters.push(n[o])}var a=n&&this._enabledFilters&&this._enabledFilters.length||i&&(!i.isMaskData||i.enabled&&(i.autoDetect||i.type!==nm.NONE));if(a&&r.batch.flush(),n&&this._enabledFilters&&this._enabledFilters.length&&r.filter.push(this,this._enabledFilters),i&&r.mask.push(this,this._mask),this.cullable)this._renderWithCulling(r);else{this._render(r);for(var o=0,u=this.children.length;o<u;++o)this.children[o].render(r)}a&&r.batch.flush(),i&&r.mask.pop(this),n&&this._enabledFilters&&this._enabledFilters.length&&r.filter.pop()},t.prototype._render=function(r){},t.prototype.destroy=function(r){e.prototype.destroy.call(this),this.sortDirty=!1;var n=typeof r=="boolean"?r:r&&r.children,i=this.removeChildren(0,this.children.length);if(n)for(var o=0;o<i.length;++o)i[o].destroy(r)},Object.defineProperty(t.prototype,"width",{get:function(){return this.scale.x*this.getLocalBounds().width},set:function(r){var n=this.getLocalBounds().width;n!==0?this.scale.x=r/n:this.scale.x=1,this._width=r},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this.scale.y*this.getLocalBounds().height},set:function(r){var n=this.getLocalBounds().height;n!==0?this.scale.y=r/n:this.scale.y=1,this._height=r},enumerable:!1,configurable:!0}),t}(jt);_n.prototype.containerUpdateTransform=_n.prototype.updateTransform;/*!
 * @pixi/accessibility - v6.3.0
 * Compiled Wed, 23 Mar 2022 18:58:56 UTC
 *
 * @pixi/accessibility is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var j6={accessible:!1,accessibleTitle:null,accessibleHint:null,tabIndex:0,_accessibleActive:!1,_accessibleDiv:null,accessibleType:"button",accessiblePointerEvents:"auto",accessibleChildren:!0,renderId:-1};jt.mixin(j6);var $6=9,ih=100,Y6=0,q6=0,aE=2,sE=1,K6=-1e3,Z6=-1e3,J6=2,Q6=function(){function e(t){this.debug=!1,this._isActive=!1,this._isMobileAccessibility=!1,this.pool=[],this.renderId=0,this.children=[],this.androidUpdateCount=0,this.androidUpdateFrequency=500,this._hookDiv=null,(Vn.tablet||Vn.phone)&&this.createTouchHook();var r=document.createElement("div");r.style.width=ih+"px",r.style.height=ih+"px",r.style.position="absolute",r.style.top=Y6+"px",r.style.left=q6+"px",r.style.zIndex=aE.toString(),this.div=r,this.renderer=t,this._onKeyDown=this._onKeyDown.bind(this),this._onMouseMove=this._onMouseMove.bind(this),globalThis.addEventListener("keydown",this._onKeyDown,!1)}return Object.defineProperty(e.prototype,"isActive",{get:function(){return this._isActive},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isMobileAccessibility",{get:function(){return this._isMobileAccessibility},enumerable:!1,configurable:!0}),e.prototype.createTouchHook=function(){var t=this,r=document.createElement("button");r.style.width=sE+"px",r.style.height=sE+"px",r.style.position="absolute",r.style.top=K6+"px",r.style.left=Z6+"px",r.style.zIndex=J6.toString(),r.style.backgroundColor="#FF0000",r.title="select to enable accessibility for this content",r.addEventListener("focus",function(){t._isMobileAccessibility=!0,t.activate(),t.destroyTouchHook()}),document.body.appendChild(r),this._hookDiv=r},e.prototype.destroyTouchHook=function(){!this._hookDiv||(document.body.removeChild(this._hookDiv),this._hookDiv=null)},e.prototype.activate=function(){var t;this._isActive||(this._isActive=!0,globalThis.document.addEventListener("mousemove",this._onMouseMove,!0),globalThis.removeEventListener("keydown",this._onKeyDown,!1),this.renderer.on("postrender",this.update,this),(t=this.renderer.view.parentNode)===null||t===void 0||t.appendChild(this.div))},e.prototype.deactivate=function(){var t;!this._isActive||this._isMobileAccessibility||(this._isActive=!1,globalThis.document.removeEventListener("mousemove",this._onMouseMove,!0),globalThis.addEventListener("keydown",this._onKeyDown,!1),this.renderer.off("postrender",this.update),(t=this.div.parentNode)===null||t===void 0||t.removeChild(this.div))},e.prototype.updateAccessibleObjects=function(t){if(!(!t.visible||!t.accessibleChildren)){t.accessible&&t.interactive&&(t._accessibleActive||this.addChild(t),t.renderId=this.renderId);var r=t.children;if(r)for(var n=0;n<r.length;n++)this.updateAccessibleObjects(r[n])}},e.prototype.update=function(){var t=performance.now();if(!(Vn.android.device&&t<this.androidUpdateCount)&&(this.androidUpdateCount=t+this.androidUpdateFrequency,!!this.renderer.renderingToScreen)){this.renderer._lastObjectRendered&&this.updateAccessibleObjects(this.renderer._lastObjectRendered);var r=this.renderer.view.getBoundingClientRect(),n=r.left,i=r.top,o=r.width,a=r.height,u=this.renderer,f=u.width,h=u.height,d=u.resolution,p=o/f*d,v=a/h*d,m=this.div;m.style.left=n+"px",m.style.top=i+"px",m.style.width=f+"px",m.style.height=h+"px";for(var y=0;y<this.children.length;y++){var E=this.children[y];if(E.renderId!==this.renderId)E._accessibleActive=!1,cs(this.children,y,1),this.div.removeChild(E._accessibleDiv),this.pool.push(E._accessibleDiv),E._accessibleDiv=null,y--;else{m=E._accessibleDiv;var g=E.hitArea,x=E.worldTransform;E.hitArea?(m.style.left=(x.tx+g.x*x.a)*p+"px",m.style.top=(x.ty+g.y*x.d)*v+"px",m.style.width=g.width*x.a*p+"px",m.style.height=g.height*x.d*v+"px"):(g=E.getBounds(),this.capHitArea(g),m.style.left=g.x*p+"px",m.style.top=g.y*v+"px",m.style.width=g.width*p+"px",m.style.height=g.height*v+"px",m.title!==E.accessibleTitle&&E.accessibleTitle!==null&&(m.title=E.accessibleTitle),m.getAttribute("aria-label")!==E.accessibleHint&&E.accessibleHint!==null&&m.setAttribute("aria-label",E.accessibleHint)),(E.accessibleTitle!==m.title||E.tabIndex!==m.tabIndex)&&(m.title=E.accessibleTitle,m.tabIndex=E.tabIndex,this.debug&&this.updateDebugHTML(m))}}this.renderId++}},e.prototype.updateDebugHTML=function(t){t.innerHTML="type: "+t.type+"</br> title : "+t.title+"</br> tabIndex: "+t.tabIndex},e.prototype.capHitArea=function(t){t.x<0&&(t.width+=t.x,t.x=0),t.y<0&&(t.height+=t.y,t.y=0);var r=this.renderer,n=r.width,i=r.height;t.x+t.width>n&&(t.width=n-t.x),t.y+t.height>i&&(t.height=i-t.y)},e.prototype.addChild=function(t){var r=this.pool.pop();r||(r=document.createElement("button"),r.style.width=ih+"px",r.style.height=ih+"px",r.style.backgroundColor=this.debug?"rgba(255,255,255,0.5)":"transparent",r.style.position="absolute",r.style.zIndex=aE.toString(),r.style.borderStyle="none",navigator.userAgent.toLowerCase().indexOf("chrome")>-1?r.setAttribute("aria-live","off"):r.setAttribute("aria-live","polite"),navigator.userAgent.match(/rv:.*Gecko\//)?r.setAttribute("aria-relevant","additions"):r.setAttribute("aria-relevant","text"),r.addEventListener("click",this._onClick.bind(this)),r.addEventListener("focus",this._onFocus.bind(this)),r.addEventListener("focusout",this._onFocusOut.bind(this))),r.style.pointerEvents=t.accessiblePointerEvents,r.type=t.accessibleType,t.accessibleTitle&&t.accessibleTitle!==null?r.title=t.accessibleTitle:(!t.accessibleHint||t.accessibleHint===null)&&(r.title="displayObject "+t.tabIndex),t.accessibleHint&&t.accessibleHint!==null&&r.setAttribute("aria-label",t.accessibleHint),this.debug&&this.updateDebugHTML(r),t._accessibleActive=!0,t._accessibleDiv=r,r.displayObject=t,this.children.push(t),this.div.appendChild(t._accessibleDiv),t._accessibleDiv.tabIndex=t.tabIndex},e.prototype._onClick=function(t){var r=this.renderer.plugins.interaction,n=t.target.displayObject,i=r.eventData;r.dispatchEvent(n,"click",i),r.dispatchEvent(n,"pointertap",i),r.dispatchEvent(n,"tap",i)},e.prototype._onFocus=function(t){t.target.getAttribute("aria-live")||t.target.setAttribute("aria-live","assertive");var r=this.renderer.plugins.interaction,n=t.target.displayObject,i=r.eventData;r.dispatchEvent(n,"mouseover",i)},e.prototype._onFocusOut=function(t){t.target.getAttribute("aria-live")||t.target.setAttribute("aria-live","polite");var r=this.renderer.plugins.interaction,n=t.target.displayObject,i=r.eventData;r.dispatchEvent(n,"mouseout",i)},e.prototype._onKeyDown=function(t){t.keyCode===$6&&this.activate()},e.prototype._onMouseMove=function(t){t.movementX===0&&t.movementY===0||this.deactivate()},e.prototype.destroy=function(){this.destroyTouchHook(),this.div=null,globalThis.document.removeEventListener("mousemove",this._onMouseMove,!0),globalThis.removeEventListener("keydown",this._onKeyDown),this.pool=null,this.children=null,this.renderer=null},e}();/*!
 * @pixi/ticker - v6.3.0
 * Compiled Wed, 23 Mar 2022 18:58:56 UTC
 *
 * @pixi/ticker is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */Te.TARGET_FPMS=.06;var bi;(function(e){e[e.INTERACTION=50]="INTERACTION",e[e.HIGH=25]="HIGH",e[e.NORMAL=0]="NORMAL",e[e.LOW=-25]="LOW",e[e.UTILITY=-50]="UTILITY"})(bi||(bi={}));var Ev=function(){function e(t,r,n,i){r===void 0&&(r=null),n===void 0&&(n=0),i===void 0&&(i=!1),this.next=null,this.previous=null,this._destroyed=!1,this.fn=t,this.context=r,this.priority=n,this.once=i}return e.prototype.match=function(t,r){return r===void 0&&(r=null),this.fn===t&&this.context===r},e.prototype.emit=function(t){this.fn&&(this.context?this.fn.call(this.context,t):this.fn(t));var r=this.next;return this.once&&this.destroy(!0),this._destroyed&&(this.next=null),r},e.prototype.connect=function(t){this.previous=t,t.next&&(t.next.previous=this),this.next=t.next,t.next=this},e.prototype.destroy=function(t){t===void 0&&(t=!1),this._destroyed=!0,this.fn=null,this.context=null,this.previous&&(this.previous.next=this.next),this.next&&(this.next.previous=this.previous);var r=this.next;return this.next=t?null:r,this.previous=null,r},e}(),lr=function(){function e(){var t=this;this.autoStart=!1,this.deltaTime=1,this.lastTime=-1,this.speed=1,this.started=!1,this._requestId=null,this._maxElapsedMS=100,this._minElapsedMS=0,this._protected=!1,this._lastFrame=-1,this._head=new Ev(null,null,1/0),this.deltaMS=1/Te.TARGET_FPMS,this.elapsedMS=1/Te.TARGET_FPMS,this._tick=function(r){t._requestId=null,t.started&&(t.update(r),t.started&&t._requestId===null&&t._head.next&&(t._requestId=requestAnimationFrame(t._tick)))}}return e.prototype._requestIfNeeded=function(){this._requestId===null&&this._head.next&&(this.lastTime=performance.now(),this._lastFrame=this.lastTime,this._requestId=requestAnimationFrame(this._tick))},e.prototype._cancelIfNeeded=function(){this._requestId!==null&&(cancelAnimationFrame(this._requestId),this._requestId=null)},e.prototype._startIfPossible=function(){this.started?this._requestIfNeeded():this.autoStart&&this.start()},e.prototype.add=function(t,r,n){return n===void 0&&(n=bi.NORMAL),this._addListener(new Ev(t,r,n))},e.prototype.addOnce=function(t,r,n){return n===void 0&&(n=bi.NORMAL),this._addListener(new Ev(t,r,n,!0))},e.prototype._addListener=function(t){var r=this._head.next,n=this._head;if(!r)t.connect(n);else{for(;r;){if(t.priority>r.priority){t.connect(n);break}n=r,r=r.next}t.previous||t.connect(n)}return this._startIfPossible(),this},e.prototype.remove=function(t,r){for(var n=this._head.next;n;)n.match(t,r)?n=n.destroy():n=n.next;return this._head.next||this._cancelIfNeeded(),this},Object.defineProperty(e.prototype,"count",{get:function(){if(!this._head)return 0;for(var t=0,r=this._head;r=r.next;)t++;return t},enumerable:!1,configurable:!0}),e.prototype.start=function(){this.started||(this.started=!0,this._requestIfNeeded())},e.prototype.stop=function(){this.started&&(this.started=!1,this._cancelIfNeeded())},e.prototype.destroy=function(){if(!this._protected){this.stop();for(var t=this._head.next;t;)t=t.destroy(!0);this._head.destroy(),this._head=null}},e.prototype.update=function(t){t===void 0&&(t=performance.now());var r;if(t>this.lastTime){if(r=this.elapsedMS=t-this.lastTime,r>this._maxElapsedMS&&(r=this._maxElapsedMS),r*=this.speed,this._minElapsedMS){var n=t-this._lastFrame|0;if(n<this._minElapsedMS)return;this._lastFrame=t-n%this._minElapsedMS}this.deltaMS=r,this.deltaTime=this.deltaMS*Te.TARGET_FPMS;for(var i=this._head,o=i.next;o;)o=o.emit(this.deltaTime);i.next||this._cancelIfNeeded()}else this.deltaTime=this.deltaMS=this.elapsedMS=0;this.lastTime=t},Object.defineProperty(e.prototype,"FPS",{get:function(){return 1e3/this.elapsedMS},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"minFPS",{get:function(){return 1e3/this._maxElapsedMS},set:function(t){var r=Math.min(this.maxFPS,t),n=Math.min(Math.max(0,r)/1e3,Te.TARGET_FPMS);this._maxElapsedMS=1/n},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxFPS",{get:function(){return this._minElapsedMS?Math.round(1e3/this._minElapsedMS):0},set:function(t){if(t===0)this._minElapsedMS=0;else{var r=Math.max(this.minFPS,t);this._minElapsedMS=1/(r/1e3)}},enumerable:!1,configurable:!0}),Object.defineProperty(e,"shared",{get:function(){if(!e._shared){var t=e._shared=new e;t.autoStart=!0,t._protected=!0}return e._shared},enumerable:!1,configurable:!0}),Object.defineProperty(e,"system",{get:function(){if(!e._system){var t=e._system=new e;t.autoStart=!0,t._protected=!0}return e._system},enumerable:!1,configurable:!0}),e}(),e5=function(){function e(){}return e.init=function(t){var r=this;t=Object.assign({autoStart:!0,sharedTicker:!1},t),Object.defineProperty(this,"ticker",{set:function(n){this._ticker&&this._ticker.remove(this.render,this),this._ticker=n,n&&n.add(this.render,this,bi.LOW)},get:function(){return this._ticker}}),this.stop=function(){r._ticker.stop()},this.start=function(){r._ticker.start()},this._ticker=null,this.ticker=t.sharedTicker?lr.shared:new lr,t.autoStart&&this.start()},e.destroy=function(){if(this._ticker){var t=this._ticker;this.ticker=null,t.destroy()}},e}();/*!
 * @pixi/interaction - v6.3.0
 * Compiled Wed, 23 Mar 2022 18:58:56 UTC
 *
 * @pixi/interaction is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var uE=function(){function e(){this.pressure=0,this.rotationAngle=0,this.twist=0,this.tangentialPressure=0,this.global=new wt,this.target=null,this.originalEvent=null,this.identifier=null,this.isPrimary=!1,this.button=0,this.buttons=0,this.width=0,this.height=0,this.tiltX=0,this.tiltY=0,this.pointerType=null,this.pressure=0,this.rotationAngle=0,this.twist=0,this.tangentialPressure=0}return Object.defineProperty(e.prototype,"pointerId",{get:function(){return this.identifier},enumerable:!1,configurable:!0}),e.prototype.getLocalPosition=function(t,r,n){return t.worldTransform.applyInverse(n||this.global,r)},e.prototype.copyEvent=function(t){"isPrimary"in t&&t.isPrimary&&(this.isPrimary=!0),this.button="button"in t&&t.button;var r="buttons"in t&&t.buttons;this.buttons=Number.isInteger(r)?r:"which"in t&&t.which,this.width="width"in t&&t.width,this.height="height"in t&&t.height,this.tiltX="tiltX"in t&&t.tiltX,this.tiltY="tiltY"in t&&t.tiltY,this.pointerType="pointerType"in t&&t.pointerType,this.pressure="pressure"in t&&t.pressure,this.rotationAngle="rotationAngle"in t&&t.rotationAngle,this.twist="twist"in t&&t.twist||0,this.tangentialPressure="tangentialPressure"in t&&t.tangentialPressure||0},e.prototype.reset=function(){this.isPrimary=!1},e}();/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var im=function(e,t){return im=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},im(e,t)};function t5(e,t){im(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var r5=function(){function e(){this.stopped=!1,this.stopsPropagatingAt=null,this.stopPropagationHint=!1,this.target=null,this.currentTarget=null,this.type=null,this.data=null}return e.prototype.stopPropagation=function(){this.stopped=!0,this.stopPropagationHint=!0,this.stopsPropagatingAt=this.currentTarget},e.prototype.reset=function(){this.stopped=!1,this.stopsPropagatingAt=null,this.stopPropagationHint=!1,this.currentTarget=null,this.target=null},e}(),wv=function(){function e(t){this._pointerId=t,this._flags=e.FLAGS.NONE}return e.prototype._doSet=function(t,r){r?this._flags=this._flags|t:this._flags=this._flags&~t},Object.defineProperty(e.prototype,"pointerId",{get:function(){return this._pointerId},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"flags",{get:function(){return this._flags},set:function(t){this._flags=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"none",{get:function(){return this._flags===e.FLAGS.NONE},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"over",{get:function(){return(this._flags&e.FLAGS.OVER)!==0},set:function(t){this._doSet(e.FLAGS.OVER,t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"rightDown",{get:function(){return(this._flags&e.FLAGS.RIGHT_DOWN)!==0},set:function(t){this._doSet(e.FLAGS.RIGHT_DOWN,t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"leftDown",{get:function(){return(this._flags&e.FLAGS.LEFT_DOWN)!==0},set:function(t){this._doSet(e.FLAGS.LEFT_DOWN,t)},enumerable:!1,configurable:!0}),e.FLAGS=Object.freeze({NONE:0,OVER:1<<0,LEFT_DOWN:1<<1,RIGHT_DOWN:1<<2}),e}(),n5=function(){function e(){this._tempPoint=new wt}return e.prototype.recursiveFindHit=function(t,r,n,i,o){if(!r||!r.visible)return!1;var a=t.data.global;o=r.interactive||o;var u=!1,f=o,h=!0;if(r.hitArea?(i&&(r.worldTransform.applyInverse(a,this._tempPoint),r.hitArea.contains(this._tempPoint.x,this._tempPoint.y)?u=!0:(i=!1,h=!1)),f=!1):r._mask&&i&&(r._mask.containsPoint&&r._mask.containsPoint(a)||(i=!1)),h&&r.interactiveChildren&&r.children)for(var d=r.children,p=d.length-1;p>=0;p--){var v=d[p],m=this.recursiveFindHit(t,v,n,i,f);if(m){if(!v.parent)continue;f=!1,m&&(t.target&&(i=!1),u=!0)}}return o&&(i&&!t.target&&!r.hitArea&&r.containsPoint&&r.containsPoint(a)&&(u=!0),r.interactive&&(u&&!t.target&&(t.target=r),n&&n(t,r,!!u))),u},e.prototype.findHit=function(t,r,n,i){this.recursiveFindHit(t,r,n,i,!1)},e}(),i5={interactive:!1,interactiveChildren:!0,hitArea:null,get buttonMode(){return this.cursor==="pointer"},set buttonMode(e){e?this.cursor="pointer":this.cursor==="pointer"&&(this.cursor=null)},cursor:null,get trackedPointers(){return this._trackedPointers===void 0&&(this._trackedPointers={}),this._trackedPointers},_trackedPointers:void 0};jt.mixin(i5);var oh=1,ah={target:null,data:{global:null}},o5=function(e){t5(t,e);function t(r,n){var i=e.call(this)||this;return n=n||{},i.renderer=r,i.autoPreventDefault=n.autoPreventDefault!==void 0?n.autoPreventDefault:!0,i.interactionFrequency=n.interactionFrequency||10,i.mouse=new uE,i.mouse.identifier=oh,i.mouse.global.set(-999999),i.activeInteractionData={},i.activeInteractionData[oh]=i.mouse,i.interactionDataPool=[],i.eventData=new r5,i.interactionDOMElement=null,i.moveWhenInside=!1,i.eventsAdded=!1,i.tickerAdded=!1,i.mouseOverRenderer=!("PointerEvent"in globalThis),i.supportsTouchEvents="ontouchstart"in globalThis,i.supportsPointerEvents=!!globalThis.PointerEvent,i.onPointerUp=i.onPointerUp.bind(i),i.processPointerUp=i.processPointerUp.bind(i),i.onPointerCancel=i.onPointerCancel.bind(i),i.processPointerCancel=i.processPointerCancel.bind(i),i.onPointerDown=i.onPointerDown.bind(i),i.processPointerDown=i.processPointerDown.bind(i),i.onPointerMove=i.onPointerMove.bind(i),i.processPointerMove=i.processPointerMove.bind(i),i.onPointerOut=i.onPointerOut.bind(i),i.processPointerOverOut=i.processPointerOverOut.bind(i),i.onPointerOver=i.onPointerOver.bind(i),i.cursorStyles={default:"inherit",pointer:"pointer"},i.currentCursorMode=null,i.cursor=null,i.resolution=1,i.delayedEvents=[],i.search=new n5,i._tempDisplayObject=new v2,i._eventListenerOptions={capture:!0,passive:!1},i._useSystemTicker=n.useSystemTicker!==void 0?n.useSystemTicker:!0,i.setTargetElement(i.renderer.view,i.renderer.resolution),i}return Object.defineProperty(t.prototype,"useSystemTicker",{get:function(){return this._useSystemTicker},set:function(r){this._useSystemTicker=r,r?this.addTickerListener():this.removeTickerListener()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lastObjectRendered",{get:function(){return this.renderer._lastObjectRendered||this._tempDisplayObject},enumerable:!1,configurable:!0}),t.prototype.hitTest=function(r,n){return ah.target=null,ah.data.global=r,n||(n=this.lastObjectRendered),this.processInteractive(ah,n,null,!0),ah.target},t.prototype.setTargetElement=function(r,n){n===void 0&&(n=1),this.removeTickerListener(),this.removeEvents(),this.interactionDOMElement=r,this.resolution=n,this.addEvents(),this.addTickerListener()},t.prototype.addTickerListener=function(){this.tickerAdded||!this.interactionDOMElement||!this._useSystemTicker||(lr.system.add(this.tickerUpdate,this,bi.INTERACTION),this.tickerAdded=!0)},t.prototype.removeTickerListener=function(){!this.tickerAdded||(lr.system.remove(this.tickerUpdate,this),this.tickerAdded=!1)},t.prototype.addEvents=function(){if(!(this.eventsAdded||!this.interactionDOMElement)){var r=this.interactionDOMElement.style;globalThis.navigator.msPointerEnabled?(r.msContentZooming="none",r.msTouchAction="none"):this.supportsPointerEvents&&(r.touchAction="none"),this.supportsPointerEvents?(globalThis.document.addEventListener("pointermove",this.onPointerMove,this._eventListenerOptions),this.interactionDOMElement.addEventListener("pointerdown",this.onPointerDown,this._eventListenerOptions),this.interactionDOMElement.addEventListener("pointerleave",this.onPointerOut,this._eventListenerOptions),this.interactionDOMElement.addEventListener("pointerover",this.onPointerOver,this._eventListenerOptions),globalThis.addEventListener("pointercancel",this.onPointerCancel,this._eventListenerOptions),globalThis.addEventListener("pointerup",this.onPointerUp,this._eventListenerOptions)):(globalThis.document.addEventListener("mousemove",this.onPointerMove,this._eventListenerOptions),this.interactionDOMElement.addEventListener("mousedown",this.onPointerDown,this._eventListenerOptions),this.interactionDOMElement.addEventListener("mouseout",this.onPointerOut,this._eventListenerOptions),this.interactionDOMElement.addEventListener("mouseover",this.onPointerOver,this._eventListenerOptions),globalThis.addEventListener("mouseup",this.onPointerUp,this._eventListenerOptions)),this.supportsTouchEvents&&(this.interactionDOMElement.addEventListener("touchstart",this.onPointerDown,this._eventListenerOptions),this.interactionDOMElement.addEventListener("touchcancel",this.onPointerCancel,this._eventListenerOptions),this.interactionDOMElement.addEventListener("touchend",this.onPointerUp,this._eventListenerOptions),this.interactionDOMElement.addEventListener("touchmove",this.onPointerMove,this._eventListenerOptions)),this.eventsAdded=!0}},t.prototype.removeEvents=function(){if(!(!this.eventsAdded||!this.interactionDOMElement)){var r=this.interactionDOMElement.style;globalThis.navigator.msPointerEnabled?(r.msContentZooming="",r.msTouchAction=""):this.supportsPointerEvents&&(r.touchAction=""),this.supportsPointerEvents?(globalThis.document.removeEventListener("pointermove",this.onPointerMove,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("pointerdown",this.onPointerDown,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("pointerleave",this.onPointerOut,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("pointerover",this.onPointerOver,this._eventListenerOptions),globalThis.removeEventListener("pointercancel",this.onPointerCancel,this._eventListenerOptions),globalThis.removeEventListener("pointerup",this.onPointerUp,this._eventListenerOptions)):(globalThis.document.removeEventListener("mousemove",this.onPointerMove,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("mousedown",this.onPointerDown,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("mouseout",this.onPointerOut,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("mouseover",this.onPointerOver,this._eventListenerOptions),globalThis.removeEventListener("mouseup",this.onPointerUp,this._eventListenerOptions)),this.supportsTouchEvents&&(this.interactionDOMElement.removeEventListener("touchstart",this.onPointerDown,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("touchcancel",this.onPointerCancel,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("touchend",this.onPointerUp,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("touchmove",this.onPointerMove,this._eventListenerOptions)),this.interactionDOMElement=null,this.eventsAdded=!1}},t.prototype.tickerUpdate=function(r){this._deltaTime+=r,!(this._deltaTime<this.interactionFrequency)&&(this._deltaTime=0,this.update())},t.prototype.update=function(){if(!!this.interactionDOMElement){if(this._didMove){this._didMove=!1;return}this.cursor=null;for(var r in this.activeInteractionData)if(this.activeInteractionData.hasOwnProperty(r)){var n=this.activeInteractionData[r];if(n.originalEvent&&n.pointerType!=="touch"){var i=this.configureInteractionEventForDOMEvent(this.eventData,n.originalEvent,n);this.processInteractive(i,this.lastObjectRendered,this.processPointerOverOut,!0)}}this.setCursorMode(this.cursor)}},t.prototype.setCursorMode=function(r){r=r||"default";var n=!0;if(globalThis.OffscreenCanvas&&this.interactionDOMElement instanceof OffscreenCanvas&&(n=!1),this.currentCursorMode!==r){this.currentCursorMode=r;var i=this.cursorStyles[r];if(i)switch(typeof i){case"string":n&&(this.interactionDOMElement.style.cursor=i);break;case"function":i(r);break;case"object":n&&Object.assign(this.interactionDOMElement.style,i);break}else n&&typeof r=="string"&&!Object.prototype.hasOwnProperty.call(this.cursorStyles,r)&&(this.interactionDOMElement.style.cursor=r)}},t.prototype.dispatchEvent=function(r,n,i){(!i.stopPropagationHint||r===i.stopsPropagatingAt)&&(i.currentTarget=r,i.type=n,r.emit(n,i),r[n]&&r[n](i))},t.prototype.delayDispatchEvent=function(r,n,i){this.delayedEvents.push({displayObject:r,eventString:n,eventData:i})},t.prototype.mapPositionToPoint=function(r,n,i){var o;this.interactionDOMElement.parentElement?o=this.interactionDOMElement.getBoundingClientRect():o={x:0,y:0,width:this.interactionDOMElement.width,height:this.interactionDOMElement.height,left:0,top:0};var a=1/this.resolution;r.x=(n-o.left)*(this.interactionDOMElement.width/o.width)*a,r.y=(i-o.top)*(this.interactionDOMElement.height/o.height)*a},t.prototype.processInteractive=function(r,n,i,o){var a=this.search.findHit(r,n,i,o),u=this.delayedEvents;if(!u.length)return a;r.stopPropagationHint=!1;var f=u.length;this.delayedEvents=[];for(var h=0;h<f;h++){var d=u[h],p=d.displayObject,v=d.eventString,m=d.eventData;m.stopsPropagatingAt===p&&(m.stopPropagationHint=!0),this.dispatchEvent(p,v,m)}return a},t.prototype.onPointerDown=function(r){if(!(this.supportsTouchEvents&&r.pointerType==="touch")){var n=this.normalizeToPointerData(r);if(this.autoPreventDefault&&n[0].isNormalized){var i=r.cancelable||!("cancelable"in r);i&&r.preventDefault()}for(var o=n.length,a=0;a<o;a++){var u=n[a],f=this.getInteractionDataForPointerId(u),h=this.configureInteractionEventForDOMEvent(this.eventData,u,f);if(h.data.originalEvent=r,this.processInteractive(h,this.lastObjectRendered,this.processPointerDown,!0),this.emit("pointerdown",h),u.pointerType==="touch")this.emit("touchstart",h);else if(u.pointerType==="mouse"||u.pointerType==="pen"){var d=u.button===2;this.emit(d?"rightdown":"mousedown",this.eventData)}}}},t.prototype.processPointerDown=function(r,n,i){var o=r.data,a=r.data.identifier;if(i){if(n.trackedPointers[a]||(n.trackedPointers[a]=new wv(a)),this.dispatchEvent(n,"pointerdown",r),o.pointerType==="touch")this.dispatchEvent(n,"touchstart",r);else if(o.pointerType==="mouse"||o.pointerType==="pen"){var u=o.button===2;u?n.trackedPointers[a].rightDown=!0:n.trackedPointers[a].leftDown=!0,this.dispatchEvent(n,u?"rightdown":"mousedown",r)}}},t.prototype.onPointerComplete=function(r,n,i){for(var o=this.normalizeToPointerData(r),a=o.length,u=r.target!==this.interactionDOMElement?"outside":"",f=0;f<a;f++){var h=o[f],d=this.getInteractionDataForPointerId(h),p=this.configureInteractionEventForDOMEvent(this.eventData,h,d);if(p.data.originalEvent=r,this.processInteractive(p,this.lastObjectRendered,i,n||!u),this.emit(n?"pointercancel":"pointerup"+u,p),h.pointerType==="mouse"||h.pointerType==="pen"){var v=h.button===2;this.emit(v?"rightup"+u:"mouseup"+u,p)}else h.pointerType==="touch"&&(this.emit(n?"touchcancel":"touchend"+u,p),this.releaseInteractionDataForPointerId(h.pointerId))}},t.prototype.onPointerCancel=function(r){this.supportsTouchEvents&&r.pointerType==="touch"||this.onPointerComplete(r,!0,this.processPointerCancel)},t.prototype.processPointerCancel=function(r,n){var i=r.data,o=r.data.identifier;n.trackedPointers[o]!==void 0&&(delete n.trackedPointers[o],this.dispatchEvent(n,"pointercancel",r),i.pointerType==="touch"&&this.dispatchEvent(n,"touchcancel",r))},t.prototype.onPointerUp=function(r){this.supportsTouchEvents&&r.pointerType==="touch"||this.onPointerComplete(r,!1,this.processPointerUp)},t.prototype.processPointerUp=function(r,n,i){var o=r.data,a=r.data.identifier,u=n.trackedPointers[a],f=o.pointerType==="touch",h=o.pointerType==="mouse"||o.pointerType==="pen",d=!1;if(h){var p=o.button===2,v=wv.FLAGS,m=p?v.RIGHT_DOWN:v.LEFT_DOWN,y=u!==void 0&&u.flags&m;i?(this.dispatchEvent(n,p?"rightup":"mouseup",r),y&&(this.dispatchEvent(n,p?"rightclick":"click",r),d=!0)):y&&this.dispatchEvent(n,p?"rightupoutside":"mouseupoutside",r),u&&(p?u.rightDown=!1:u.leftDown=!1)}i?(this.dispatchEvent(n,"pointerup",r),f&&this.dispatchEvent(n,"touchend",r),u&&((!h||d)&&this.dispatchEvent(n,"pointertap",r),f&&(this.dispatchEvent(n,"tap",r),u.over=!1))):u&&(this.dispatchEvent(n,"pointerupoutside",r),f&&this.dispatchEvent(n,"touchendoutside",r)),u&&u.none&&delete n.trackedPointers[a]},t.prototype.onPointerMove=function(r){if(!(this.supportsTouchEvents&&r.pointerType==="touch")){var n=this.normalizeToPointerData(r);(n[0].pointerType==="mouse"||n[0].pointerType==="pen")&&(this._didMove=!0,this.cursor=null);for(var i=n.length,o=0;o<i;o++){var a=n[o],u=this.getInteractionDataForPointerId(a),f=this.configureInteractionEventForDOMEvent(this.eventData,a,u);f.data.originalEvent=r,this.processInteractive(f,this.lastObjectRendered,this.processPointerMove,!0),this.emit("pointermove",f),a.pointerType==="touch"&&this.emit("touchmove",f),(a.pointerType==="mouse"||a.pointerType==="pen")&&this.emit("mousemove",f)}n[0].pointerType==="mouse"&&this.setCursorMode(this.cursor)}},t.prototype.processPointerMove=function(r,n,i){var o=r.data,a=o.pointerType==="touch",u=o.pointerType==="mouse"||o.pointerType==="pen";u&&this.processPointerOverOut(r,n,i),(!this.moveWhenInside||i)&&(this.dispatchEvent(n,"pointermove",r),a&&this.dispatchEvent(n,"touchmove",r),u&&this.dispatchEvent(n,"mousemove",r))},t.prototype.onPointerOut=function(r){if(!(this.supportsTouchEvents&&r.pointerType==="touch")){var n=this.normalizeToPointerData(r),i=n[0];i.pointerType==="mouse"&&(this.mouseOverRenderer=!1,this.setCursorMode(null));var o=this.getInteractionDataForPointerId(i),a=this.configureInteractionEventForDOMEvent(this.eventData,i,o);a.data.originalEvent=i,this.processInteractive(a,this.lastObjectRendered,this.processPointerOverOut,!1),this.emit("pointerout",a),i.pointerType==="mouse"||i.pointerType==="pen"?this.emit("mouseout",a):this.releaseInteractionDataForPointerId(o.identifier)}},t.prototype.processPointerOverOut=function(r,n,i){var o=r.data,a=r.data.identifier,u=o.pointerType==="mouse"||o.pointerType==="pen",f=n.trackedPointers[a];i&&!f&&(f=n.trackedPointers[a]=new wv(a)),f!==void 0&&(i&&this.mouseOverRenderer?(f.over||(f.over=!0,this.delayDispatchEvent(n,"pointerover",r),u&&this.delayDispatchEvent(n,"mouseover",r)),u&&this.cursor===null&&(this.cursor=n.cursor)):f.over&&(f.over=!1,this.dispatchEvent(n,"pointerout",this.eventData),u&&this.dispatchEvent(n,"mouseout",r),f.none&&delete n.trackedPointers[a]))},t.prototype.onPointerOver=function(r){var n=this.normalizeToPointerData(r),i=n[0],o=this.getInteractionDataForPointerId(i),a=this.configureInteractionEventForDOMEvent(this.eventData,i,o);a.data.originalEvent=i,i.pointerType==="mouse"&&(this.mouseOverRenderer=!0),this.emit("pointerover",a),(i.pointerType==="mouse"||i.pointerType==="pen")&&this.emit("mouseover",a)},t.prototype.getInteractionDataForPointerId=function(r){var n=r.pointerId,i;return n===oh||r.pointerType==="mouse"?i=this.mouse:this.activeInteractionData[n]?i=this.activeInteractionData[n]:(i=this.interactionDataPool.pop()||new uE,i.identifier=n,this.activeInteractionData[n]=i),i.copyEvent(r),i},t.prototype.releaseInteractionDataForPointerId=function(r){var n=this.activeInteractionData[r];n&&(delete this.activeInteractionData[r],n.reset(),this.interactionDataPool.push(n))},t.prototype.configureInteractionEventForDOMEvent=function(r,n,i){return r.data=i,this.mapPositionToPoint(i.global,n.clientX,n.clientY),n.pointerType==="touch"&&(n.globalX=i.global.x,n.globalY=i.global.y),i.originalEvent=n,r.reset(),r},t.prototype.normalizeToPointerData=function(r){var n=[];if(this.supportsTouchEvents&&r instanceof TouchEvent)for(var i=0,o=r.changedTouches.length;i<o;i++){var a=r.changedTouches[i];typeof a.button=="undefined"&&(a.button=r.touches.length?1:0),typeof a.buttons=="undefined"&&(a.buttons=r.touches.length?1:0),typeof a.isPrimary=="undefined"&&(a.isPrimary=r.touches.length===1&&r.type==="touchstart"),typeof a.width=="undefined"&&(a.width=a.radiusX||1),typeof a.height=="undefined"&&(a.height=a.radiusY||1),typeof a.tiltX=="undefined"&&(a.tiltX=0),typeof a.tiltY=="undefined"&&(a.tiltY=0),typeof a.pointerType=="undefined"&&(a.pointerType="touch"),typeof a.pointerId=="undefined"&&(a.pointerId=a.identifier||0),typeof a.pressure=="undefined"&&(a.pressure=a.force||.5),typeof a.twist=="undefined"&&(a.twist=0),typeof a.tangentialPressure=="undefined"&&(a.tangentialPressure=0),typeof a.layerX=="undefined"&&(a.layerX=a.offsetX=a.clientX),typeof a.layerY=="undefined"&&(a.layerY=a.offsetY=a.clientY),a.isNormalized=!0,n.push(a)}else if(!globalThis.MouseEvent||r instanceof MouseEvent&&(!this.supportsPointerEvents||!(r instanceof globalThis.PointerEvent))){var u=r;typeof u.isPrimary=="undefined"&&(u.isPrimary=!0),typeof u.width=="undefined"&&(u.width=1),typeof u.height=="undefined"&&(u.height=1),typeof u.tiltX=="undefined"&&(u.tiltX=0),typeof u.tiltY=="undefined"&&(u.tiltY=0),typeof u.pointerType=="undefined"&&(u.pointerType="mouse"),typeof u.pointerId=="undefined"&&(u.pointerId=oh),typeof u.pressure=="undefined"&&(u.pressure=.5),typeof u.twist=="undefined"&&(u.twist=0),typeof u.tangentialPressure=="undefined"&&(u.tangentialPressure=0),u.isNormalized=!0,n.push(u)}else n.push(r);return n},t.prototype.destroy=function(){this.removeEvents(),this.removeTickerListener(),this.removeAllListeners(),this.renderer=null,this.mouse=null,this.eventData=null,this.interactionDOMElement=null,this.onPointerDown=null,this.processPointerDown=null,this.onPointerUp=null,this.processPointerUp=null,this.onPointerCancel=null,this.processPointerCancel=null,this.onPointerMove=null,this.processPointerMove=null,this.onPointerOut=null,this.processPointerOverOut=null,this.onPointerOver=null,this.search=null},t}(Nl);/*!
 * @pixi/runner - v6.3.0
 * Compiled Wed, 23 Mar 2022 18:58:56 UTC
 *
 * @pixi/runner is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var _r=function(){function e(t){this.items=[],this._name=t,this._aliasCount=0}return e.prototype.emit=function(t,r,n,i,o,a,u,f){if(arguments.length>8)throw new Error("max arguments reached");var h=this,d=h.name,p=h.items;this._aliasCount++;for(var v=0,m=p.length;v<m;v++)p[v][d](t,r,n,i,o,a,u,f);return p===this.items&&this._aliasCount--,this},e.prototype.ensureNonAliasedItems=function(){this._aliasCount>0&&this.items.length>1&&(this._aliasCount=0,this.items=this.items.slice(0))},e.prototype.add=function(t){return t[this._name]&&(this.ensureNonAliasedItems(),this.remove(t),this.items.push(t)),this},e.prototype.remove=function(t){var r=this.items.indexOf(t);return r!==-1&&(this.ensureNonAliasedItems(),this.items.splice(r,1)),this},e.prototype.contains=function(t){return this.items.indexOf(t)!==-1},e.prototype.removeAll=function(){return this.ensureNonAliasedItems(),this.items.length=0,this},e.prototype.destroy=function(){this.removeAll(),this.items=null,this._name=null},Object.defineProperty(e.prototype,"empty",{get:function(){return this.items.length===0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return this._name},enumerable:!1,configurable:!0}),e}();Object.defineProperties(_r.prototype,{dispatch:{value:_r.prototype.emit},run:{value:_r.prototype.emit}});/*!
 * @pixi/core - v6.3.0
 * Compiled Wed, 23 Mar 2022 18:58:56 UTC
 *
 * @pixi/core is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */Te.PREFER_ENV=Vn.any?Ei.WEBGL:Ei.WEBGL2;Te.STRICT_TEXTURE_CACHE=!1;var _c=[];function Zg(e,t){if(!e)return null;var r="";if(typeof e=="string"){var n=/\.(\w{3,4})(?:$|\?|#)/i.exec(e);n&&(r=n[1].toLowerCase())}for(var i=_c.length-1;i>=0;--i){var o=_c[i];if(o.test&&o.test(e,r))return new o(e,t)}throw new Error("Unrecognized source type to auto-detect Resource")}/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var om=function(e,t){return om=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},om(e,t)};function gt(e,t){om(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var am=function(){return am=Object.assign||function(t){for(var r=arguments,n,i=1,o=arguments.length;i<o;i++){n=r[i];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},am.apply(this,arguments)};function a5(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&(r[n[i]]=e[n[i]]);return r}var ws=function(){function e(t,r){t===void 0&&(t=0),r===void 0&&(r=0),this._width=t,this._height=r,this.destroyed=!1,this.internal=!1,this.onResize=new _r("setRealSize"),this.onUpdate=new _r("update"),this.onError=new _r("onError")}return e.prototype.bind=function(t){this.onResize.add(t),this.onUpdate.add(t),this.onError.add(t),(this._width||this._height)&&this.onResize.emit(this._width,this._height)},e.prototype.unbind=function(t){this.onResize.remove(t),this.onUpdate.remove(t),this.onError.remove(t)},e.prototype.resize=function(t,r){(t!==this._width||r!==this._height)&&(this._width=t,this._height=r,this.onResize.emit(t,r))},Object.defineProperty(e.prototype,"valid",{get:function(){return!!this._width&&!!this._height},enumerable:!1,configurable:!0}),e.prototype.update=function(){this.destroyed||this.onUpdate.emit()},e.prototype.load=function(){return Promise.resolve(this)},Object.defineProperty(e.prototype,"width",{get:function(){return this._width},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this._height},enumerable:!1,configurable:!0}),e.prototype.style=function(t,r,n){return!1},e.prototype.dispose=function(){},e.prototype.destroy=function(){this.destroyed||(this.destroyed=!0,this.dispose(),this.onError.removeAll(),this.onError=null,this.onResize.removeAll(),this.onResize=null,this.onUpdate.removeAll(),this.onUpdate=null)},e.test=function(t,r){return!1},e}(),Ls=function(e){gt(t,e);function t(r,n){var i=this,o=n||{},a=o.width,u=o.height;if(!a||!u)throw new Error("BufferResource width or height invalid");return i=e.call(this,a,u)||this,i.data=r,i}return t.prototype.upload=function(r,n,i){var o=r.gl;o.pixelStorei(o.UNPACK_PREMULTIPLY_ALPHA_WEBGL,n.alphaMode===On.UNPACK);var a=n.realWidth,u=n.realHeight;return i.width===a&&i.height===u?o.texSubImage2D(n.target,0,0,0,a,u,n.format,i.type,this.data):(i.width=a,i.height=u,o.texImage2D(n.target,0,i.internalFormat,a,u,0,n.format,i.type,this.data)),!0},t.prototype.dispose=function(){this.data=null},t.test=function(r){return r instanceof Float32Array||r instanceof Uint8Array||r instanceof Uint32Array},t}(ws),s5={scaleMode:gi.NEAREST,format:oe.RGBA,alphaMode:On.NPM},Qe=function(e){gt(t,e);function t(r,n){r===void 0&&(r=null),n===void 0&&(n=null);var i=e.call(this)||this;n=n||{};var o=n.alphaMode,a=n.mipmap,u=n.anisotropicLevel,f=n.scaleMode,h=n.width,d=n.height,p=n.wrapMode,v=n.format,m=n.type,y=n.target,E=n.resolution,g=n.resourceOptions;return r&&!(r instanceof ws)&&(r=Zg(r,g),r.internal=!0),i.resolution=E||Te.RESOLUTION,i.width=Math.round((h||0)*i.resolution)/i.resolution,i.height=Math.round((d||0)*i.resolution)/i.resolution,i._mipmap=a!==void 0?a:Te.MIPMAP_TEXTURES,i.anisotropicLevel=u!==void 0?u:Te.ANISOTROPIC_LEVEL,i._wrapMode=p||Te.WRAP_MODE,i._scaleMode=f!==void 0?f:Te.SCALE_MODE,i.format=v||oe.RGBA,i.type=m||we.UNSIGNED_BYTE,i.target=y||Yo.TEXTURE_2D,i.alphaMode=o!==void 0?o:On.UNPACK,i.uid=Qo(),i.touched=0,i.isPowerOfTwo=!1,i._refreshPOT(),i._glTextures={},i.dirtyId=0,i.dirtyStyleId=0,i.cacheId=null,i.valid=h>0&&d>0,i.textureCacheIds=[],i.destroyed=!1,i.resource=null,i._batchEnabled=0,i._batchLocation=0,i.parentTextureArray=null,i.setResource(r),i}return Object.defineProperty(t.prototype,"realWidth",{get:function(){return Math.round(this.width*this.resolution)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"realHeight",{get:function(){return Math.round(this.height*this.resolution)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"mipmap",{get:function(){return this._mipmap},set:function(r){this._mipmap!==r&&(this._mipmap=r,this.dirtyStyleId++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"scaleMode",{get:function(){return this._scaleMode},set:function(r){this._scaleMode!==r&&(this._scaleMode=r,this.dirtyStyleId++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"wrapMode",{get:function(){return this._wrapMode},set:function(r){this._wrapMode!==r&&(this._wrapMode=r,this.dirtyStyleId++)},enumerable:!1,configurable:!0}),t.prototype.setStyle=function(r,n){var i;return r!==void 0&&r!==this.scaleMode&&(this.scaleMode=r,i=!0),n!==void 0&&n!==this.mipmap&&(this.mipmap=n,i=!0),i&&this.dirtyStyleId++,this},t.prototype.setSize=function(r,n,i){return i=i||this.resolution,this.setRealSize(r*i,n*i,i)},t.prototype.setRealSize=function(r,n,i){return this.resolution=i||this.resolution,this.width=Math.round(r)/this.resolution,this.height=Math.round(n)/this.resolution,this._refreshPOT(),this.update(),this},t.prototype._refreshPOT=function(){this.isPowerOfTwo=BT(this.realWidth)&&BT(this.realHeight)},t.prototype.setResolution=function(r){var n=this.resolution;return n===r?this:(this.resolution=r,this.valid&&(this.width=Math.round(this.width*n)/r,this.height=Math.round(this.height*n)/r,this.emit("update",this)),this._refreshPOT(),this)},t.prototype.setResource=function(r){if(this.resource===r)return this;if(this.resource)throw new Error("Resource can be set only once");return r.bind(this),this.resource=r,this},t.prototype.update=function(){this.valid?(this.dirtyId++,this.dirtyStyleId++,this.emit("update",this)):this.width>0&&this.height>0&&(this.valid=!0,this.emit("loaded",this),this.emit("update",this))},t.prototype.onError=function(r){this.emit("error",this,r)},t.prototype.destroy=function(){this.resource&&(this.resource.unbind(this),this.resource.internal&&this.resource.destroy(),this.resource=null),this.cacheId&&(delete Ao[this.cacheId],delete hi[this.cacheId],this.cacheId=null),this.dispose(),t.removeFromCache(this),this.textureCacheIds=null,this.destroyed=!0},t.prototype.dispose=function(){this.emit("dispose",this)},t.prototype.castToBaseTexture=function(){return this},t.from=function(r,n,i){i===void 0&&(i=Te.STRICT_TEXTURE_CACHE);var o=typeof r=="string",a=null;if(o)a=r;else{if(!r._pixiId){var u=n&&n.pixiIdPrefix||"pixiid";r._pixiId=u+"_"+Qo()}a=r._pixiId}var f=Ao[a];if(o&&i&&!f)throw new Error('The cacheId "'+a+'" does not exist in BaseTextureCache.');return f||(f=new t(r,n),f.cacheId=a,t.addToCache(f,a)),f},t.fromBuffer=function(r,n,i,o){r=r||new Float32Array(n*i*4);var a=new Ls(r,{width:n,height:i}),u=r instanceof Float32Array?we.FLOAT:we.UNSIGNED_BYTE;return new t(a,Object.assign(s5,o||{width:n,height:i,type:u}))},t.addToCache=function(r,n){n&&(r.textureCacheIds.indexOf(n)===-1&&r.textureCacheIds.push(n),Ao[n]&&console.warn("BaseTexture added to the cache with an id ["+n+"] that already had an entry"),Ao[n]=r)},t.removeFromCache=function(r){if(typeof r=="string"){var n=Ao[r];if(n){var i=n.textureCacheIds.indexOf(r);return i>-1&&n.textureCacheIds.splice(i,1),delete Ao[r],n}}else if(r&&r.textureCacheIds){for(var o=0;o<r.textureCacheIds.length;++o)delete Ao[r.textureCacheIds[o]];return r.textureCacheIds.length=0,r}return null},t._globalBatch=0,t}(Nl),Jg=function(e){gt(t,e);function t(r,n){var i=this,o=n||{},a=o.width,u=o.height;i=e.call(this,a,u)||this,i.items=[],i.itemDirtyIds=[];for(var f=0;f<r;f++){var h=new Qe;i.items.push(h),i.itemDirtyIds.push(-2)}return i.length=r,i._load=null,i.baseTexture=null,i}return t.prototype.initFromArray=function(r,n){for(var i=0;i<this.length;i++)!r[i]||(r[i].castToBaseTexture?this.addBaseTextureAt(r[i].castToBaseTexture(),i):r[i]instanceof ws?this.addResourceAt(r[i],i):this.addResourceAt(Zg(r[i],n),i))},t.prototype.dispose=function(){for(var r=0,n=this.length;r<n;r++)this.items[r].destroy();this.items=null,this.itemDirtyIds=null,this._load=null},t.prototype.addResourceAt=function(r,n){if(!this.items[n])throw new Error("Index "+n+" is out of bounds");return r.valid&&!this.valid&&this.resize(r.width,r.height),this.items[n].setResource(r),this},t.prototype.bind=function(r){if(this.baseTexture!==null)throw new Error("Only one base texture per TextureArray is allowed");e.prototype.bind.call(this,r);for(var n=0;n<this.length;n++)this.items[n].parentTextureArray=r,this.items[n].on("update",r.update,r)},t.prototype.unbind=function(r){e.prototype.unbind.call(this,r);for(var n=0;n<this.length;n++)this.items[n].parentTextureArray=null,this.items[n].off("update",r.update,r)},t.prototype.load=function(){var r=this;if(this._load)return this._load;var n=this.items.map(function(o){return o.resource}).filter(function(o){return o}),i=n.map(function(o){return o.load()});return this._load=Promise.all(i).then(function(){var o=r.items[0],a=o.realWidth,u=o.realHeight;return r.resize(a,u),Promise.resolve(r)}),this._load},t}(ws),_2=function(e){gt(t,e);function t(r,n){var i=this,o=n||{},a=o.width,u=o.height,f,h;return Array.isArray(r)?(f=r,h=r.length):h=r,i=e.call(this,h,{width:a,height:u})||this,f&&i.initFromArray(f,n),i}return t.prototype.addBaseTextureAt=function(r,n){if(r.resource)this.addResourceAt(r.resource,n);else throw new Error("ArrayResource does not support RenderTexture");return this},t.prototype.bind=function(r){e.prototype.bind.call(this,r),r.target=Yo.TEXTURE_2D_ARRAY},t.prototype.upload=function(r,n,i){var o=this,a=o.length,u=o.itemDirtyIds,f=o.items,h=r.gl;i.dirtyId<0&&h.texImage3D(h.TEXTURE_2D_ARRAY,0,i.internalFormat,this._width,this._height,a,0,n.format,i.type,null);for(var d=0;d<a;d++){var p=f[d];u[d]<p.dirtyId&&(u[d]=p.dirtyId,p.valid&&h.texSubImage3D(h.TEXTURE_2D_ARRAY,0,0,0,d,p.resource.width,p.resource.height,1,n.format,i.type,p.resource.source))}return!0},t}(Jg),Si=function(e){gt(t,e);function t(r){var n=this,i=r,o=i.naturalWidth||i.videoWidth||i.width,a=i.naturalHeight||i.videoHeight||i.height;return n=e.call(this,o,a)||this,n.source=r,n.noSubImage=!1,n}return t.crossOrigin=function(r,n,i){i===void 0&&n.indexOf("data:")!==0?r.crossOrigin=M6(n):i!==!1&&(r.crossOrigin=typeof i=="string"?i:"anonymous")},t.prototype.upload=function(r,n,i,o){var a=r.gl,u=n.realWidth,f=n.realHeight;if(o=o||this.source,o instanceof HTMLImageElement){if(!o.complete||o.naturalWidth===0)return!1}else if(o instanceof HTMLVideoElement&&o.readyState<=1)return!1;return a.pixelStorei(a.UNPACK_PREMULTIPLY_ALPHA_WEBGL,n.alphaMode===On.UNPACK),!this.noSubImage&&n.target===a.TEXTURE_2D&&i.width===u&&i.height===f?a.texSubImage2D(a.TEXTURE_2D,0,0,0,n.format,i.type,o):(i.width=u,i.height=f,a.texImage2D(n.target,0,i.internalFormat,n.format,i.type,o)),!0},t.prototype.update=function(){if(!this.destroyed){var r=this.source,n=r.naturalWidth||r.videoWidth||r.width,i=r.naturalHeight||r.videoHeight||r.height;this.resize(n,i),e.prototype.update.call(this)}},t.prototype.dispose=function(){this.source=null},t}(ws),Qg=function(e){gt(t,e);function t(r){return e.call(this,r)||this}return t.test=function(r){var n=globalThis.OffscreenCanvas;return n&&r instanceof n?!0:globalThis.HTMLCanvasElement&&r instanceof HTMLCanvasElement},t}(Si),m2=function(e){gt(t,e);function t(r,n){var i=this,o=n||{},a=o.width,u=o.height,f=o.autoLoad,h=o.linkBaseTexture;if(r&&r.length!==t.SIDES)throw new Error("Invalid length. Got "+r.length+", expected 6");i=e.call(this,6,{width:a,height:u})||this;for(var d=0;d<t.SIDES;d++)i.items[d].target=Yo.TEXTURE_CUBE_MAP_POSITIVE_X+d;return i.linkBaseTexture=h!==!1,r&&i.initFromArray(r,n),f!==!1&&i.load(),i}return t.prototype.bind=function(r){e.prototype.bind.call(this,r),r.target=Yo.TEXTURE_CUBE_MAP},t.prototype.addBaseTextureAt=function(r,n,i){if(!this.items[n])throw new Error("Index "+n+" is out of bounds");if(!this.linkBaseTexture||r.parentTextureArray||Object.keys(r._glTextures).length>0)if(r.resource)this.addResourceAt(r.resource,n);else throw new Error("CubeResource does not support copying of renderTexture.");else r.target=Yo.TEXTURE_CUBE_MAP_POSITIVE_X+n,r.parentTextureArray=this.baseTexture,this.items[n]=r;return r.valid&&!this.valid&&this.resize(r.realWidth,r.realHeight),this.items[n]=r,this},t.prototype.upload=function(r,n,i){for(var o=this.itemDirtyIds,a=0;a<t.SIDES;a++){var u=this.items[a];o[a]<u.dirtyId&&(u.valid&&u.resource?(u.resource.upload(r,u,i),o[a]=u.dirtyId):o[a]<-1&&(r.gl.texImage2D(u.target,0,i.internalFormat,n.realWidth,n.realHeight,0,n.format,i.type,null),o[a]=-1))}return!0},t.test=function(r){return Array.isArray(r)&&r.length===t.SIDES},t.SIDES=6,t}(Jg),e0=function(e){gt(t,e);function t(r,n){var i=this;if(n=n||{},!(r instanceof HTMLImageElement)){var o=new Image;Si.crossOrigin(o,r,n.crossorigin),o.src=r,r=o}return i=e.call(this,r)||this,!r.complete&&!!i._width&&!!i._height&&(i._width=0,i._height=0),i.url=r.src,i._process=null,i.preserveBitmap=!1,i.createBitmap=(n.createBitmap!==void 0?n.createBitmap:Te.CREATE_IMAGE_BITMAP)&&!!globalThis.createImageBitmap,i.alphaMode=typeof n.alphaMode=="number"?n.alphaMode:null,i.bitmap=null,i._load=null,n.autoLoad!==!1&&i.load(),i}return t.prototype.load=function(r){var n=this;return this._load?this._load:(r!==void 0&&(this.createBitmap=r),this._load=new Promise(function(i,o){var a=n.source;n.url=a.src;var u=function(){n.destroyed||(a.onload=null,a.onerror=null,n.resize(a.width,a.height),n._load=null,n.createBitmap?i(n.process()):i(n))};a.complete&&a.src?u():(a.onload=u,a.onerror=function(f){o(f),n.onError.emit(f)})}),this._load)},t.prototype.process=function(){var r=this,n=this.source;if(this._process!==null)return this._process;if(this.bitmap!==null||!globalThis.createImageBitmap)return Promise.resolve(this);var i=globalThis.createImageBitmap,o=!n.crossOrigin||n.crossOrigin==="anonymous";return this._process=fetch(n.src,{mode:o?"cors":"no-cors"}).then(function(a){return a.blob()}).then(function(a){return i(a,0,0,n.width,n.height,{premultiplyAlpha:r.alphaMode===On.UNPACK?"premultiply":"none"})}).then(function(a){return r.destroyed?Promise.reject():(r.bitmap=a,r.update(),r._process=null,Promise.resolve(r))}),this._process},t.prototype.upload=function(r,n,i){if(typeof this.alphaMode=="number"&&(n.alphaMode=this.alphaMode),!this.createBitmap)return e.prototype.upload.call(this,r,n,i);if(!this.bitmap&&(this.process(),!this.bitmap))return!1;if(e.prototype.upload.call(this,r,n,i,this.bitmap),!this.preserveBitmap){var o=!0,a=n._glTextures;for(var u in a){var f=a[u];if(f!==i&&f.dirtyId!==n.dirtyId){o=!1;break}}o&&(this.bitmap.close&&this.bitmap.close(),this.bitmap=null)}return!0},t.prototype.dispose=function(){this.source.onload=null,this.source.onerror=null,e.prototype.dispose.call(this),this.bitmap&&(this.bitmap.close(),this.bitmap=null),this._process=null,this._load=null},t.test=function(r){return typeof r=="string"||r instanceof HTMLImageElement},t}(Si),g2=function(e){gt(t,e);function t(r,n){var i=this;return n=n||{},i=e.call(this,document.createElement("canvas"))||this,i._width=0,i._height=0,i.svg=r,i.scale=n.scale||1,i._overrideWidth=n.width,i._overrideHeight=n.height,i._resolve=null,i._crossorigin=n.crossorigin,i._load=null,n.autoLoad!==!1&&i.load(),i}return t.prototype.load=function(){var r=this;return this._load?this._load:(this._load=new Promise(function(n){if(r._resolve=function(){r.resize(r.source.width,r.source.height),n(r)},t.SVG_XML.test(r.svg.trim())){if(!btoa)throw new Error("Your browser doesn't support base64 conversions.");r.svg="data:image/svg+xml;base64,"+btoa(unescape(encodeURIComponent(r.svg)))}r._loadSvg()}),this._load)},t.prototype._loadSvg=function(){var r=this,n=new Image;Si.crossOrigin(n,this.svg,this._crossorigin),n.src=this.svg,n.onerror=function(i){!r._resolve||(n.onerror=null,r.onError.emit(i))},n.onload=function(){if(!!r._resolve){var i=n.width,o=n.height;if(!i||!o)throw new Error("The SVG image must have width and height defined (in pixels), canvas API needs them.");var a=i*r.scale,u=o*r.scale;(r._overrideWidth||r._overrideHeight)&&(a=r._overrideWidth||r._overrideHeight/o*i,u=r._overrideHeight||r._overrideWidth/i*o),a=Math.round(a),u=Math.round(u);var f=r.source;f.width=a,f.height=u,f._pixiId="canvas_"+Qo(),f.getContext("2d").drawImage(n,0,0,i,o,0,0,a,u),r._resolve(),r._resolve=null}}},t.getSize=function(r){var n=t.SVG_SIZE.exec(r),i={};return n&&(i[n[1]]=Math.round(parseFloat(n[3])),i[n[5]]=Math.round(parseFloat(n[7]))),i},t.prototype.dispose=function(){e.prototype.dispose.call(this),this._resolve=null,this._crossorigin=null},t.test=function(r,n){return n==="svg"||typeof r=="string"&&/^data:image\/svg\+xml(;(charset=utf8|utf8))?;base64/.test(r)||typeof r=="string"&&t.SVG_XML.test(r)},t.SVG_XML=/^(<\?xml[^?]+\?>)?\s*(<!--[^(-->)]*-->)?\s*\<svg/m,t.SVG_SIZE=/<svg[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*>/i,t}(Si),y2=function(e){gt(t,e);function t(r,n){var i=this;if(n=n||{},!(r instanceof HTMLVideoElement)){var o=document.createElement("video");o.setAttribute("preload","auto"),o.setAttribute("webkit-playsinline",""),o.setAttribute("playsinline",""),typeof r=="string"&&(r=[r]);var a=r[0].src||r[0];Si.crossOrigin(o,a,n.crossorigin);for(var u=0;u<r.length;++u){var f=document.createElement("source"),h=r[u],d=h.src,p=h.mime;d=d||r[u];var v=d.split("?").shift().toLowerCase(),m=v.slice(v.lastIndexOf(".")+1);p=p||t.MIME_TYPES[m]||"video/"+m,f.src=d,f.type=p,o.appendChild(f)}r=o}return i=e.call(this,r)||this,i.noSubImage=!0,i._autoUpdate=!0,i._isConnectedToTicker=!1,i._updateFPS=n.updateFPS||0,i._msToNextUpdate=0,i.autoPlay=n.autoPlay!==!1,i._load=null,i._resolve=null,i._onCanPlay=i._onCanPlay.bind(i),i._onError=i._onError.bind(i),n.autoLoad!==!1&&i.load(),i}return t.prototype.update=function(r){if(!this.destroyed){var n=lr.shared.elapsedMS*this.source.playbackRate;this._msToNextUpdate=Math.floor(this._msToNextUpdate-n),(!this._updateFPS||this._msToNextUpdate<=0)&&(e.prototype.update.call(this),this._msToNextUpdate=this._updateFPS?Math.floor(1e3/this._updateFPS):0)}},t.prototype.load=function(){var r=this;if(this._load)return this._load;var n=this.source;return(n.readyState===n.HAVE_ENOUGH_DATA||n.readyState===n.HAVE_FUTURE_DATA)&&n.width&&n.height&&(n.complete=!0),n.addEventListener("play",this._onPlayStart.bind(this)),n.addEventListener("pause",this._onPlayStop.bind(this)),this._isSourceReady()?this._onCanPlay():(n.addEventListener("canplay",this._onCanPlay),n.addEventListener("canplaythrough",this._onCanPlay),n.addEventListener("error",this._onError,!0)),this._load=new Promise(function(i){r.valid?i(r):(r._resolve=i,n.load())}),this._load},t.prototype._onError=function(r){this.source.removeEventListener("error",this._onError,!0),this.onError.emit(r)},t.prototype._isSourcePlaying=function(){var r=this.source;return r.currentTime>0&&r.paused===!1&&r.ended===!1&&r.readyState>2},t.prototype._isSourceReady=function(){var r=this.source;return r.readyState===3||r.readyState===4},t.prototype._onPlayStart=function(){this.valid||this._onCanPlay(),this.autoUpdate&&!this._isConnectedToTicker&&(lr.shared.add(this.update,this),this._isConnectedToTicker=!0)},t.prototype._onPlayStop=function(){this._isConnectedToTicker&&(lr.shared.remove(this.update,this),this._isConnectedToTicker=!1)},t.prototype._onCanPlay=function(){var r=this.source;r.removeEventListener("canplay",this._onCanPlay),r.removeEventListener("canplaythrough",this._onCanPlay);var n=this.valid;this.resize(r.videoWidth,r.videoHeight),!n&&this._resolve&&(this._resolve(this),this._resolve=null),this._isSourcePlaying()?this._onPlayStart():this.autoPlay&&r.play()},t.prototype.dispose=function(){this._isConnectedToTicker&&(lr.shared.remove(this.update,this),this._isConnectedToTicker=!1);var r=this.source;r&&(r.removeEventListener("error",this._onError,!0),r.pause(),r.src="",r.load()),e.prototype.dispose.call(this)},Object.defineProperty(t.prototype,"autoUpdate",{get:function(){return this._autoUpdate},set:function(r){r!==this._autoUpdate&&(this._autoUpdate=r,!this._autoUpdate&&this._isConnectedToTicker?(lr.shared.remove(this.update,this),this._isConnectedToTicker=!1):this._autoUpdate&&!this._isConnectedToTicker&&this._isSourcePlaying()&&(lr.shared.add(this.update,this),this._isConnectedToTicker=!0))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"updateFPS",{get:function(){return this._updateFPS},set:function(r){r!==this._updateFPS&&(this._updateFPS=r)},enumerable:!1,configurable:!0}),t.test=function(r,n){return globalThis.HTMLVideoElement&&r instanceof HTMLVideoElement||t.TYPES.indexOf(n)>-1},t.TYPES=["mp4","m4v","webm","ogg","ogv","h264","avi","mov"],t.MIME_TYPES={ogv:"video/ogg",mov:"video/quicktime",m4v:"video/mp4"},t}(Si),x2=function(e){gt(t,e);function t(r){return e.call(this,r)||this}return t.test=function(r){return!!globalThis.createImageBitmap&&r instanceof ImageBitmap},t}(Si);_c.push(e0,x2,Qg,y2,g2,Ls,m2,_2);var T2={__proto__:null,Resource:ws,BaseImageResource:Si,INSTALLED:_c,autoDetectResource:Zg,AbstractMultiResource:Jg,ArrayResource:_2,BufferResource:Ls,CanvasResource:Qg,CubeResource:m2,ImageResource:e0,SVGResource:g2,VideoResource:y2,ImageBitmapResource:x2},u5=function(e){gt(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.upload=function(r,n,i){var o=r.gl;o.pixelStorei(o.UNPACK_PREMULTIPLY_ALPHA_WEBGL,n.alphaMode===On.UNPACK);var a=n.realWidth,u=n.realHeight;return i.width===a&&i.height===u?o.texSubImage2D(n.target,0,0,0,a,u,n.format,i.type,this.data):(i.width=a,i.height=u,o.texImage2D(n.target,0,i.internalFormat,a,u,0,n.format,i.type,this.data)),!0},t}(Ls),sm=function(){function e(t,r){this.width=Math.round(t||100),this.height=Math.round(r||100),this.stencil=!1,this.depth=!1,this.dirtyId=0,this.dirtyFormat=0,this.dirtySize=0,this.depthTexture=null,this.colorTextures=[],this.glFramebuffers={},this.disposeRunner=new _r("disposeFramebuffer"),this.multisample=$t.NONE}return Object.defineProperty(e.prototype,"colorTexture",{get:function(){return this.colorTextures[0]},enumerable:!1,configurable:!0}),e.prototype.addColorTexture=function(t,r){return t===void 0&&(t=0),this.colorTextures[t]=r||new Qe(null,{scaleMode:gi.NEAREST,resolution:1,mipmap:wi.OFF,width:this.width,height:this.height}),this.dirtyId++,this.dirtyFormat++,this},e.prototype.addDepthTexture=function(t){return this.depthTexture=t||new Qe(new u5(null,{width:this.width,height:this.height}),{scaleMode:gi.NEAREST,resolution:1,width:this.width,height:this.height,mipmap:wi.OFF,format:oe.DEPTH_COMPONENT,type:we.UNSIGNED_SHORT}),this.dirtyId++,this.dirtyFormat++,this},e.prototype.enableDepth=function(){return this.depth=!0,this.dirtyId++,this.dirtyFormat++,this},e.prototype.enableStencil=function(){return this.stencil=!0,this.dirtyId++,this.dirtyFormat++,this},e.prototype.resize=function(t,r){if(t=Math.round(t),r=Math.round(r),!(t===this.width&&r===this.height)){this.width=t,this.height=r,this.dirtyId++,this.dirtySize++;for(var n=0;n<this.colorTextures.length;n++){var i=this.colorTextures[n],o=i.resolution;i.setSize(t/o,r/o)}if(this.depthTexture){var o=this.depthTexture.resolution;this.depthTexture.setSize(t/o,r/o)}}},e.prototype.dispose=function(){this.disposeRunner.emit(this,!1)},e.prototype.destroyDepthTexture=function(){this.depthTexture&&(this.depthTexture.destroy(),this.depthTexture=null,++this.dirtyId,++this.dirtyFormat)},e}(),E2=function(e){gt(t,e);function t(r){r===void 0&&(r={});var n=this;if(typeof r=="number"){var i=arguments[0],o=arguments[1],a=arguments[2],u=arguments[3];r={width:i,height:o,scaleMode:a,resolution:u}}return r.width=r.width||100,r.height=r.height||100,r.multisample=r.multisample!==void 0?r.multisample:$t.NONE,n=e.call(this,null,r)||this,n.mipmap=wi.OFF,n.valid=!0,n.clearColor=[0,0,0,0],n.framebuffer=new sm(n.realWidth,n.realHeight).addColorTexture(0,n),n.framebuffer.multisample=r.multisample,n.maskStack=[],n.filterStack=[{}],n}return t.prototype.resize=function(r,n){this.framebuffer.resize(r*this.resolution,n*this.resolution),this.setRealSize(this.framebuffer.width,this.framebuffer.height)},t.prototype.dispose=function(){this.framebuffer.dispose(),e.prototype.dispose.call(this)},t.prototype.destroy=function(){e.prototype.destroy.call(this),this.framebuffer.destroyDepthTexture(),this.framebuffer=null},t}(Qe),w2=function(){function e(){this.x0=0,this.y0=0,this.x1=1,this.y1=0,this.x2=1,this.y2=1,this.x3=0,this.y3=1,this.uvsFloat32=new Float32Array(8)}return e.prototype.set=function(t,r,n){var i=r.width,o=r.height;if(n){var a=t.width/2/i,u=t.height/2/o,f=t.x/i+a,h=t.y/o+u;n=Ot.add(n,Ot.NW),this.x0=f+a*Ot.uX(n),this.y0=h+u*Ot.uY(n),n=Ot.add(n,2),this.x1=f+a*Ot.uX(n),this.y1=h+u*Ot.uY(n),n=Ot.add(n,2),this.x2=f+a*Ot.uX(n),this.y2=h+u*Ot.uY(n),n=Ot.add(n,2),this.x3=f+a*Ot.uX(n),this.y3=h+u*Ot.uY(n)}else this.x0=t.x/i,this.y0=t.y/o,this.x1=(t.x+t.width)/i,this.y1=t.y/o,this.x2=(t.x+t.width)/i,this.y2=(t.y+t.height)/o,this.x3=t.x/i,this.y3=(t.y+t.height)/o;this.uvsFloat32[0]=this.x0,this.uvsFloat32[1]=this.y0,this.uvsFloat32[2]=this.x1,this.uvsFloat32[3]=this.y1,this.uvsFloat32[4]=this.x2,this.uvsFloat32[5]=this.y2,this.uvsFloat32[6]=this.x3,this.uvsFloat32[7]=this.y3},e.prototype.toString=function(){return"[@pixi/core:TextureUvs "+("x0="+this.x0+" y0="+this.y0+" ")+("x1="+this.x1+" y1="+this.y1+" x2="+this.x2+" ")+("y2="+this.y2+" x3="+this.x3+" y3="+this.y3)+"]"},e}(),lE=new w2,Se=function(e){gt(t,e);function t(r,n,i,o,a,u){var f=e.call(this)||this;if(f.noFrame=!1,n||(f.noFrame=!0,n=new it(0,0,1,1)),r instanceof t&&(r=r.baseTexture),f.baseTexture=r,f._frame=n,f.trim=o,f.valid=!1,f._uvs=lE,f.uvMatrix=null,f.orig=i||n,f._rotate=Number(a||0),a===!0)f._rotate=2;else if(f._rotate%2!==0)throw new Error("attempt to use diamond-shaped UVs. If you are sure, set rotation manually");return f.defaultAnchor=u?new wt(u.x,u.y):new wt(0,0),f._updateID=0,f.textureCacheIds=[],r.valid?f.noFrame?r.valid&&f.onBaseTextureUpdated(r):f.frame=n:r.once("loaded",f.onBaseTextureUpdated,f),f.noFrame&&r.on("update",f.onBaseTextureUpdated,f),f}return t.prototype.update=function(){this.baseTexture.resource&&this.baseTexture.resource.update()},t.prototype.onBaseTextureUpdated=function(r){if(this.noFrame){if(!this.baseTexture.valid)return;this._frame.width=r.width,this._frame.height=r.height,this.valid=!0,this.updateUvs()}else this.frame=this._frame;this.emit("update",this)},t.prototype.destroy=function(r){if(this.baseTexture){if(r){var n=this.baseTexture.resource;n&&n.url&&hi[n.url]&&t.removeFromCache(n.url),this.baseTexture.destroy()}this.baseTexture.off("loaded",this.onBaseTextureUpdated,this),this.baseTexture.off("update",this.onBaseTextureUpdated,this),this.baseTexture=null}this._frame=null,this._uvs=null,this.trim=null,this.orig=null,this.valid=!1,t.removeFromCache(this),this.textureCacheIds=null},t.prototype.clone=function(){var r=this._frame.clone(),n=this._frame===this.orig?r:this.orig.clone(),i=new t(this.baseTexture,!this.noFrame&&r,n,this.trim&&this.trim.clone(),this.rotate,this.defaultAnchor);return this.noFrame&&(i._frame=r),i},t.prototype.updateUvs=function(){this._uvs===lE&&(this._uvs=new w2),this._uvs.set(this._frame,this.baseTexture,this.rotate),this._updateID++},t.from=function(r,n,i){n===void 0&&(n={}),i===void 0&&(i=Te.STRICT_TEXTURE_CACHE);var o=typeof r=="string",a=null;if(o)a=r;else if(r instanceof Qe){if(!r.cacheId){var u=n&&n.pixiIdPrefix||"pixiid";r.cacheId=u+"-"+Qo(),Qe.addToCache(r,r.cacheId)}a=r.cacheId}else{if(!r._pixiId){var u=n&&n.pixiIdPrefix||"pixiid";r._pixiId=u+"_"+Qo()}a=r._pixiId}var f=hi[a];if(o&&i&&!f)throw new Error('The cacheId "'+a+'" does not exist in TextureCache.');return!f&&!(r instanceof Qe)?(n.resolution||(n.resolution=pc(r)),f=new t(new Qe(r,n)),f.baseTexture.cacheId=a,Qe.addToCache(f.baseTexture,a),t.addToCache(f,a)):!f&&r instanceof Qe&&(f=new t(r),t.addToCache(f,a)),f},t.fromURL=function(r,n){var i=Object.assign({autoLoad:!1},n==null?void 0:n.resourceOptions),o=t.from(r,Object.assign({resourceOptions:i},n),!1),a=o.baseTexture.resource;return o.baseTexture.valid?Promise.resolve(o):a.load().then(function(){return Promise.resolve(o)})},t.fromBuffer=function(r,n,i,o){return new t(Qe.fromBuffer(r,n,i,o))},t.fromLoader=function(r,n,i,o){var a=new Qe(r,Object.assign({scaleMode:Te.SCALE_MODE,resolution:pc(n)},o)),u=a.resource;u instanceof e0&&(u.url=n);var f=new t(a);return i||(i=n),Qe.addToCache(f.baseTexture,i),t.addToCache(f,i),i!==n&&(Qe.addToCache(f.baseTexture,n),t.addToCache(f,n)),f.baseTexture.valid?Promise.resolve(f):new Promise(function(h){f.baseTexture.once("loaded",function(){return h(f)})})},t.addToCache=function(r,n){n&&(r.textureCacheIds.indexOf(n)===-1&&r.textureCacheIds.push(n),hi[n]&&console.warn("Texture added to the cache with an id ["+n+"] that already had an entry"),hi[n]=r)},t.removeFromCache=function(r){if(typeof r=="string"){var n=hi[r];if(n){var i=n.textureCacheIds.indexOf(r);return i>-1&&n.textureCacheIds.splice(i,1),delete hi[r],n}}else if(r&&r.textureCacheIds){for(var o=0;o<r.textureCacheIds.length;++o)hi[r.textureCacheIds[o]]===r&&delete hi[r.textureCacheIds[o]];return r.textureCacheIds.length=0,r}return null},Object.defineProperty(t.prototype,"resolution",{get:function(){return this.baseTexture.resolution},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"frame",{get:function(){return this._frame},set:function(r){this._frame=r,this.noFrame=!1;var n=r.x,i=r.y,o=r.width,a=r.height,u=n+o>this.baseTexture.width,f=i+a>this.baseTexture.height;if(u||f){var h=u&&f?"and":"or",d="X: "+n+" + "+o+" = "+(n+o)+" > "+this.baseTexture.width,p="Y: "+i+" + "+a+" = "+(i+a)+" > "+this.baseTexture.height;throw new Error("Texture Error: frame does not fit inside the base Texture dimensions: "+(d+" "+h+" "+p))}this.valid=o&&a&&this.baseTexture.valid,!this.trim&&!this.rotate&&(this.orig=r),this.valid&&this.updateUvs()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"rotate",{get:function(){return this._rotate},set:function(r){this._rotate=r,this.valid&&this.updateUvs()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"width",{get:function(){return this.orig.width},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this.orig.height},enumerable:!1,configurable:!0}),t.prototype.castToBaseTexture=function(){return this.baseTexture},t}(Nl);function l5(){var e=document.createElement("canvas");e.width=16,e.height=16;var t=e.getContext("2d");return t.fillStyle="white",t.fillRect(0,0,16,16),new Se(new Qe(new Qg(e)))}function Qc(e){e.destroy=function(){},e.on=function(){},e.once=function(){},e.emit=function(){}}Se.EMPTY=new Se(new Qe);Qc(Se.EMPTY);Qc(Se.EMPTY.baseTexture);Se.WHITE=l5();Qc(Se.WHITE);Qc(Se.WHITE.baseTexture);var ta=function(e){gt(t,e);function t(r,n){var i=e.call(this,r,n)||this;return i.valid=!0,i.filterFrame=null,i.filterPoolKey=null,i.updateUvs(),i}return Object.defineProperty(t.prototype,"framebuffer",{get:function(){return this.baseTexture.framebuffer},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"multisample",{get:function(){return this.framebuffer.multisample},set:function(r){this.framebuffer.multisample=r},enumerable:!1,configurable:!0}),t.prototype.resize=function(r,n,i){i===void 0&&(i=!0);var o=this.baseTexture.resolution,a=Math.round(r*o)/o,u=Math.round(n*o)/o;this.valid=a>0&&u>0,this._frame.width=this.orig.width=a,this._frame.height=this.orig.height=u,i&&this.baseTexture.resize(a,u),this.updateUvs()},t.prototype.setResolution=function(r){var n=this.baseTexture;n.resolution!==r&&(n.setResolution(r),this.resize(n.width,n.height,!1))},t.create=function(r){for(var n=arguments,i=[],o=1;o<arguments.length;o++)i[o-1]=n[o];return typeof r=="number"&&(ea("6.0.0","Arguments (width, height, scaleMode, resolution) have been deprecated."),r={width:r,height:i[0],scaleMode:i[1],resolution:i[2]}),new t(new E2(r))},t}(Se),f5=function(){function e(t){this.texturePool={},this.textureOptions=t||{},this.enableFullScreen=!1,this._pixelsWidth=0,this._pixelsHeight=0}return e.prototype.createTexture=function(t,r,n){n===void 0&&(n=$t.NONE);var i=new E2(Object.assign({width:t,height:r,resolution:1,multisample:n},this.textureOptions));return new ta(i)},e.prototype.getOptimalTexture=function(t,r,n,i){n===void 0&&(n=1),i===void 0&&(i=$t.NONE);var o;t=Math.ceil(t*n-1e-6),r=Math.ceil(r*n-1e-6),!this.enableFullScreen||t!==this._pixelsWidth||r!==this._pixelsHeight?(t=dc(t),r=dc(r),o=((t&65535)<<16|r&65535)>>>0,i>1&&(o+=i*4294967296)):o=i>1?-i:-1,this.texturePool[o]||(this.texturePool[o]=[]);var a=this.texturePool[o].pop();return a||(a=this.createTexture(t,r,i)),a.filterPoolKey=o,a.setResolution(n),a},e.prototype.getFilterTexture=function(t,r,n){var i=this.getOptimalTexture(t.width,t.height,r||t.resolution,n||$t.NONE);return i.filterFrame=t.filterFrame,i},e.prototype.returnTexture=function(t){var r=t.filterPoolKey;t.filterFrame=null,this.texturePool[r].push(t)},e.prototype.returnFilterTexture=function(t){this.returnTexture(t)},e.prototype.clear=function(t){if(t=t!==!1,t)for(var r in this.texturePool){var n=this.texturePool[r];if(n)for(var i=0;i<n.length;i++)n[i].destroy(!0)}this.texturePool={}},e.prototype.setScreenSize=function(t){if(!(t.width===this._pixelsWidth&&t.height===this._pixelsHeight)){this.enableFullScreen=t.width>0&&t.height>0;for(var r in this.texturePool)if(Number(r)<0){var n=this.texturePool[r];if(n)for(var i=0;i<n.length;i++)n[i].destroy(!0);this.texturePool[r]=[]}this._pixelsWidth=t.width,this._pixelsHeight=t.height}},e.SCREEN_KEY=-1,e}(),fE=function(){function e(t,r,n,i,o,a,u){r===void 0&&(r=0),n===void 0&&(n=!1),i===void 0&&(i=we.FLOAT),this.buffer=t,this.size=r,this.normalized=n,this.type=i,this.stride=o,this.start=a,this.instance=u}return e.prototype.destroy=function(){this.buffer=null},e.from=function(t,r,n,i,o){return new e(t,r,n,i,o)},e}(),h5=0,Kt=function(){function e(t,r,n){r===void 0&&(r=!0),n===void 0&&(n=!1),this.data=t||new Float32Array(1),this._glBuffers={},this._updateID=0,this.index=n,this.static=r,this.id=h5++,this.disposeRunner=new _r("disposeBuffer")}return e.prototype.update=function(t){t instanceof Array&&(t=new Float32Array(t)),this.data=t||this.data,this._updateID++},e.prototype.dispose=function(){this.disposeRunner.emit(this,!1)},e.prototype.destroy=function(){this.dispose(),this.data=null},Object.defineProperty(e.prototype,"index",{get:function(){return this.type===Yn.ELEMENT_ARRAY_BUFFER},set:function(t){this.type=t?Yn.ELEMENT_ARRAY_BUFFER:Yn.ARRAY_BUFFER},enumerable:!1,configurable:!0}),e.from=function(t){return t instanceof Array&&(t=new Float32Array(t)),new e(t)},e}(),c5={Float32Array,Uint32Array,Int32Array,Uint8Array};function d5(e,t){for(var r=0,n=0,i={},o=0;o<e.length;o++)n+=t[o],r+=e[o].length;for(var a=new ArrayBuffer(r*4),u=null,f=0,o=0;o<e.length;o++){var h=t[o],d=e[o],p=c2(d);i[p]||(i[p]=new c5[p](a)),u=i[p];for(var v=0;v<d.length;v++){var m=(v/h|0)*n+f,y=v%h;u[m+y]=d[v]}f+=h}return new Float32Array(a)}var hE={5126:4,5123:2,5121:1},p5=0,v5={Float32Array,Uint32Array,Int32Array,Uint8Array,Uint16Array},Pl=function(){function e(t,r){t===void 0&&(t=[]),r===void 0&&(r={}),this.buffers=t,this.indexBuffer=null,this.attributes=r,this.glVertexArrayObjects={},this.id=p5++,this.instanced=!1,this.instanceCount=1,this.disposeRunner=new _r("disposeGeometry"),this.refCount=0}return e.prototype.addAttribute=function(t,r,n,i,o,a,u,f){if(n===void 0&&(n=0),i===void 0&&(i=!1),f===void 0&&(f=!1),!r)throw new Error("You must pass a buffer when creating an attribute");r instanceof Kt||(r instanceof Array&&(r=new Float32Array(r)),r=new Kt(r));var h=t.split("|");if(h.length>1){for(var d=0;d<h.length;d++)this.addAttribute(h[d],r,n,i,o);return this}var p=this.buffers.indexOf(r);return p===-1&&(this.buffers.push(r),p=this.buffers.length-1),this.attributes[t]=new fE(p,n,i,o,a,u,f),this.instanced=this.instanced||f,this},e.prototype.getAttribute=function(t){return this.attributes[t]},e.prototype.getBuffer=function(t){return this.buffers[this.getAttribute(t).buffer]},e.prototype.addIndex=function(t){return t instanceof Kt||(t instanceof Array&&(t=new Uint16Array(t)),t=new Kt(t)),t.type=Yn.ELEMENT_ARRAY_BUFFER,this.indexBuffer=t,this.buffers.indexOf(t)===-1&&this.buffers.push(t),this},e.prototype.getIndex=function(){return this.indexBuffer},e.prototype.interleave=function(){if(this.buffers.length===1||this.buffers.length===2&&this.indexBuffer)return this;var t=[],r=[],n=new Kt,i;for(i in this.attributes){var o=this.attributes[i],a=this.buffers[o.buffer];t.push(a.data),r.push(o.size*hE[o.type]/4),o.buffer=0}for(n.data=d5(t,r),i=0;i<this.buffers.length;i++)this.buffers[i]!==this.indexBuffer&&this.buffers[i].destroy();return this.buffers=[n],this.indexBuffer&&this.buffers.push(this.indexBuffer),this},e.prototype.getSize=function(){for(var t in this.attributes){var r=this.attributes[t],n=this.buffers[r.buffer];return n.data.length/(r.stride/4||r.size)}return 0},e.prototype.dispose=function(){this.disposeRunner.emit(this,!1)},e.prototype.destroy=function(){this.dispose(),this.buffers=null,this.indexBuffer=null,this.attributes=null},e.prototype.clone=function(){for(var t=new e,r=0;r<this.buffers.length;r++)t.buffers[r]=new Kt(this.buffers[r].data.slice(0));for(var r in this.attributes){var n=this.attributes[r];t.attributes[r]=new fE(n.buffer,n.size,n.normalized,n.type,n.stride,n.start,n.instance)}return this.indexBuffer&&(t.indexBuffer=t.buffers[this.buffers.indexOf(this.indexBuffer)],t.indexBuffer.type=Yn.ELEMENT_ARRAY_BUFFER),t},e.merge=function(t){for(var r=new e,n=[],i=[],o=[],a,u=0;u<t.length;u++){a=t[u];for(var f=0;f<a.buffers.length;f++)i[f]=i[f]||0,i[f]+=a.buffers[f].data.length,o[f]=0}for(var u=0;u<a.buffers.length;u++)n[u]=new v5[c2(a.buffers[u].data)](i[u]),r.buffers[u]=new Kt(n[u]);for(var u=0;u<t.length;u++){a=t[u];for(var f=0;f<a.buffers.length;f++)n[f].set(a.buffers[f].data,o[f]),o[f]+=a.buffers[f].data.length}if(r.attributes=a.attributes,a.indexBuffer){r.indexBuffer=r.buffers[a.buffers.indexOf(a.indexBuffer)],r.indexBuffer.type=Yn.ELEMENT_ARRAY_BUFFER;for(var h=0,d=0,p=0,v=0,u=0;u<a.buffers.length;u++)if(a.buffers[u]!==a.indexBuffer){v=u;break}for(var u in a.attributes){var m=a.attributes[u];(m.buffer|0)===v&&(d+=m.size*hE[m.type]/4)}for(var u=0;u<t.length;u++){for(var y=t[u].indexBuffer.data,f=0;f<y.length;f++)r.indexBuffer.data[f+p]+=h;h+=t[u].buffers[v].data.length/d,p+=y.length}}return r},e}(),_5=function(e){gt(t,e);function t(){var r=e.call(this)||this;return r.addAttribute("aVertexPosition",new Float32Array([0,0,1,0,1,1,0,1])).addIndex([0,1,3,2]),r}return t}(Pl),b2=function(e){gt(t,e);function t(){var r=e.call(this)||this;return r.vertices=new Float32Array([-1,-1,1,-1,1,1,-1,1]),r.uvs=new Float32Array([0,0,1,0,1,1,0,1]),r.vertexBuffer=new Kt(r.vertices),r.uvBuffer=new Kt(r.uvs),r.addAttribute("aVertexPosition",r.vertexBuffer).addAttribute("aTextureCoord",r.uvBuffer).addIndex([0,1,2,0,2,3]),r}return t.prototype.map=function(r,n){var i=0,o=0;return this.uvs[0]=i,this.uvs[1]=o,this.uvs[2]=i+n.width/r.width,this.uvs[3]=o,this.uvs[4]=i+n.width/r.width,this.uvs[5]=o+n.height/r.height,this.uvs[6]=i,this.uvs[7]=o+n.height/r.height,i=n.x,o=n.y,this.vertices[0]=i,this.vertices[1]=o,this.vertices[2]=i+n.width,this.vertices[3]=o,this.vertices[4]=i+n.width,this.vertices[5]=o+n.height,this.vertices[6]=i,this.vertices[7]=o+n.height,this.invalidate(),this},t.prototype.invalidate=function(){return this.vertexBuffer._updateID++,this.uvBuffer._updateID++,this},t}(Pl),m5=0,qo=function(){function e(t,r,n){this.group=!0,this.syncUniforms={},this.dirtyId=0,this.id=m5++,this.static=!!r,this.ubo=!!n,t instanceof Kt?(this.buffer=t,this.buffer.type=Yn.UNIFORM_BUFFER,this.autoManage=!1,this.ubo=!0):(this.uniforms=t,this.ubo&&(this.buffer=new Kt(new Float32Array(1)),this.buffer.type=Yn.UNIFORM_BUFFER,this.autoManage=!0))}return e.prototype.update=function(){this.dirtyId++,!this.autoManage&&this.buffer&&this.buffer.update()},e.prototype.add=function(t,r,n){if(!this.ubo)this.uniforms[t]=new e(r,n);else throw new Error("[UniformGroup] uniform groups in ubo mode cannot be modified, or have uniform groups nested in them")},e.from=function(t,r,n){return new e(t,r,n)},e.uboFrom=function(t,r){return new e(t,r!=null?r:!0,!0)},e}(),g5=function(){function e(){this.renderTexture=null,this.target=null,this.legacy=!1,this.resolution=1,this.multisample=$t.NONE,this.sourceFrame=new it,this.destinationFrame=new it,this.bindingSourceFrame=new it,this.bindingDestinationFrame=new it,this.filters=[],this.transform=null}return e.prototype.clear=function(){this.target=null,this.filters=null,this.renderTexture=null},e}(),sh=[new wt,new wt,new wt,new wt],bv=new Wt,S2=function(){function e(t){this.renderer=t,this.defaultFilterStack=[{}],this.texturePool=new f5,this.texturePool.setScreenSize(t.view),this.statePool=[],this.quad=new _5,this.quadUv=new b2,this.tempRect=new it,this.activeState={},this.globalUniforms=new qo({outputFrame:new it,inputSize:new Float32Array(4),inputPixel:new Float32Array(4),inputClamp:new Float32Array(4),resolution:1,filterArea:new Float32Array(4),filterClamp:new Float32Array(4)},!0),this.forceClear=!1,this.useMaxPadding=!1}return e.prototype.push=function(t,r){for(var n,i,o=this.renderer,a=this.defaultFilterStack,u=this.statePool.pop()||new g5,f=this.renderer.renderTexture,h=r[0].resolution,d=r[0].multisample,p=r[0].padding,v=r[0].autoFit,m=(n=r[0].legacy)!==null&&n!==void 0?n:!0,y=1;y<r.length;y++){var E=r[y];h=Math.min(h,E.resolution),d=Math.min(d,E.multisample),p=this.useMaxPadding?Math.max(p,E.padding):p+E.padding,v=v&&E.autoFit,m=m||((i=E.legacy)!==null&&i!==void 0?i:!0)}if(a.length===1&&(this.defaultFilterStack[0].renderTexture=f.current),a.push(u),u.resolution=h,u.multisample=d,u.legacy=m,u.target=t,u.sourceFrame.copyFrom(t.filterArea||t.getBounds(!0)),u.sourceFrame.pad(p),v){var g=this.tempRect.copyFrom(f.sourceFrame);o.projection.transform&&this.transformAABB(bv.copyFrom(o.projection.transform).invert(),g),u.sourceFrame.fit(g)}this.roundFrame(u.sourceFrame,f.current?f.current.resolution:o.resolution,f.sourceFrame,f.destinationFrame,o.projection.transform),u.renderTexture=this.getOptimalFilterTexture(u.sourceFrame.width,u.sourceFrame.height,h,d),u.filters=r,u.destinationFrame.width=u.renderTexture.width,u.destinationFrame.height=u.renderTexture.height;var x=this.tempRect;x.x=0,x.y=0,x.width=u.sourceFrame.width,x.height=u.sourceFrame.height,u.renderTexture.filterFrame=u.sourceFrame,u.bindingSourceFrame.copyFrom(f.sourceFrame),u.bindingDestinationFrame.copyFrom(f.destinationFrame),u.transform=o.projection.transform,o.projection.transform=null,f.bind(u.renderTexture,u.sourceFrame,x),o.framebuffer.clear(0,0,0,0)},e.prototype.pop=function(){var t=this.defaultFilterStack,r=t.pop(),n=r.filters;this.activeState=r;var i=this.globalUniforms.uniforms;i.outputFrame=r.sourceFrame,i.resolution=r.resolution;var o=i.inputSize,a=i.inputPixel,u=i.inputClamp;if(o[0]=r.destinationFrame.width,o[1]=r.destinationFrame.height,o[2]=1/o[0],o[3]=1/o[1],a[0]=Math.round(o[0]*r.resolution),a[1]=Math.round(o[1]*r.resolution),a[2]=1/a[0],a[3]=1/a[1],u[0]=.5*a[2],u[1]=.5*a[3],u[2]=r.sourceFrame.width*o[2]-.5*a[2],u[3]=r.sourceFrame.height*o[3]-.5*a[3],r.legacy){var f=i.filterArea;f[0]=r.destinationFrame.width,f[1]=r.destinationFrame.height,f[2]=r.sourceFrame.x,f[3]=r.sourceFrame.y,i.filterClamp=i.inputClamp}this.globalUniforms.update();var h=t[t.length-1];if(this.renderer.framebuffer.blit(),n.length===1)n[0].apply(this,r.renderTexture,h.renderTexture,Wi.BLEND,r),this.returnFilterTexture(r.renderTexture);else{var d=r.renderTexture,p=this.getOptimalFilterTexture(d.width,d.height,r.resolution);p.filterFrame=d.filterFrame;var v=0;for(v=0;v<n.length-1;++v){v===1&&r.multisample>1&&(p=this.getOptimalFilterTexture(d.width,d.height,r.resolution),p.filterFrame=d.filterFrame),n[v].apply(this,d,p,Wi.CLEAR,r);var m=d;d=p,p=m}n[v].apply(this,d,h.renderTexture,Wi.BLEND,r),v>1&&r.multisample>1&&this.returnFilterTexture(r.renderTexture),this.returnFilterTexture(d),this.returnFilterTexture(p)}r.clear(),this.statePool.push(r)},e.prototype.bindAndClear=function(t,r){r===void 0&&(r=Wi.CLEAR);var n=this.renderer,i=n.renderTexture,o=n.state;if(t===this.defaultFilterStack[this.defaultFilterStack.length-1].renderTexture?this.renderer.projection.transform=this.activeState.transform:this.renderer.projection.transform=null,t&&t.filterFrame){var a=this.tempRect;a.x=0,a.y=0,a.width=t.filterFrame.width,a.height=t.filterFrame.height,i.bind(t,t.filterFrame,a)}else t!==this.defaultFilterStack[this.defaultFilterStack.length-1].renderTexture?i.bind(t):this.renderer.renderTexture.bind(t,this.activeState.bindingSourceFrame,this.activeState.bindingDestinationFrame);var u=o.stateId&1||this.forceClear;(r===Wi.CLEAR||r===Wi.BLIT&&u)&&this.renderer.framebuffer.clear(0,0,0,0)},e.prototype.applyFilter=function(t,r,n,i){var o=this.renderer;o.state.set(t.state),this.bindAndClear(n,i),t.uniforms.uSampler=r,t.uniforms.filterGlobals=this.globalUniforms,o.shader.bind(t),t.legacy=!!t.program.attributeData.aTextureCoord,t.legacy?(this.quadUv.map(r._frame,r.filterFrame),o.geometry.bind(this.quadUv),o.geometry.draw(Pn.TRIANGLES)):(o.geometry.bind(this.quad),o.geometry.draw(Pn.TRIANGLE_STRIP))},e.prototype.calculateSpriteMatrix=function(t,r){var n=this.activeState,i=n.sourceFrame,o=n.destinationFrame,a=r._texture.orig,u=t.set(o.width,0,0,o.height,i.x,i.y),f=r.worldTransform.copyTo(Wt.TEMP_MATRIX);return f.invert(),u.prepend(f),u.scale(1/a.width,1/a.height),u.translate(r.anchor.x,r.anchor.y),u},e.prototype.destroy=function(){this.renderer=null,this.texturePool.clear(!1)},e.prototype.getOptimalFilterTexture=function(t,r,n,i){return n===void 0&&(n=1),i===void 0&&(i=$t.NONE),this.texturePool.getOptimalTexture(t,r,n,i)},e.prototype.getFilterTexture=function(t,r,n){if(typeof t=="number"){var i=t;t=r,r=i}t=t||this.activeState.renderTexture;var o=this.texturePool.getOptimalTexture(t.width,t.height,r||t.resolution,n||$t.NONE);return o.filterFrame=t.filterFrame,o},e.prototype.returnFilterTexture=function(t){this.texturePool.returnTexture(t)},e.prototype.emptyPool=function(){this.texturePool.clear(!0)},e.prototype.resize=function(){this.texturePool.setScreenSize(this.renderer.view)},e.prototype.transformAABB=function(t,r){var n=sh[0],i=sh[1],o=sh[2],a=sh[3];n.set(r.left,r.top),i.set(r.left,r.bottom),o.set(r.right,r.top),a.set(r.right,r.bottom),t.apply(n,n),t.apply(i,i),t.apply(o,o),t.apply(a,a);var u=Math.min(n.x,i.x,o.x,a.x),f=Math.min(n.y,i.y,o.y,a.y),h=Math.max(n.x,i.x,o.x,a.x),d=Math.max(n.y,i.y,o.y,a.y);r.x=u,r.y=f,r.width=h-u,r.height=d-f},e.prototype.roundFrame=function(t,r,n,i,o){if(!(t.width<=0||t.height<=0||n.width<=0||n.height<=0)){if(o){var a=o.a,u=o.b,f=o.c,h=o.d;if((Math.abs(u)>1e-4||Math.abs(f)>1e-4)&&(Math.abs(a)>1e-4||Math.abs(h)>1e-4))return}o=o?bv.copyFrom(o):bv.identity(),o.translate(-n.x,-n.y).scale(i.width/n.width,i.height/n.height).translate(i.x,i.y),this.transformAABB(o,t),t.ceil(r),this.transformAABB(o.invert(),t)}},e}(),ed=function(){function e(t){this.renderer=t}return e.prototype.flush=function(){},e.prototype.destroy=function(){this.renderer=null},e.prototype.start=function(){},e.prototype.stop=function(){this.flush()},e.prototype.render=function(t){},e}(),C2=function(){function e(t){this.renderer=t,this.emptyRenderer=new ed(t),this.currentRenderer=this.emptyRenderer}return e.prototype.setObjectRenderer=function(t){this.currentRenderer!==t&&(this.currentRenderer.stop(),this.currentRenderer=t,this.currentRenderer.start())},e.prototype.flush=function(){this.setObjectRenderer(this.emptyRenderer)},e.prototype.reset=function(){this.setObjectRenderer(this.emptyRenderer)},e.prototype.copyBoundTextures=function(t,r){for(var n=this.renderer.texture.boundTextures,i=r-1;i>=0;--i)t[i]=n[i]||null,t[i]&&(t[i]._batchLocation=i)},e.prototype.boundArray=function(t,r,n,i){for(var o=t.elements,a=t.ids,u=t.count,f=0,h=0;h<u;h++){var d=o[h],p=d._batchLocation;if(p>=0&&p<i&&r[p]===d){a[h]=p;continue}for(;f<i;){var v=r[f];if(v&&v._batchEnabled===n&&v._batchLocation===f){f++;continue}a[h]=f,d._batchLocation=f,r[f]=d;break}}},e.prototype.destroy=function(){this.renderer=null},e}(),cE=0,I2=function(){function e(t){this.renderer=t,this.webGLVersion=1,this.extensions={},this.supports={uint32Indices:!1},this.handleContextLost=this.handleContextLost.bind(this),this.handleContextRestored=this.handleContextRestored.bind(this),t.view.addEventListener("webglcontextlost",this.handleContextLost,!1),t.view.addEventListener("webglcontextrestored",this.handleContextRestored,!1)}return Object.defineProperty(e.prototype,"isLost",{get:function(){return!this.gl||this.gl.isContextLost()},enumerable:!1,configurable:!0}),e.prototype.contextChange=function(t){this.gl=t,this.renderer.gl=t,this.renderer.CONTEXT_UID=cE++,t.isContextLost()&&t.getExtension("WEBGL_lose_context")&&t.getExtension("WEBGL_lose_context").restoreContext()},e.prototype.initFromContext=function(t){this.gl=t,this.validateContext(t),this.renderer.gl=t,this.renderer.CONTEXT_UID=cE++,this.renderer.runners.contextChange.emit(t)},e.prototype.initFromOptions=function(t){var r=this.createContext(this.renderer.view,t);this.initFromContext(r)},e.prototype.createContext=function(t,r){var n;if(Te.PREFER_ENV>=Ei.WEBGL2&&(n=t.getContext("webgl2",r)),n)this.webGLVersion=2;else if(this.webGLVersion=1,n=t.getContext("webgl",r)||t.getContext("experimental-webgl",r),!n)throw new Error("This browser does not support WebGL. Try using the canvas renderer");return this.gl=n,this.getExtensions(),this.gl},e.prototype.getExtensions=function(){var t=this.gl,r={anisotropicFiltering:t.getExtension("EXT_texture_filter_anisotropic"),floatTextureLinear:t.getExtension("OES_texture_float_linear"),s3tc:t.getExtension("WEBGL_compressed_texture_s3tc"),s3tc_sRGB:t.getExtension("WEBGL_compressed_texture_s3tc_srgb"),etc:t.getExtension("WEBGL_compressed_texture_etc"),etc1:t.getExtension("WEBGL_compressed_texture_etc1"),pvrtc:t.getExtension("WEBGL_compressed_texture_pvrtc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),atc:t.getExtension("WEBGL_compressed_texture_atc"),astc:t.getExtension("WEBGL_compressed_texture_astc")};this.webGLVersion===1?Object.assign(this.extensions,r,{drawBuffers:t.getExtension("WEBGL_draw_buffers"),depthTexture:t.getExtension("WEBGL_depth_texture"),loseContext:t.getExtension("WEBGL_lose_context"),vertexArrayObject:t.getExtension("OES_vertex_array_object")||t.getExtension("MOZ_OES_vertex_array_object")||t.getExtension("WEBKIT_OES_vertex_array_object"),uint32ElementIndex:t.getExtension("OES_element_index_uint"),floatTexture:t.getExtension("OES_texture_float"),floatTextureLinear:t.getExtension("OES_texture_float_linear"),textureHalfFloat:t.getExtension("OES_texture_half_float"),textureHalfFloatLinear:t.getExtension("OES_texture_half_float_linear")}):this.webGLVersion===2&&Object.assign(this.extensions,r,{colorBufferFloat:t.getExtension("EXT_color_buffer_float")})},e.prototype.handleContextLost=function(t){t.preventDefault()},e.prototype.handleContextRestored=function(){this.renderer.runners.contextChange.emit(this.gl)},e.prototype.destroy=function(){var t=this.renderer.view;this.renderer=null,t.removeEventListener("webglcontextlost",this.handleContextLost),t.removeEventListener("webglcontextrestored",this.handleContextRestored),this.gl.useProgram(null),this.extensions.loseContext&&this.extensions.loseContext.loseContext()},e.prototype.postrender=function(){this.renderer.renderingToScreen&&this.gl.flush()},e.prototype.validateContext=function(t){var r=t.getContextAttributes(),n="WebGL2RenderingContext"in globalThis&&t instanceof globalThis.WebGL2RenderingContext;n&&(this.webGLVersion=2),r.stencil||console.warn("Provided WebGL context does not have a stencil buffer, masks may not render correctly");var i=n||!!t.getExtension("OES_element_index_uint");this.supports.uint32Indices=i,i||console.warn("Provided WebGL context does not support 32 index buffer, complex graphics may not render correctly")},e}(),y5=function(){function e(t){this.framebuffer=t,this.stencil=null,this.dirtyId=-1,this.dirtyFormat=-1,this.dirtySize=-1,this.multisample=$t.NONE,this.msaaBuffer=null,this.blitFramebuffer=null,this.mipLevel=0}return e}(),x5=new it,R2=function(){function e(t){this.renderer=t,this.managedFramebuffers=[],this.unknownFramebuffer=new sm(10,10),this.msaaSamples=null}return e.prototype.contextChange=function(){var t=this.gl=this.renderer.gl;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.current=this.unknownFramebuffer,this.viewport=new it,this.hasMRT=!0,this.writeDepthTexture=!0,this.disposeAll(!0),this.renderer.context.webGLVersion===1){var r=this.renderer.context.extensions.drawBuffers,n=this.renderer.context.extensions.depthTexture;Te.PREFER_ENV===Ei.WEBGL_LEGACY&&(r=null,n=null),r?t.drawBuffers=function(i){return r.drawBuffersWEBGL(i)}:(this.hasMRT=!1,t.drawBuffers=function(){}),n||(this.writeDepthTexture=!1)}else this.msaaSamples=t.getInternalformatParameter(t.RENDERBUFFER,t.RGBA8,t.SAMPLES)},e.prototype.bind=function(t,r,n){n===void 0&&(n=0);var i=this.gl;if(t){var o=t.glFramebuffers[this.CONTEXT_UID]||this.initFramebuffer(t);this.current!==t&&(this.current=t,i.bindFramebuffer(i.FRAMEBUFFER,o.framebuffer)),o.mipLevel!==n&&(t.dirtyId++,t.dirtyFormat++,o.mipLevel=n),o.dirtyId!==t.dirtyId&&(o.dirtyId=t.dirtyId,o.dirtyFormat!==t.dirtyFormat?(o.dirtyFormat=t.dirtyFormat,o.dirtySize=t.dirtySize,this.updateFramebuffer(t,n)):o.dirtySize!==t.dirtySize&&(o.dirtySize=t.dirtySize,this.resizeFramebuffer(t)));for(var a=0;a<t.colorTextures.length;a++){var u=t.colorTextures[a];this.renderer.texture.unbind(u.parentTextureArray||u)}if(t.depthTexture&&this.renderer.texture.unbind(t.depthTexture),r){var f=r.width>>n,h=r.height>>n,d=f/r.width;this.setViewport(r.x*d,r.y*d,f,h)}else{var f=t.width>>n,h=t.height>>n;this.setViewport(0,0,f,h)}}else this.current&&(this.current=null,i.bindFramebuffer(i.FRAMEBUFFER,null)),r?this.setViewport(r.x,r.y,r.width,r.height):this.setViewport(0,0,this.renderer.width,this.renderer.height)},e.prototype.setViewport=function(t,r,n,i){var o=this.viewport;t=Math.round(t),r=Math.round(r),n=Math.round(n),i=Math.round(i),(o.width!==n||o.height!==i||o.x!==t||o.y!==r)&&(o.x=t,o.y=r,o.width=n,o.height=i,this.gl.viewport(t,r,n,i))},Object.defineProperty(e.prototype,"size",{get:function(){return this.current?{x:0,y:0,width:this.current.width,height:this.current.height}:{x:0,y:0,width:this.renderer.width,height:this.renderer.height}},enumerable:!1,configurable:!0}),e.prototype.clear=function(t,r,n,i,o){o===void 0&&(o=hc.COLOR|hc.DEPTH);var a=this.gl;a.clearColor(t,r,n,i),a.clear(o)},e.prototype.initFramebuffer=function(t){var r=this.gl,n=new y5(r.createFramebuffer());return n.multisample=this.detectSamples(t.multisample),t.glFramebuffers[this.CONTEXT_UID]=n,this.managedFramebuffers.push(t),t.disposeRunner.add(this),n},e.prototype.resizeFramebuffer=function(t){var r=this.gl,n=t.glFramebuffers[this.CONTEXT_UID];n.msaaBuffer&&(r.bindRenderbuffer(r.RENDERBUFFER,n.msaaBuffer),r.renderbufferStorageMultisample(r.RENDERBUFFER,n.multisample,r.RGBA8,t.width,t.height)),n.stencil&&(r.bindRenderbuffer(r.RENDERBUFFER,n.stencil),n.msaaBuffer?r.renderbufferStorageMultisample(r.RENDERBUFFER,n.multisample,r.DEPTH24_STENCIL8,t.width,t.height):r.renderbufferStorage(r.RENDERBUFFER,r.DEPTH_STENCIL,t.width,t.height));var i=t.colorTextures,o=i.length;r.drawBuffers||(o=Math.min(o,1));for(var a=0;a<o;a++){var u=i[a],f=u.parentTextureArray||u;this.renderer.texture.bind(f,0)}t.depthTexture&&this.writeDepthTexture&&this.renderer.texture.bind(t.depthTexture,0)},e.prototype.updateFramebuffer=function(t,r){var n=this.gl,i=t.glFramebuffers[this.CONTEXT_UID],o=t.colorTextures,a=o.length;n.drawBuffers||(a=Math.min(a,1)),i.multisample>1&&this.canMultisampleFramebuffer(t)?(i.msaaBuffer=i.msaaBuffer||n.createRenderbuffer(),n.bindRenderbuffer(n.RENDERBUFFER,i.msaaBuffer),n.renderbufferStorageMultisample(n.RENDERBUFFER,i.multisample,n.RGBA8,t.width,t.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.RENDERBUFFER,i.msaaBuffer)):i.msaaBuffer&&(n.deleteRenderbuffer(i.msaaBuffer),i.msaaBuffer=null,i.blitFramebuffer&&(i.blitFramebuffer.dispose(),i.blitFramebuffer=null));for(var u=[],f=0;f<a;f++){var h=o[f],d=h.parentTextureArray||h;this.renderer.texture.bind(d,0),!(f===0&&i.msaaBuffer)&&(n.framebufferTexture2D(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+f,h.target,d._glTextures[this.CONTEXT_UID].texture,r),u.push(n.COLOR_ATTACHMENT0+f))}if(u.length>1&&n.drawBuffers(u),t.depthTexture){var p=this.writeDepthTexture;if(p){var v=t.depthTexture;this.renderer.texture.bind(v,0),n.framebufferTexture2D(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.TEXTURE_2D,v._glTextures[this.CONTEXT_UID].texture,r)}}(t.stencil||t.depth)&&!(t.depthTexture&&this.writeDepthTexture)?(i.stencil=i.stencil||n.createRenderbuffer(),n.bindRenderbuffer(n.RENDERBUFFER,i.stencil),i.msaaBuffer?n.renderbufferStorageMultisample(n.RENDERBUFFER,i.multisample,n.DEPTH24_STENCIL8,t.width,t.height):n.renderbufferStorage(n.RENDERBUFFER,n.DEPTH_STENCIL,t.width,t.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.RENDERBUFFER,i.stencil)):i.stencil&&(n.deleteRenderbuffer(i.stencil),i.stencil=null)},e.prototype.canMultisampleFramebuffer=function(t){return this.renderer.context.webGLVersion!==1&&t.colorTextures.length<=1&&!t.depthTexture},e.prototype.detectSamples=function(t){var r=this.msaaSamples,n=$t.NONE;if(t<=1||r===null)return n;for(var i=0;i<r.length;i++)if(r[i]<=t){n=r[i];break}return n===1&&(n=$t.NONE),n},e.prototype.blit=function(t,r,n){var i=this,o=i.current,a=i.renderer,u=i.gl,f=i.CONTEXT_UID;if(a.context.webGLVersion===2&&!!o){var h=o.glFramebuffers[f];if(!!h){if(!t){if(!h.msaaBuffer)return;var d=o.colorTextures[0];if(!d)return;h.blitFramebuffer||(h.blitFramebuffer=new sm(o.width,o.height),h.blitFramebuffer.addColorTexture(0,d)),t=h.blitFramebuffer,t.colorTextures[0]!==d&&(t.colorTextures[0]=d,t.dirtyId++,t.dirtyFormat++),(t.width!==o.width||t.height!==o.height)&&(t.width=o.width,t.height=o.height,t.dirtyId++,t.dirtySize++)}r||(r=x5,r.width=o.width,r.height=o.height),n||(n=r);var p=r.width===n.width&&r.height===n.height;this.bind(t),u.bindFramebuffer(u.READ_FRAMEBUFFER,h.framebuffer),u.blitFramebuffer(r.left,r.top,r.right,r.bottom,n.left,n.top,n.right,n.bottom,u.COLOR_BUFFER_BIT,p?u.NEAREST:u.LINEAR)}}},e.prototype.disposeFramebuffer=function(t,r){var n=t.glFramebuffers[this.CONTEXT_UID],i=this.gl;if(!!n){delete t.glFramebuffers[this.CONTEXT_UID];var o=this.managedFramebuffers.indexOf(t);o>=0&&this.managedFramebuffers.splice(o,1),t.disposeRunner.remove(this),r||(i.deleteFramebuffer(n.framebuffer),n.msaaBuffer&&i.deleteRenderbuffer(n.msaaBuffer),n.stencil&&i.deleteRenderbuffer(n.stencil)),n.blitFramebuffer&&n.blitFramebuffer.dispose()}},e.prototype.disposeAll=function(t){var r=this.managedFramebuffers;this.managedFramebuffers=[];for(var n=0;n<r.length;n++)this.disposeFramebuffer(r[n],t)},e.prototype.forceStencil=function(){var t=this.current;if(!!t){var r=t.glFramebuffers[this.CONTEXT_UID];if(!(!r||r.stencil)){t.stencil=!0;var n=t.width,i=t.height,o=this.gl,a=o.createRenderbuffer();o.bindRenderbuffer(o.RENDERBUFFER,a),r.msaaBuffer?o.renderbufferStorageMultisample(o.RENDERBUFFER,r.multisample,o.DEPTH24_STENCIL8,n,i):o.renderbufferStorage(o.RENDERBUFFER,o.DEPTH_STENCIL,n,i),r.stencil=a,o.framebufferRenderbuffer(o.FRAMEBUFFER,o.DEPTH_STENCIL_ATTACHMENT,o.RENDERBUFFER,a)}}},e.prototype.reset=function(){this.current=this.unknownFramebuffer,this.viewport=new it},e.prototype.destroy=function(){this.renderer=null},e}(),Sv={5126:4,5123:2,5121:1},N2=function(){function e(t){this.renderer=t,this._activeGeometry=null,this._activeVao=null,this.hasVao=!0,this.hasInstance=!0,this.canUseUInt32ElementIndex=!1,this.managedGeometries={}}return e.prototype.contextChange=function(){this.disposeAll(!0);var t=this.gl=this.renderer.gl,r=this.renderer.context;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,r.webGLVersion!==2){var n=this.renderer.context.extensions.vertexArrayObject;Te.PREFER_ENV===Ei.WEBGL_LEGACY&&(n=null),n?(t.createVertexArray=function(){return n.createVertexArrayOES()},t.bindVertexArray=function(o){return n.bindVertexArrayOES(o)},t.deleteVertexArray=function(o){return n.deleteVertexArrayOES(o)}):(this.hasVao=!1,t.createVertexArray=function(){return null},t.bindVertexArray=function(){return null},t.deleteVertexArray=function(){return null})}if(r.webGLVersion!==2){var i=t.getExtension("ANGLE_instanced_arrays");i?(t.vertexAttribDivisor=function(o,a){return i.vertexAttribDivisorANGLE(o,a)},t.drawElementsInstanced=function(o,a,u,f,h){return i.drawElementsInstancedANGLE(o,a,u,f,h)},t.drawArraysInstanced=function(o,a,u,f){return i.drawArraysInstancedANGLE(o,a,u,f)}):this.hasInstance=!1}this.canUseUInt32ElementIndex=r.webGLVersion===2||!!r.extensions.uint32ElementIndex},e.prototype.bind=function(t,r){r=r||this.renderer.shader.shader;var n=this.gl,i=t.glVertexArrayObjects[this.CONTEXT_UID],o=!1;i||(this.managedGeometries[t.id]=t,t.disposeRunner.add(this),t.glVertexArrayObjects[this.CONTEXT_UID]=i={},o=!0);var a=i[r.program.id]||this.initGeometryVao(t,r,o);this._activeGeometry=t,this._activeVao!==a&&(this._activeVao=a,this.hasVao?n.bindVertexArray(a):this.activateVao(t,r.program)),this.updateBuffers()},e.prototype.reset=function(){this.unbind()},e.prototype.updateBuffers=function(){for(var t=this._activeGeometry,r=this.renderer.buffer,n=0;n<t.buffers.length;n++){var i=t.buffers[n];r.update(i)}},e.prototype.checkCompatibility=function(t,r){var n=t.attributes,i=r.attributeData;for(var o in i)if(!n[o])throw new Error('shader and geometry incompatible, geometry missing the "'+o+'" attribute')},e.prototype.getSignature=function(t,r){var n=t.attributes,i=r.attributeData,o=["g",t.id];for(var a in n)i[a]&&o.push(a,i[a].location);return o.join("-")},e.prototype.initGeometryVao=function(t,r,n){n===void 0&&(n=!0);var i=this.gl,o=this.CONTEXT_UID,a=this.renderer.buffer,u=r.program;u.glPrograms[o]||this.renderer.shader.generateProgram(r),this.checkCompatibility(t,u);var f=this.getSignature(t,u),h=t.glVertexArrayObjects[this.CONTEXT_UID],d=h[f];if(d)return h[u.id]=d,d;var p=t.buffers,v=t.attributes,m={},y={};for(var E in p)m[E]=0,y[E]=0;for(var E in v)!v[E].size&&u.attributeData[E]?v[E].size=u.attributeData[E].size:v[E].size||console.warn("PIXI Geometry attribute '"+E+"' size cannot be determined (likely the bound shader does not have the attribute)"),m[v[E].buffer]+=v[E].size*Sv[v[E].type];for(var E in v){var g=v[E],x=g.size;g.stride===void 0&&(m[g.buffer]===x*Sv[g.type]?g.stride=0:g.stride=m[g.buffer]),g.start===void 0&&(g.start=y[g.buffer],y[g.buffer]+=x*Sv[g.type])}d=i.createVertexArray(),i.bindVertexArray(d);for(var w=0;w<p.length;w++){var N=p[w];a.bind(N),n&&N._glBuffers[o].refCount++}return this.activateVao(t,u),this._activeVao=d,h[u.id]=d,h[f]=d,d},e.prototype.disposeGeometry=function(t,r){var n;if(!!this.managedGeometries[t.id]){delete this.managedGeometries[t.id];var i=t.glVertexArrayObjects[this.CONTEXT_UID],o=this.gl,a=t.buffers,u=(n=this.renderer)===null||n===void 0?void 0:n.buffer;if(t.disposeRunner.remove(this),!!i){if(u)for(var f=0;f<a.length;f++){var h=a[f]._glBuffers[this.CONTEXT_UID];h&&(h.refCount--,h.refCount===0&&!r&&u.dispose(a[f],r))}if(!r){for(var d in i)if(d[0]==="g"){var p=i[d];this._activeVao===p&&this.unbind(),o.deleteVertexArray(p)}}delete t.glVertexArrayObjects[this.CONTEXT_UID]}}},e.prototype.disposeAll=function(t){for(var r=Object.keys(this.managedGeometries),n=0;n<r.length;n++)this.disposeGeometry(this.managedGeometries[r[n]],t)},e.prototype.activateVao=function(t,r){var n=this.gl,i=this.CONTEXT_UID,o=this.renderer.buffer,a=t.buffers,u=t.attributes;t.indexBuffer&&o.bind(t.indexBuffer);var f=null;for(var h in u){var d=u[h],p=a[d.buffer],v=p._glBuffers[i];if(r.attributeData[h]){f!==v&&(o.bind(p),f=v);var m=r.attributeData[h].location;if(n.enableVertexAttribArray(m),n.vertexAttribPointer(m,d.size,d.type||n.FLOAT,d.normalized,d.stride,d.start),d.instance)if(this.hasInstance)n.vertexAttribDivisor(m,1);else throw new Error("geometry error, GPU Instancing is not supported on this device")}}},e.prototype.draw=function(t,r,n,i){var o=this.gl,a=this._activeGeometry;if(a.indexBuffer){var u=a.indexBuffer.data.BYTES_PER_ELEMENT,f=u===2?o.UNSIGNED_SHORT:o.UNSIGNED_INT;u===2||u===4&&this.canUseUInt32ElementIndex?a.instanced?o.drawElementsInstanced(t,r||a.indexBuffer.data.length,f,(n||0)*u,i||1):o.drawElements(t,r||a.indexBuffer.data.length,f,(n||0)*u):console.warn("unsupported index buffer type: uint32")}else a.instanced?o.drawArraysInstanced(t,n,r||a.getSize(),i||1):o.drawArrays(t,n,r||a.getSize());return this},e.prototype.unbind=function(){this.gl.bindVertexArray(null),this._activeVao=null,this._activeGeometry=null},e.prototype.destroy=function(){this.renderer=null},e}(),T5=function(){function e(t){t===void 0&&(t=null),this.type=pr.NONE,this.autoDetect=!0,this.maskObject=t||null,this.pooled=!1,this.isMaskData=!0,this.resolution=null,this.multisample=Te.FILTER_MULTISAMPLE,this.enabled=!0,this._filters=null,this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null,this._scissorRectLocal=null,this._target=null}return Object.defineProperty(e.prototype,"filter",{get:function(){return this._filters?this._filters[0]:null},set:function(t){t?this._filters?this._filters[0]=t:this._filters=[t]:this._filters=null},enumerable:!1,configurable:!0}),e.prototype.reset=function(){this.pooled&&(this.maskObject=null,this.type=pr.NONE,this.autoDetect=!0),this._target=null,this._scissorRectLocal=null},e.prototype.copyCountersOrReset=function(t){t?(this._stencilCounter=t._stencilCounter,this._scissorCounter=t._scissorCounter,this._scissorRect=t._scissorRect):(this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null)},e}();function dE(e,t,r){var n=e.createShader(t);return e.shaderSource(n,r),e.compileShader(n),n}function pE(e,t){var r=e.getShaderSource(t).split(`
`).map(function(h,d){return d+": "+h}),n=e.getShaderInfoLog(t),i=n.split(`
`),o={},a=i.map(function(h){return parseFloat(h.replace(/^ERROR\: 0\:([\d]+)\:.*$/,"$1"))}).filter(function(h){return h&&!o[h]?(o[h]=!0,!0):!1}),u=[""];a.forEach(function(h){r[h-1]="%c"+r[h-1]+"%c",u.push("background: #FF0000; color:#FFFFFF; font-size: 10px","font-size: 10px")});var f=r.join(`
`);u[0]=f,console.error(n),console.groupCollapsed("click to view full shader code"),console.warn.apply(console,u),console.groupEnd()}function E5(e,t,r,n){e.getProgramParameter(t,e.LINK_STATUS)||(e.getShaderParameter(r,e.COMPILE_STATUS)||pE(e,r),e.getShaderParameter(n,e.COMPILE_STATUS)||pE(e,n),console.error("PixiJS Error: Could not initialize shader."),e.getProgramInfoLog(t)!==""&&console.warn("PixiJS Warning: gl.getProgramInfoLog()",e.getProgramInfoLog(t)))}function Cv(e){for(var t=new Array(e),r=0;r<t.length;r++)t[r]=!1;return t}function P2(e,t){switch(e){case"float":return 0;case"vec2":return new Float32Array(2*t);case"vec3":return new Float32Array(3*t);case"vec4":return new Float32Array(4*t);case"int":case"uint":case"sampler2D":case"sampler2DArray":return 0;case"ivec2":return new Int32Array(2*t);case"ivec3":return new Int32Array(3*t);case"ivec4":return new Int32Array(4*t);case"uvec2":return new Uint32Array(2*t);case"uvec3":return new Uint32Array(3*t);case"uvec4":return new Uint32Array(4*t);case"bool":return!1;case"bvec2":return Cv(2*t);case"bvec3":return Cv(3*t);case"bvec4":return Cv(4*t);case"mat2":return new Float32Array([1,0,0,1]);case"mat3":return new Float32Array([1,0,0,0,1,0,0,0,1]);case"mat4":return new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}return null}var A2={},_u=A2;function w5(){if(_u===A2||_u&&_u.isContextLost()){var e=document.createElement("canvas"),t=void 0;Te.PREFER_ENV>=Ei.WEBGL2&&(t=e.getContext("webgl2",{})),t||(t=e.getContext("webgl",{})||e.getContext("experimental-webgl",{}),t?t.getExtension("WEBGL_draw_buffers"):t=null),_u=t}return _u}var uh;function b5(){if(!uh){uh=Wn.MEDIUM;var e=w5();if(e&&e.getShaderPrecisionFormat){var t=e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.HIGH_FLOAT);uh=t.precision?Wn.HIGH:Wn.MEDIUM}}return uh}function vE(e,t,r){if(e.substring(0,9)!=="precision"){var n=t;return t===Wn.HIGH&&r!==Wn.HIGH&&(n=Wn.MEDIUM),"precision "+n+` float;
`+e}else if(r!==Wn.HIGH&&e.substring(0,15)==="precision highp")return e.replace("precision highp","precision mediump");return e}var S5={float:1,vec2:2,vec3:3,vec4:4,int:1,ivec2:2,ivec3:3,ivec4:4,uint:1,uvec2:2,uvec3:3,uvec4:4,bool:1,bvec2:2,bvec3:3,bvec4:4,mat2:4,mat3:9,mat4:16,sampler2D:1};function O2(e){return S5[e]}var lh=null,_E={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",UNSIGNED_INT:"uint",UNSIGNED_INT_VEC2:"uvec2",UNSIGNED_INT_VEC3:"uvec3",UNSIGNED_INT_VEC4:"uvec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D",INT_SAMPLER_2D:"sampler2D",UNSIGNED_INT_SAMPLER_2D:"sampler2D",SAMPLER_CUBE:"samplerCube",INT_SAMPLER_CUBE:"samplerCube",UNSIGNED_INT_SAMPLER_CUBE:"samplerCube",SAMPLER_2D_ARRAY:"sampler2DArray",INT_SAMPLER_2D_ARRAY:"sampler2DArray",UNSIGNED_INT_SAMPLER_2D_ARRAY:"sampler2DArray"};function L2(e,t){if(!lh){var r=Object.keys(_E);lh={};for(var n=0;n<r.length;++n){var i=r[n];lh[e[i]]=_E[i]}}return lh[t]}var ds=[{test:function(e){return e.type==="float"&&e.size===1},code:function(e){return`
            if(uv["`+e+'"] !== ud["'+e+`"].value)
            {
                ud["`+e+'"].value = uv["'+e+`"]
                gl.uniform1f(ud["`+e+'"].location, uv["'+e+`"])
            }
            `}},{test:function(e){return(e.type==="sampler2D"||e.type==="samplerCube"||e.type==="sampler2DArray")&&e.size===1&&!e.isArray},code:function(e){return`t = syncData.textureCount++;

            renderer.texture.bind(uv["`+e+`"], t);

            if(ud["`+e+`"].value !== t)
            {
                ud["`+e+`"].value = t;
                gl.uniform1i(ud["`+e+`"].location, t);
; // eslint-disable-line max-len
            }`}},{test:function(e,t){return e.type==="mat3"&&e.size===1&&t.a!==void 0},code:function(e){return`
            gl.uniformMatrix3fv(ud["`+e+'"].location, false, uv["'+e+`"].toArray(true));
            `},codeUbo:function(e){return`
                var `+e+"_matrix = uv."+e+`.toArray(true);

                data[offset] = `+e+`_matrix[0];
                data[offset+1] = `+e+`_matrix[1];
                data[offset+2] = `+e+`_matrix[2];
        
                data[offset + 4] = `+e+`_matrix[3];
                data[offset + 5] = `+e+`_matrix[4];
                data[offset + 6] = `+e+`_matrix[5];
        
                data[offset + 8] = `+e+`_matrix[6];
                data[offset + 9] = `+e+`_matrix[7];
                data[offset + 10] = `+e+`_matrix[8];
            `}},{test:function(e,t){return e.type==="vec2"&&e.size===1&&t.x!==void 0},code:function(e){return`
                cv = ud["`+e+`"].value;
                v = uv["`+e+`"];

                if(cv[0] !== v.x || cv[1] !== v.y)
                {
                    cv[0] = v.x;
                    cv[1] = v.y;
                    gl.uniform2f(ud["`+e+`"].location, v.x, v.y);
                }`},codeUbo:function(e){return`
                v = uv.`+e+`;

                data[offset] = v.x;
                data[offset+1] = v.y;
            `}},{test:function(e){return e.type==="vec2"&&e.size===1},code:function(e){return`
                cv = ud["`+e+`"].value;
                v = uv["`+e+`"];

                if(cv[0] !== v[0] || cv[1] !== v[1])
                {
                    cv[0] = v[0];
                    cv[1] = v[1];
                    gl.uniform2f(ud["`+e+`"].location, v[0], v[1]);
                }
            `}},{test:function(e,t){return e.type==="vec4"&&e.size===1&&t.width!==void 0},code:function(e){return`
                cv = ud["`+e+`"].value;
                v = uv["`+e+`"];

                if(cv[0] !== v.x || cv[1] !== v.y || cv[2] !== v.width || cv[3] !== v.height)
                {
                    cv[0] = v.x;
                    cv[1] = v.y;
                    cv[2] = v.width;
                    cv[3] = v.height;
                    gl.uniform4f(ud["`+e+`"].location, v.x, v.y, v.width, v.height)
                }`},codeUbo:function(e){return`
                    v = uv.`+e+`;

                    data[offset] = v.x;
                    data[offset+1] = v.y;
                    data[offset+2] = v.width;
                    data[offset+3] = v.height;
                `}},{test:function(e){return e.type==="vec4"&&e.size===1},code:function(e){return`
                cv = ud["`+e+`"].value;
                v = uv["`+e+`"];

                if(cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
                {
                    cv[0] = v[0];
                    cv[1] = v[1];
                    cv[2] = v[2];
                    cv[3] = v[3];

                    gl.uniform4f(ud["`+e+`"].location, v[0], v[1], v[2], v[3])
                }`}}],C5={float:`
    if (cv !== v)
    {
        cu.value = v;
        gl.uniform1f(location, v);
    }`,vec2:`
    if (cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2f(location, v[0], v[1])
    }`,vec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3f(location, v[0], v[1], v[2])
    }`,vec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4f(location, v[0], v[1], v[2], v[3]);
    }`,int:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`,ivec2:`
    if (cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2i(location, v[0], v[1]);
    }`,ivec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3i(location, v[0], v[1], v[2]);
    }`,ivec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4i(location, v[0], v[1], v[2], v[3]);
    }`,uint:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1ui(location, v);
    }`,uvec2:`
    if (cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2ui(location, v[0], v[1]);
    }`,uvec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3ui(location, v[0], v[1], v[2]);
    }`,uvec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4ui(location, v[0], v[1], v[2], v[3]);
    }`,bool:`
    if (cv !== v)
    {
        cu.value = v;
        gl.uniform1i(location, v);
    }`,bvec2:`
    if (cv[0] != v[0] || cv[1] != v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2i(location, v[0], v[1]);
    }`,bvec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3i(location, v[0], v[1], v[2]);
    }`,bvec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4i(location, v[0], v[1], v[2], v[3]);
    }`,mat2:"gl.uniformMatrix2fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",sampler2D:"gl.uniform1i(location, v)",samplerCube:"gl.uniform1i(location, v)",sampler2DArray:"gl.uniform1i(location, v)"},I5={float:"gl.uniform1fv(location, v)",vec2:"gl.uniform2fv(location, v)",vec3:"gl.uniform3fv(location, v)",vec4:"gl.uniform4fv(location, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat2:"gl.uniformMatrix2fv(location, false, v)",int:"gl.uniform1iv(location, v)",ivec2:"gl.uniform2iv(location, v)",ivec3:"gl.uniform3iv(location, v)",ivec4:"gl.uniform4iv(location, v)",uint:"gl.uniform1uiv(location, v)",uvec2:"gl.uniform2uiv(location, v)",uvec3:"gl.uniform3uiv(location, v)",uvec4:"gl.uniform4uiv(location, v)",bool:"gl.uniform1iv(location, v)",bvec2:"gl.uniform2iv(location, v)",bvec3:"gl.uniform3iv(location, v)",bvec4:"gl.uniform4iv(location, v)",sampler2D:"gl.uniform1iv(location, v)",samplerCube:"gl.uniform1iv(location, v)",sampler2DArray:"gl.uniform1iv(location, v)"};function R5(e,t){var r,n=[`
        var v = null;
        var cv = null;
        var cu = null;
        var t = 0;
        var gl = renderer.gl;
    `];for(var i in e.uniforms){var o=t[i];if(!o){!((r=e.uniforms[i])===null||r===void 0)&&r.group&&(e.uniforms[i].ubo?n.push(`
                        renderer.shader.syncUniformBufferGroup(uv.`+i+", '"+i+`');
                    `):n.push(`
                        renderer.shader.syncUniformGroup(uv.`+i+`, syncData);
                    `));continue}for(var a=e.uniforms[i],u=!1,f=0;f<ds.length;f++)if(ds[f].test(o,a)){n.push(ds[f].code(i,a)),u=!0;break}if(!u){var h=o.size===1?C5:I5,d=h[o.type].replace("location",'ud["'+i+'"].location');n.push(`
            cu = ud["`+i+`"];
            cv = cu.value;
            v = uv["`+i+`"];
            `+d+";")}}return new Function("ud","uv","renderer","syncData",n.join(`
`))}var N5=["precision mediump float;","void main(void){","float test = 0.1;","%forloop%","gl_FragColor = vec4(0.0);","}"].join(`
`);function P5(e){for(var t="",r=0;r<e;++r)r>0&&(t+=`
else `),r<e-1&&(t+="if(test == "+r+".0){}");return t}function A5(e,t){if(e===0)throw new Error("Invalid value of `0` passed to `checkMaxIfStatementsInShader`");for(var r=t.createShader(t.FRAGMENT_SHADER);;){var n=N5.replace(/%forloop%/gi,P5(e));if(t.shaderSource(r,n),t.compileShader(r),!t.getShaderParameter(r,t.COMPILE_STATUS))e=e/2|0;else break}return e}var mu;function O5(){if(typeof mu=="boolean")return mu;try{var e=new Function("param1","param2","param3","return param1[param2] === param3;");mu=e({a:"b"},"a","b")===!0}catch{mu=!1}return mu}var L5=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;

void main(void){
   gl_FragColor *= texture2D(uSampler, vTextureCoord);
}`,F5=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void){
   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
   vTextureCoord = aTextureCoord;
}
`,U5=0,fh={},Al=function(){function e(t,r,n){n===void 0&&(n="pixi-shader"),this.id=U5++,this.vertexSrc=t||e.defaultVertexSrc,this.fragmentSrc=r||e.defaultFragmentSrc,this.vertexSrc=this.vertexSrc.trim(),this.fragmentSrc=this.fragmentSrc.trim(),this.vertexSrc.substring(0,8)!=="#version"&&(n=n.replace(/\s+/g,"-"),fh[n]?(fh[n]++,n+="-"+fh[n]):fh[n]=1,this.vertexSrc="#define SHADER_NAME "+n+`
`+this.vertexSrc,this.fragmentSrc="#define SHADER_NAME "+n+`
`+this.fragmentSrc,this.vertexSrc=vE(this.vertexSrc,Te.PRECISION_VERTEX,Wn.HIGH),this.fragmentSrc=vE(this.fragmentSrc,Te.PRECISION_FRAGMENT,b5())),this.glPrograms={},this.syncUniforms=null}return Object.defineProperty(e,"defaultVertexSrc",{get:function(){return F5},enumerable:!1,configurable:!0}),Object.defineProperty(e,"defaultFragmentSrc",{get:function(){return L5},enumerable:!1,configurable:!0}),e.from=function(t,r,n){var i=t+r,o=GT[i];return o||(GT[i]=o=new e(t,r,n)),o},e}(),ao=function(){function e(t,r){this.uniformBindCount=0,this.program=t,r?r instanceof qo?this.uniformGroup=r:this.uniformGroup=new qo(r):this.uniformGroup=new qo({})}return e.prototype.checkUniformExists=function(t,r){if(r.uniforms[t])return!0;for(var n in r.uniforms){var i=r.uniforms[n];if(i.group&&this.checkUniformExists(t,i))return!0}return!1},e.prototype.destroy=function(){this.uniformGroup=null},Object.defineProperty(e.prototype,"uniforms",{get:function(){return this.uniformGroup.uniforms},enumerable:!1,configurable:!0}),e.from=function(t,r,n){var i=Al.from(t,r);return new e(i,n)},e}(),Iv=0,Rv=1,Nv=2,Pv=3,Av=4,Ov=5,ua=function(){function e(){this.data=0,this.blendMode=be.NORMAL,this.polygonOffset=0,this.blend=!0,this.depthMask=!0}return Object.defineProperty(e.prototype,"blend",{get:function(){return!!(this.data&1<<Iv)},set:function(t){!!(this.data&1<<Iv)!==t&&(this.data^=1<<Iv)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"offsets",{get:function(){return!!(this.data&1<<Rv)},set:function(t){!!(this.data&1<<Rv)!==t&&(this.data^=1<<Rv)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"culling",{get:function(){return!!(this.data&1<<Nv)},set:function(t){!!(this.data&1<<Nv)!==t&&(this.data^=1<<Nv)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"depthTest",{get:function(){return!!(this.data&1<<Pv)},set:function(t){!!(this.data&1<<Pv)!==t&&(this.data^=1<<Pv)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"depthMask",{get:function(){return!!(this.data&1<<Ov)},set:function(t){!!(this.data&1<<Ov)!==t&&(this.data^=1<<Ov)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"clockwiseFrontFace",{get:function(){return!!(this.data&1<<Av)},set:function(t){!!(this.data&1<<Av)!==t&&(this.data^=1<<Av)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"blendMode",{get:function(){return this._blendMode},set:function(t){this.blend=t!==be.NONE,this._blendMode=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"polygonOffset",{get:function(){return this._polygonOffset},set:function(t){this.offsets=!!t,this._polygonOffset=t},enumerable:!1,configurable:!0}),e.prototype.toString=function(){return"[@pixi/core:State "+("blendMode="+this.blendMode+" ")+("clockwiseFrontFace="+this.clockwiseFrontFace+" ")+("culling="+this.culling+" ")+("depthMask="+this.depthMask+" ")+("polygonOffset="+this.polygonOffset)+"]"},e.for2d=function(){var t=new e;return t.depthTest=!1,t.blend=!0,t},e}(),k5=`attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aVertexPosition * (outputFrame.zw * inputSize.zw);
}

void main(void)
{
    gl_Position = filterVertexPosition();
    vTextureCoord = filterTextureCoord();
}
`,B5=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;

void main(void){
   gl_FragColor = texture2D(uSampler, vTextureCoord);
}
`,mo=function(e){gt(t,e);function t(r,n,i){var o=this,a=Al.from(r||t.defaultVertexSrc,n||t.defaultFragmentSrc);return o=e.call(this,a,i)||this,o.padding=0,o.resolution=Te.FILTER_RESOLUTION,o.multisample=Te.FILTER_MULTISAMPLE,o.enabled=!0,o.autoFit=!0,o.state=new ua,o}return t.prototype.apply=function(r,n,i,o,a){r.applyFilter(this,n,i,o)},Object.defineProperty(t.prototype,"blendMode",{get:function(){return this.state.blendMode},set:function(r){this.state.blendMode=r},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resolution",{get:function(){return this._resolution},set:function(r){this._resolution=r},enumerable:!1,configurable:!0}),Object.defineProperty(t,"defaultVertexSrc",{get:function(){return k5},enumerable:!1,configurable:!0}),Object.defineProperty(t,"defaultFragmentSrc",{get:function(){return B5},enumerable:!1,configurable:!0}),t}(ao),M5=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 otherMatrix;

varying vec2 vMaskCoord;
varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vMaskCoord = ( otherMatrix * vec3( aTextureCoord, 1.0)  ).xy;
}
`,D5=`varying vec2 vMaskCoord;
varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform sampler2D mask;
uniform float alpha;
uniform float npmAlpha;
uniform vec4 maskClamp;

void main(void)
{
    float clip = step(3.5,
        step(maskClamp.x, vMaskCoord.x) +
        step(maskClamp.y, vMaskCoord.y) +
        step(vMaskCoord.x, maskClamp.z) +
        step(vMaskCoord.y, maskClamp.w));

    vec4 original = texture2D(uSampler, vTextureCoord);
    vec4 masky = texture2D(mask, vMaskCoord);
    float alphaMul = 1.0 - npmAlpha * (1.0 - masky.a);

    original *= (alphaMul * masky.r * alpha * clip);

    gl_FragColor = original;
}
`,mE=new Wt,t0=function(){function e(t,r){this._texture=t,this.mapCoord=new Wt,this.uClampFrame=new Float32Array(4),this.uClampOffset=new Float32Array(2),this._textureID=-1,this._updateID=0,this.clampOffset=0,this.clampMargin=typeof r=="undefined"?.5:r,this.isSimple=!1}return Object.defineProperty(e.prototype,"texture",{get:function(){return this._texture},set:function(t){this._texture=t,this._textureID=-1},enumerable:!1,configurable:!0}),e.prototype.multiplyUvs=function(t,r){r===void 0&&(r=t);for(var n=this.mapCoord,i=0;i<t.length;i+=2){var o=t[i],a=t[i+1];r[i]=o*n.a+a*n.c+n.tx,r[i+1]=o*n.b+a*n.d+n.ty}return r},e.prototype.update=function(t){var r=this._texture;if(!r||!r.valid||!t&&this._textureID===r._updateID)return!1;this._textureID=r._updateID,this._updateID++;var n=r._uvs;this.mapCoord.set(n.x1-n.x0,n.y1-n.y0,n.x3-n.x0,n.y3-n.y0,n.x0,n.y0);var i=r.orig,o=r.trim;o&&(mE.set(i.width/o.width,0,0,i.height/o.height,-o.x/o.width,-o.y/o.height),this.mapCoord.append(mE));var a=r.baseTexture,u=this.uClampFrame,f=this.clampMargin/a.resolution,h=this.clampOffset;return u[0]=(r._frame.x+f+h)/a.width,u[1]=(r._frame.y+f+h)/a.height,u[2]=(r._frame.x+r._frame.width-f+h)/a.width,u[3]=(r._frame.y+r._frame.height-f+h)/a.height,this.uClampOffset[0]=h/a.realWidth,this.uClampOffset[1]=h/a.realHeight,this.isSimple=r._frame.width===a.width&&r._frame.height===a.height&&r.rotate===0,!0},e}(),G5=function(e){gt(t,e);function t(r,n,i){var o=this,a=null;return typeof r!="string"&&n===void 0&&i===void 0&&(a=r,r=void 0,n=void 0,i=void 0),o=e.call(this,r||M5,n||D5,i)||this,o.maskSprite=a,o.maskMatrix=new Wt,o}return Object.defineProperty(t.prototype,"maskSprite",{get:function(){return this._maskSprite},set:function(r){this._maskSprite=r,this._maskSprite&&(this._maskSprite.renderable=!1)},enumerable:!1,configurable:!0}),t.prototype.apply=function(r,n,i,o){var a=this._maskSprite,u=a._texture;!u.valid||(u.uvMatrix||(u.uvMatrix=new t0(u,0)),u.uvMatrix.update(),this.uniforms.npmAlpha=u.baseTexture.alphaMode?0:1,this.uniforms.mask=u,this.uniforms.otherMatrix=r.calculateSpriteMatrix(this.maskMatrix,a).prepend(u.uvMatrix.mapCoord),this.uniforms.alpha=a.worldAlpha,this.uniforms.maskClamp=u.uvMatrix.uClampFrame,r.applyFilter(this,n,i,o))},t}(mo),F2=function(){function e(t){this.renderer=t,this.enableScissor=!0,this.alphaMaskPool=[],this.maskDataPool=[],this.maskStack=[],this.alphaMaskIndex=0}return e.prototype.setMaskStack=function(t){this.maskStack=t,this.renderer.scissor.setMaskStack(t),this.renderer.stencil.setMaskStack(t)},e.prototype.push=function(t,r){var n=r;if(!n.isMaskData){var i=this.maskDataPool.pop()||new T5;i.pooled=!0,i.maskObject=r,n=i}var o=this.maskStack.length!==0?this.maskStack[this.maskStack.length-1]:null;if(n.copyCountersOrReset(o),n.autoDetect&&this.detect(n),n._target=t,n.type!==pr.SPRITE&&this.maskStack.push(n),n.enabled)switch(n.type){case pr.SCISSOR:this.renderer.scissor.push(n);break;case pr.STENCIL:this.renderer.stencil.push(n);break;case pr.SPRITE:n.copyCountersOrReset(null),this.pushSpriteMask(n);break}n.type===pr.SPRITE&&this.maskStack.push(n)},e.prototype.pop=function(t){var r=this.maskStack.pop();if(!(!r||r._target!==t)){if(r.enabled)switch(r.type){case pr.SCISSOR:this.renderer.scissor.pop();break;case pr.STENCIL:this.renderer.stencil.pop(r.maskObject);break;case pr.SPRITE:this.popSpriteMask(r);break}if(r.reset(),r.pooled&&this.maskDataPool.push(r),this.maskStack.length!==0){var n=this.maskStack[this.maskStack.length-1];n.type===pr.SPRITE&&n._filters&&(n._filters[0].maskSprite=n.maskObject)}}},e.prototype.detect=function(t){var r=t.maskObject;r.isSprite?t.type=pr.SPRITE:this.enableScissor&&this.renderer.scissor.testScissor(t)?t.type=pr.SCISSOR:t.type=pr.STENCIL},e.prototype.pushSpriteMask=function(t){var r,n,i=t.maskObject,o=t._target,a=t._filters;a||(a=this.alphaMaskPool[this.alphaMaskIndex],a||(a=this.alphaMaskPool[this.alphaMaskIndex]=[new G5]));var u=this.renderer,f=u.renderTexture,h,d;if(f.current){var p=f.current;h=t.resolution||p.resolution,d=(r=t.multisample)!==null&&r!==void 0?r:p.multisample}else h=t.resolution||u.resolution,d=(n=t.multisample)!==null&&n!==void 0?n:u.multisample;a[0].resolution=h,a[0].multisample=d,a[0].maskSprite=i;var v=o.filterArea;o.filterArea=i.getBounds(!0),u.filter.push(o,a),o.filterArea=v,t._filters||this.alphaMaskIndex++},e.prototype.popSpriteMask=function(t){this.renderer.filter.pop(),t._filters?t._filters[0].maskSprite=null:(this.alphaMaskIndex--,this.alphaMaskPool[this.alphaMaskIndex][0].maskSprite=null)},e.prototype.destroy=function(){this.renderer=null},e}(),U2=function(){function e(t){this.renderer=t,this.maskStack=[],this.glConst=0}return e.prototype.getStackLength=function(){return this.maskStack.length},e.prototype.setMaskStack=function(t){var r=this.renderer.gl,n=this.getStackLength();this.maskStack=t;var i=this.getStackLength();i!==n&&(i===0?r.disable(this.glConst):(r.enable(this.glConst),this._useCurrent()))},e.prototype._useCurrent=function(){},e.prototype.destroy=function(){this.renderer=null,this.maskStack=null},e}(),gE=new Wt,k2=function(e){gt(t,e);function t(r){var n=e.call(this,r)||this;return n.glConst=WebGLRenderingContext.SCISSOR_TEST,n}return t.prototype.getStackLength=function(){var r=this.maskStack[this.maskStack.length-1];return r?r._scissorCounter:0},t.prototype.calcScissorRect=function(r){if(!r._scissorRectLocal){var n=r._scissorRect,i=r.maskObject,o=this.renderer,a=o.renderTexture;i.renderable=!0;var u=i.getBounds();this.roundFrameToPixels(u,a.current?a.current.resolution:o.resolution,a.sourceFrame,a.destinationFrame,o.projection.transform),i.renderable=!1,n&&u.fit(n),r._scissorRectLocal=u}},t.isMatrixRotated=function(r){if(!r)return!1;var n=r.a,i=r.b,o=r.c,a=r.d;return(Math.abs(i)>1e-4||Math.abs(o)>1e-4)&&(Math.abs(n)>1e-4||Math.abs(a)>1e-4)},t.prototype.testScissor=function(r){var n=r.maskObject;if(!n.isFastRect||!n.isFastRect()||t.isMatrixRotated(n.worldTransform)||t.isMatrixRotated(this.renderer.projection.transform))return!1;this.calcScissorRect(r);var i=r._scissorRectLocal;return i.width>0&&i.height>0},t.prototype.roundFrameToPixels=function(r,n,i,o,a){t.isMatrixRotated(a)||(a=a?gE.copyFrom(a):gE.identity(),a.translate(-i.x,-i.y).scale(o.width/i.width,o.height/i.height).translate(o.x,o.y),this.renderer.filter.transformAABB(a,r),r.fit(o),r.x=Math.round(r.x*n),r.y=Math.round(r.y*n),r.width=Math.round(r.width*n),r.height=Math.round(r.height*n))},t.prototype.push=function(r){r._scissorRectLocal||this.calcScissorRect(r);var n=this.renderer.gl;r._scissorRect||n.enable(n.SCISSOR_TEST),r._scissorCounter++,r._scissorRect=r._scissorRectLocal,this._useCurrent()},t.prototype.pop=function(){var r=this.renderer.gl;this.getStackLength()>0?this._useCurrent():r.disable(r.SCISSOR_TEST)},t.prototype._useCurrent=function(){var r=this.maskStack[this.maskStack.length-1]._scissorRect,n;this.renderer.renderTexture.current?n=r.y:n=this.renderer.height-r.height-r.y,this.renderer.gl.scissor(r.x,n,r.width,r.height)},t}(U2),B2=function(e){gt(t,e);function t(r){var n=e.call(this,r)||this;return n.glConst=WebGLRenderingContext.STENCIL_TEST,n}return t.prototype.getStackLength=function(){var r=this.maskStack[this.maskStack.length-1];return r?r._stencilCounter:0},t.prototype.push=function(r){var n=r.maskObject,i=this.renderer.gl,o=r._stencilCounter;o===0&&(this.renderer.framebuffer.forceStencil(),i.clearStencil(0),i.clear(i.STENCIL_BUFFER_BIT),i.enable(i.STENCIL_TEST)),r._stencilCounter++,i.colorMask(!1,!1,!1,!1),i.stencilFunc(i.EQUAL,o,4294967295),i.stencilOp(i.KEEP,i.KEEP,i.INCR),n.renderable=!0,n.render(this.renderer),this.renderer.batch.flush(),n.renderable=!1,this._useCurrent()},t.prototype.pop=function(r){var n=this.renderer.gl;this.getStackLength()===0?n.disable(n.STENCIL_TEST):(n.colorMask(!1,!1,!1,!1),n.stencilOp(n.KEEP,n.KEEP,n.DECR),r.renderable=!0,r.render(this.renderer),this.renderer.batch.flush(),r.renderable=!1,this._useCurrent())},t.prototype._useCurrent=function(){var r=this.renderer.gl;r.colorMask(!0,!0,!0,!0),r.stencilFunc(r.EQUAL,this.getStackLength(),4294967295),r.stencilOp(r.KEEP,r.KEEP,r.KEEP)},t}(U2),M2=function(){function e(t){this.renderer=t,this.destinationFrame=null,this.sourceFrame=null,this.defaultFrame=null,this.projectionMatrix=new Wt,this.transform=null}return e.prototype.update=function(t,r,n,i){this.destinationFrame=t||this.destinationFrame||this.defaultFrame,this.sourceFrame=r||this.sourceFrame||t,this.calculateProjection(this.destinationFrame,this.sourceFrame,n,i),this.transform&&this.projectionMatrix.append(this.transform);var o=this.renderer;o.globalUniforms.uniforms.projectionMatrix=this.projectionMatrix,o.globalUniforms.update(),o.shader.shader&&o.shader.syncUniformGroup(o.shader.shader.uniforms.globals)},e.prototype.calculateProjection=function(t,r,n,i){var o=this.projectionMatrix,a=i?-1:1;o.identity(),o.a=1/r.width*2,o.d=a*(1/r.height*2),o.tx=-1-r.x*o.a,o.ty=-a-r.y*o.d},e.prototype.setTransform=function(t){},e.prototype.destroy=function(){this.renderer=null},e}(),Oo=new it,gu=new it,D2=function(){function e(t){this.renderer=t,this.clearColor=t._backgroundColorRgba,this.defaultMaskStack=[],this.current=null,this.sourceFrame=new it,this.destinationFrame=new it,this.viewportFrame=new it}return e.prototype.bind=function(t,r,n){t===void 0&&(t=null);var i=this.renderer;this.current=t;var o,a,u;t?(o=t.baseTexture,u=o.resolution,r||(Oo.width=t.frame.width,Oo.height=t.frame.height,r=Oo),n||(gu.x=t.frame.x,gu.y=t.frame.y,gu.width=r.width,gu.height=r.height,n=gu),a=o.framebuffer):(u=i.resolution,r||(Oo.width=i.screen.width,Oo.height=i.screen.height,r=Oo),n||(n=Oo,n.width=r.width,n.height=r.height));var f=this.viewportFrame;f.x=n.x*u,f.y=n.y*u,f.width=n.width*u,f.height=n.height*u,t||(f.y=i.view.height-(f.y+f.height)),f.ceil(),this.renderer.framebuffer.bind(a,f),this.renderer.projection.update(n,r,u,!a),t?this.renderer.mask.setMaskStack(o.maskStack):this.renderer.mask.setMaskStack(this.defaultMaskStack),this.sourceFrame.copyFrom(r),this.destinationFrame.copyFrom(n)},e.prototype.clear=function(t,r){this.current?t=t||this.current.baseTexture.clearColor:t=t||this.clearColor;var n=this.destinationFrame,i=this.current?this.current.baseTexture:this.renderer.screen,o=n.width!==i.width||n.height!==i.height;if(o){var a=this.viewportFrame,u=a.x,f=a.y,h=a.width,d=a.height;u=Math.round(u),f=Math.round(f),h=Math.round(h),d=Math.round(d),this.renderer.gl.enable(this.renderer.gl.SCISSOR_TEST),this.renderer.gl.scissor(u,f,h,d)}this.renderer.framebuffer.clear(t[0],t[1],t[2],t[3],r),o&&this.renderer.scissor.pop()},e.prototype.resize=function(){this.bind(null)},e.prototype.reset=function(){this.bind(null)},e.prototype.destroy=function(){this.renderer=null},e}();function H5(e,t,r,n,i){r.buffer.update(i)}var X5={float:`
        data[offset] = v;
    `,vec2:`
        data[offset] = v[0];
        data[offset+1] = v[1];
    `,vec3:`
        data[offset] = v[0];
        data[offset+1] = v[1];
        data[offset+2] = v[2];

    `,vec4:`
        data[offset] = v[0];
        data[offset+1] = v[1];
        data[offset+2] = v[2];
        data[offset+3] = v[3];
    `,mat2:`
        data[offset] = v[0];
        data[offset+1] = v[1];

        data[offset+4] = v[2];
        data[offset+5] = v[3];
    `,mat3:`
        data[offset] = v[0];
        data[offset+1] = v[1];
        data[offset+2] = v[2];

        data[offset + 4] = v[3];
        data[offset + 5] = v[4];
        data[offset + 6] = v[5];

        data[offset + 8] = v[6];
        data[offset + 9] = v[7];
        data[offset + 10] = v[8];
    `,mat4:`
        for(var i = 0; i < 16; i++)
        {
            data[offset + i] = v[i];
        }
    `},G2={float:4,vec2:8,vec3:12,vec4:16,int:4,ivec2:8,ivec3:12,ivec4:16,uint:4,uvec2:8,uvec3:12,uvec4:16,bool:4,bvec2:8,bvec3:12,bvec4:16,mat2:16*2,mat3:16*3,mat4:16*4};function z5(e){for(var t=e.map(function(f){return{data:f,offset:0,dataLen:0,dirty:0}}),r=0,n=0,i=0,o=0;o<t.length;o++){var a=t[o];if(r=G2[a.data.type],a.data.size>1&&(r=Math.max(r,16)*a.data.size),a.dataLen=r,n%r!==0&&n<16){var u=n%r%16;n+=u,i+=u}n+r>16?(i=Math.ceil(i/16)*16,a.offset=i,i+=r,n=r):(a.offset=i,n+=r,i+=r)}return i=Math.ceil(i/16)*16,{uboElements:t,size:i}}function V5(e,t){var r=[];for(var n in e)t[n]&&r.push(t[n]);return r.sort(function(i,o){return i.index-o.index}),r}function W5(e,t){if(!e.autoManage)return{size:0,syncFunc:H5};for(var r=V5(e.uniforms,t),n=z5(r),i=n.uboElements,o=n.size,a=[`
    var v = null;
    var v2 = null;
    var cv = null;
    var t = 0;
    var gl = renderer.gl
    var index = 0;
    var data = buffer.data;
    `],u=0;u<i.length;u++){for(var f=i[u],h=e.uniforms[f.data.name],d=f.data.name,p=!1,v=0;v<ds.length;v++){var m=ds[v];if(m.codeUbo&&m.test(f.data,h)){a.push("offset = "+f.offset/4+";",ds[v].codeUbo(f.data.name,h)),p=!0;break}}if(!p)if(f.data.size>1){var y=O2(f.data.type),E=Math.max(G2[f.data.type]/16,1),g=y/E,x=(4-g%4)%4;a.push(`
                cv = ud.`+d+`.value;
                v = uv.`+d+`;
                offset = `+f.offset/4+`;

                t = 0;

                for(var i=0; i < `+f.data.size*E+`; i++)
                {
                    for(var j = 0; j < `+g+`; j++)
                    {
                        data[offset++] = v[t++];
                    }
                    offset += `+x+`;
                }

                `)}else{var w=X5[f.data.type];a.push(`
                cv = ud.`+d+`.value;
                v = uv.`+d+`;
                offset = `+f.offset/4+`;
                `+w+`;
                `)}}return a.push(`
       renderer.buffer.update(buffer);
    `),{size:o,syncFunc:new Function("ud","uv","renderer","syncData","buffer",a.join(`
`))}}var j5=function(){function e(t,r){this.program=t,this.uniformData=r,this.uniformGroups={},this.uniformDirtyGroups={},this.uniformBufferBindings={}}return e.prototype.destroy=function(){this.uniformData=null,this.uniformGroups=null,this.uniformDirtyGroups=null,this.uniformBufferBindings=null,this.program=null},e}();function $5(e,t){for(var r={},n=t.getProgramParameter(e,t.ACTIVE_ATTRIBUTES),i=0;i<n;i++){var o=t.getActiveAttrib(e,i);if(o.name.indexOf("gl_")!==0){var a=L2(t,o.type),u={type:a,name:o.name,size:O2(a),location:t.getAttribLocation(e,o.name)};r[o.name]=u}}return r}function Y5(e,t){for(var r={},n=t.getProgramParameter(e,t.ACTIVE_UNIFORMS),i=0;i<n;i++){var o=t.getActiveUniform(e,i),a=o.name.replace(/\[.*?\]$/,""),u=!!o.name.match(/\[.*?\]$/),f=L2(t,o.type);r[a]={name:a,index:i,type:f,size:o.size,isArray:u,value:P2(f,o.size)}}return r}function q5(e,t){var r=dE(e,e.VERTEX_SHADER,t.vertexSrc),n=dE(e,e.FRAGMENT_SHADER,t.fragmentSrc),i=e.createProgram();if(e.attachShader(i,r),e.attachShader(i,n),e.linkProgram(i),e.getProgramParameter(i,e.LINK_STATUS)||E5(e,i,r,n),t.attributeData=$5(i,e),t.uniformData=Y5(i,e),!/^[ \t]*#[ \t]*version[ \t]+300[ \t]+es[ \t]*$/m.test(t.vertexSrc)){var o=Object.keys(t.attributeData);o.sort(function(d,p){return d>p?1:-1});for(var a=0;a<o.length;a++)t.attributeData[o[a]].location=a,e.bindAttribLocation(i,a,o[a]);e.linkProgram(i)}e.deleteShader(r),e.deleteShader(n);var u={};for(var a in t.uniformData){var f=t.uniformData[a];u[a]={location:e.getUniformLocation(i,a),value:P2(f.type,f.size)}}var h=new j5(i,u);return h}var K5=0,hh={textureCount:0,uboCount:0},H2=function(){function e(t){this.destroyed=!1,this.renderer=t,this.systemCheck(),this.gl=null,this.shader=null,this.program=null,this.cache={},this._uboCache={},this.id=K5++}return e.prototype.systemCheck=function(){if(!O5())throw new Error("Current environment does not allow unsafe-eval, please use @pixi/unsafe-eval module to enable support.")},e.prototype.contextChange=function(t){this.gl=t,this.reset()},e.prototype.bind=function(t,r){t.uniforms.globals=this.renderer.globalUniforms;var n=t.program,i=n.glPrograms[this.renderer.CONTEXT_UID]||this.generateProgram(t);return this.shader=t,this.program!==n&&(this.program=n,this.gl.useProgram(i.program)),r||(hh.textureCount=0,hh.uboCount=0,this.syncUniformGroup(t.uniformGroup,hh)),i},e.prototype.setUniforms=function(t){var r=this.shader.program,n=r.glPrograms[this.renderer.CONTEXT_UID];r.syncUniforms(n.uniformData,t,this.renderer)},e.prototype.syncUniformGroup=function(t,r){var n=this.getGlProgram();(!t.static||t.dirtyId!==n.uniformDirtyGroups[t.id])&&(n.uniformDirtyGroups[t.id]=t.dirtyId,this.syncUniforms(t,n,r))},e.prototype.syncUniforms=function(t,r,n){var i=t.syncUniforms[this.shader.program.id]||this.createSyncGroups(t);i(r.uniformData,t.uniforms,this.renderer,n)},e.prototype.createSyncGroups=function(t){var r=this.getSignature(t,this.shader.program.uniformData,"u");return this.cache[r]||(this.cache[r]=R5(t,this.shader.program.uniformData)),t.syncUniforms[this.shader.program.id]=this.cache[r],t.syncUniforms[this.shader.program.id]},e.prototype.syncUniformBufferGroup=function(t,r){var n=this.getGlProgram();if(!t.static||t.dirtyId!==0||!n.uniformGroups[t.id]){t.dirtyId=0;var i=n.uniformGroups[t.id]||this.createSyncBufferGroup(t,n,r);t.buffer.update(),i(n.uniformData,t.uniforms,this.renderer,hh,t.buffer)}this.renderer.buffer.bindBufferBase(t.buffer,n.uniformBufferBindings[r])},e.prototype.createSyncBufferGroup=function(t,r,n){var i=this.renderer.gl;this.renderer.buffer.bind(t.buffer);var o=this.gl.getUniformBlockIndex(r.program,n);r.uniformBufferBindings[n]=this.shader.uniformBindCount,i.uniformBlockBinding(r.program,o,this.shader.uniformBindCount),this.shader.uniformBindCount++;var a=this.getSignature(t,this.shader.program.uniformData,"ubo"),u=this._uboCache[a];if(u||(u=this._uboCache[a]=W5(t,this.shader.program.uniformData)),t.autoManage){var f=new Float32Array(u.size/4);t.buffer.update(f)}return r.uniformGroups[t.id]=u.syncFunc,r.uniformGroups[t.id]},e.prototype.getSignature=function(t,r,n){var i=t.uniforms,o=[n+"-"];for(var a in i)o.push(a),r[a]&&o.push(r[a].type);return o.join("-")},e.prototype.getGlProgram=function(){return this.shader?this.shader.program.glPrograms[this.renderer.CONTEXT_UID]:null},e.prototype.generateProgram=function(t){var r=this.gl,n=t.program,i=q5(r,n);return n.glPrograms[this.renderer.CONTEXT_UID]=i,i},e.prototype.reset=function(){this.program=null,this.shader=null},e.prototype.destroy=function(){this.renderer=null,this.destroyed=!0},e}();function Z5(e,t){return t===void 0&&(t=[]),t[be.NORMAL]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[be.ADD]=[e.ONE,e.ONE],t[be.MULTIPLY]=[e.DST_COLOR,e.ONE_MINUS_SRC_ALPHA,e.ONE,e.ONE_MINUS_SRC_ALPHA],t[be.SCREEN]=[e.ONE,e.ONE_MINUS_SRC_COLOR,e.ONE,e.ONE_MINUS_SRC_ALPHA],t[be.OVERLAY]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[be.DARKEN]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[be.LIGHTEN]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[be.COLOR_DODGE]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[be.COLOR_BURN]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[be.HARD_LIGHT]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[be.SOFT_LIGHT]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[be.DIFFERENCE]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[be.EXCLUSION]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[be.HUE]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[be.SATURATION]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[be.COLOR]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[be.LUMINOSITY]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[be.NONE]=[0,0],t[be.NORMAL_NPM]=[e.SRC_ALPHA,e.ONE_MINUS_SRC_ALPHA,e.ONE,e.ONE_MINUS_SRC_ALPHA],t[be.ADD_NPM]=[e.SRC_ALPHA,e.ONE,e.ONE,e.ONE],t[be.SCREEN_NPM]=[e.SRC_ALPHA,e.ONE_MINUS_SRC_COLOR,e.ONE,e.ONE_MINUS_SRC_ALPHA],t[be.SRC_IN]=[e.DST_ALPHA,e.ZERO],t[be.SRC_OUT]=[e.ONE_MINUS_DST_ALPHA,e.ZERO],t[be.SRC_ATOP]=[e.DST_ALPHA,e.ONE_MINUS_SRC_ALPHA],t[be.DST_OVER]=[e.ONE_MINUS_DST_ALPHA,e.ONE],t[be.DST_IN]=[e.ZERO,e.SRC_ALPHA],t[be.DST_OUT]=[e.ZERO,e.ONE_MINUS_SRC_ALPHA],t[be.DST_ATOP]=[e.ONE_MINUS_DST_ALPHA,e.SRC_ALPHA],t[be.XOR]=[e.ONE_MINUS_DST_ALPHA,e.ONE_MINUS_SRC_ALPHA],t[be.SUBTRACT]=[e.ONE,e.ONE,e.ONE,e.ONE,e.FUNC_REVERSE_SUBTRACT,e.FUNC_ADD],t}var J5=0,Q5=1,eG=2,tG=3,rG=4,nG=5,X2=function(){function e(){this.gl=null,this.stateId=0,this.polygonOffset=0,this.blendMode=be.NONE,this._blendEq=!1,this.map=[],this.map[J5]=this.setBlend,this.map[Q5]=this.setOffset,this.map[eG]=this.setCullFace,this.map[tG]=this.setDepthTest,this.map[rG]=this.setFrontFace,this.map[nG]=this.setDepthMask,this.checks=[],this.defaultState=new ua,this.defaultState.blend=!0}return e.prototype.contextChange=function(t){this.gl=t,this.blendModes=Z5(t),this.set(this.defaultState),this.reset()},e.prototype.set=function(t){if(t=t||this.defaultState,this.stateId!==t.data){for(var r=this.stateId^t.data,n=0;r;)r&1&&this.map[n].call(this,!!(t.data&1<<n)),r=r>>1,n++;this.stateId=t.data}for(var n=0;n<this.checks.length;n++)this.checks[n](this,t)},e.prototype.forceState=function(t){t=t||this.defaultState;for(var r=0;r<this.map.length;r++)this.map[r].call(this,!!(t.data&1<<r));for(var r=0;r<this.checks.length;r++)this.checks[r](this,t);this.stateId=t.data},e.prototype.setBlend=function(t){this.updateCheck(e.checkBlendMode,t),this.gl[t?"enable":"disable"](this.gl.BLEND)},e.prototype.setOffset=function(t){this.updateCheck(e.checkPolygonOffset,t),this.gl[t?"enable":"disable"](this.gl.POLYGON_OFFSET_FILL)},e.prototype.setDepthTest=function(t){this.gl[t?"enable":"disable"](this.gl.DEPTH_TEST)},e.prototype.setDepthMask=function(t){this.gl.depthMask(t)},e.prototype.setCullFace=function(t){this.gl[t?"enable":"disable"](this.gl.CULL_FACE)},e.prototype.setFrontFace=function(t){this.gl.frontFace(this.gl[t?"CW":"CCW"])},e.prototype.setBlendMode=function(t){if(t!==this.blendMode){this.blendMode=t;var r=this.blendModes[t],n=this.gl;r.length===2?n.blendFunc(r[0],r[1]):n.blendFuncSeparate(r[0],r[1],r[2],r[3]),r.length===6?(this._blendEq=!0,n.blendEquationSeparate(r[4],r[5])):this._blendEq&&(this._blendEq=!1,n.blendEquationSeparate(n.FUNC_ADD,n.FUNC_ADD))}},e.prototype.setPolygonOffset=function(t,r){this.gl.polygonOffset(t,r)},e.prototype.reset=function(){this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL,!1),this.forceState(this.defaultState),this._blendEq=!0,this.blendMode=-1,this.setBlendMode(0)},e.prototype.updateCheck=function(t,r){var n=this.checks.indexOf(t);r&&n===-1?this.checks.push(t):!r&&n!==-1&&this.checks.splice(n,1)},e.checkBlendMode=function(t,r){t.setBlendMode(r.blendMode)},e.checkPolygonOffset=function(t,r){t.setPolygonOffset(1,r.polygonOffset)},e.prototype.destroy=function(){this.gl=null},e}(),z2=function(){function e(t){this.renderer=t,this.count=0,this.checkCount=0,this.maxIdle=Te.GC_MAX_IDLE,this.checkCountMax=Te.GC_MAX_CHECK_COUNT,this.mode=Te.GC_MODE}return e.prototype.postrender=function(){!this.renderer.renderingToScreen||(this.count++,this.mode!==em.MANUAL&&(this.checkCount++,this.checkCount>this.checkCountMax&&(this.checkCount=0,this.run())))},e.prototype.run=function(){for(var t=this.renderer.texture,r=t.managedTextures,n=!1,i=0;i<r.length;i++){var o=r[i];!o.framebuffer&&this.count-o.touched>this.maxIdle&&(t.destroyTexture(o,!0),r[i]=null,n=!0)}if(n){for(var a=0,i=0;i<r.length;i++)r[i]!==null&&(r[a++]=r[i]);r.length=a}},e.prototype.unload=function(t){var r=this.renderer.texture,n=t._texture;n&&!n.framebuffer&&r.destroyTexture(n);for(var i=t.children.length-1;i>=0;i--)this.unload(t.children[i])},e.prototype.destroy=function(){this.renderer=null},e}();function iG(e){var t,r,n,i,o,a,u,f,h,d,p,v,m,y,E,g,x,w,N,O,R,I,B;return"WebGL2RenderingContext"in globalThis&&e instanceof globalThis.WebGL2RenderingContext?B=(t={},t[we.UNSIGNED_BYTE]=(r={},r[oe.RGBA]=e.RGBA8,r[oe.RGB]=e.RGB8,r[oe.RG]=e.RG8,r[oe.RED]=e.R8,r[oe.RGBA_INTEGER]=e.RGBA8UI,r[oe.RGB_INTEGER]=e.RGB8UI,r[oe.RG_INTEGER]=e.RG8UI,r[oe.RED_INTEGER]=e.R8UI,r[oe.ALPHA]=e.ALPHA,r[oe.LUMINANCE]=e.LUMINANCE,r[oe.LUMINANCE_ALPHA]=e.LUMINANCE_ALPHA,r),t[we.BYTE]=(n={},n[oe.RGBA]=e.RGBA8_SNORM,n[oe.RGB]=e.RGB8_SNORM,n[oe.RG]=e.RG8_SNORM,n[oe.RED]=e.R8_SNORM,n[oe.RGBA_INTEGER]=e.RGBA8I,n[oe.RGB_INTEGER]=e.RGB8I,n[oe.RG_INTEGER]=e.RG8I,n[oe.RED_INTEGER]=e.R8I,n),t[we.UNSIGNED_SHORT]=(i={},i[oe.RGBA_INTEGER]=e.RGBA16UI,i[oe.RGB_INTEGER]=e.RGB16UI,i[oe.RG_INTEGER]=e.RG16UI,i[oe.RED_INTEGER]=e.R16UI,i[oe.DEPTH_COMPONENT]=e.DEPTH_COMPONENT16,i),t[we.SHORT]=(o={},o[oe.RGBA_INTEGER]=e.RGBA16I,o[oe.RGB_INTEGER]=e.RGB16I,o[oe.RG_INTEGER]=e.RG16I,o[oe.RED_INTEGER]=e.R16I,o),t[we.UNSIGNED_INT]=(a={},a[oe.RGBA_INTEGER]=e.RGBA32UI,a[oe.RGB_INTEGER]=e.RGB32UI,a[oe.RG_INTEGER]=e.RG32UI,a[oe.RED_INTEGER]=e.R32UI,a[oe.DEPTH_COMPONENT]=e.DEPTH_COMPONENT24,a),t[we.INT]=(u={},u[oe.RGBA_INTEGER]=e.RGBA32I,u[oe.RGB_INTEGER]=e.RGB32I,u[oe.RG_INTEGER]=e.RG32I,u[oe.RED_INTEGER]=e.R32I,u),t[we.FLOAT]=(f={},f[oe.RGBA]=e.RGBA32F,f[oe.RGB]=e.RGB32F,f[oe.RG]=e.RG32F,f[oe.RED]=e.R32F,f[oe.DEPTH_COMPONENT]=e.DEPTH_COMPONENT32F,f),t[we.HALF_FLOAT]=(h={},h[oe.RGBA]=e.RGBA16F,h[oe.RGB]=e.RGB16F,h[oe.RG]=e.RG16F,h[oe.RED]=e.R16F,h),t[we.UNSIGNED_SHORT_5_6_5]=(d={},d[oe.RGB]=e.RGB565,d),t[we.UNSIGNED_SHORT_4_4_4_4]=(p={},p[oe.RGBA]=e.RGBA4,p),t[we.UNSIGNED_SHORT_5_5_5_1]=(v={},v[oe.RGBA]=e.RGB5_A1,v),t[we.UNSIGNED_INT_2_10_10_10_REV]=(m={},m[oe.RGBA]=e.RGB10_A2,m[oe.RGBA_INTEGER]=e.RGB10_A2UI,m),t[we.UNSIGNED_INT_10F_11F_11F_REV]=(y={},y[oe.RGB]=e.R11F_G11F_B10F,y),t[we.UNSIGNED_INT_5_9_9_9_REV]=(E={},E[oe.RGB]=e.RGB9_E5,E),t[we.UNSIGNED_INT_24_8]=(g={},g[oe.DEPTH_STENCIL]=e.DEPTH24_STENCIL8,g),t[we.FLOAT_32_UNSIGNED_INT_24_8_REV]=(x={},x[oe.DEPTH_STENCIL]=e.DEPTH32F_STENCIL8,x),t):B=(w={},w[we.UNSIGNED_BYTE]=(N={},N[oe.RGBA]=e.RGBA,N[oe.RGB]=e.RGB,N[oe.ALPHA]=e.ALPHA,N[oe.LUMINANCE]=e.LUMINANCE,N[oe.LUMINANCE_ALPHA]=e.LUMINANCE_ALPHA,N),w[we.UNSIGNED_SHORT_5_6_5]=(O={},O[oe.RGB]=e.RGB,O),w[we.UNSIGNED_SHORT_4_4_4_4]=(R={},R[oe.RGBA]=e.RGBA,R),w[we.UNSIGNED_SHORT_5_5_5_1]=(I={},I[oe.RGBA]=e.RGBA,I),w),B}var Lv=function(){function e(t){this.texture=t,this.width=-1,this.height=-1,this.dirtyId=-1,this.dirtyStyleId=-1,this.mipmap=!1,this.wrapMode=33071,this.type=we.UNSIGNED_BYTE,this.internalFormat=oe.RGBA,this.samplerType=0}return e}(),V2=function(){function e(t){this.renderer=t,this.boundTextures=[],this.currentLocation=-1,this.managedTextures=[],this._unknownBoundTextures=!1,this.unknownTexture=new Qe,this.hasIntegerTextures=!1}return e.prototype.contextChange=function(){var t=this.gl=this.renderer.gl;this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.webGLVersion=this.renderer.context.webGLVersion,this.internalFormats=iG(t);var r=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS);this.boundTextures.length=r;for(var n=0;n<r;n++)this.boundTextures[n]=null;this.emptyTextures={};var i=new Lv(t.createTexture());t.bindTexture(t.TEXTURE_2D,i.texture),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,1,1,0,t.RGBA,t.UNSIGNED_BYTE,new Uint8Array(4)),this.emptyTextures[t.TEXTURE_2D]=i,this.emptyTextures[t.TEXTURE_CUBE_MAP]=new Lv(t.createTexture()),t.bindTexture(t.TEXTURE_CUBE_MAP,this.emptyTextures[t.TEXTURE_CUBE_MAP].texture);for(var n=0;n<6;n++)t.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+n,0,t.RGBA,1,1,0,t.RGBA,t.UNSIGNED_BYTE,null);t.texParameteri(t.TEXTURE_CUBE_MAP,t.TEXTURE_MAG_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_CUBE_MAP,t.TEXTURE_MIN_FILTER,t.LINEAR);for(var n=0;n<this.boundTextures.length;n++)this.bind(null,n)},e.prototype.bind=function(t,r){r===void 0&&(r=0);var n=this.gl;if(t=t==null?void 0:t.castToBaseTexture(),t&&t.valid&&!t.parentTextureArray){t.touched=this.renderer.textureGC.count;var i=t._glTextures[this.CONTEXT_UID]||this.initTexture(t);this.boundTextures[r]!==t&&(this.currentLocation!==r&&(this.currentLocation=r,n.activeTexture(n.TEXTURE0+r)),n.bindTexture(t.target,i.texture)),i.dirtyId!==t.dirtyId&&(this.currentLocation!==r&&(this.currentLocation=r,n.activeTexture(n.TEXTURE0+r)),this.updateTexture(t)),this.boundTextures[r]=t}else this.currentLocation!==r&&(this.currentLocation=r,n.activeTexture(n.TEXTURE0+r)),n.bindTexture(n.TEXTURE_2D,this.emptyTextures[n.TEXTURE_2D].texture),this.boundTextures[r]=null},e.prototype.reset=function(){this._unknownBoundTextures=!0,this.hasIntegerTextures=!1,this.currentLocation=-1;for(var t=0;t<this.boundTextures.length;t++)this.boundTextures[t]=this.unknownTexture},e.prototype.unbind=function(t){var r=this,n=r.gl,i=r.boundTextures;if(this._unknownBoundTextures){this._unknownBoundTextures=!1;for(var o=0;o<i.length;o++)i[o]===this.unknownTexture&&this.bind(null,o)}for(var o=0;o<i.length;o++)i[o]===t&&(this.currentLocation!==o&&(n.activeTexture(n.TEXTURE0+o),this.currentLocation=o),n.bindTexture(t.target,this.emptyTextures[t.target].texture),i[o]=null)},e.prototype.ensureSamplerType=function(t){var r=this,n=r.boundTextures,i=r.hasIntegerTextures,o=r.CONTEXT_UID;if(!!i)for(var a=t-1;a>=0;--a){var u=n[a];if(u){var f=u._glTextures[o];f.samplerType!==cc.FLOAT&&this.renderer.texture.unbind(u)}}},e.prototype.initTexture=function(t){var r=new Lv(this.gl.createTexture());return r.dirtyId=-1,t._glTextures[this.CONTEXT_UID]=r,this.managedTextures.push(t),t.on("dispose",this.destroyTexture,this),r},e.prototype.initTextureType=function(t,r){var n,i;r.internalFormat=(i=(n=this.internalFormats[t.type])===null||n===void 0?void 0:n[t.format])!==null&&i!==void 0?i:t.format,this.webGLVersion===2&&t.type===we.HALF_FLOAT?r.type=this.gl.HALF_FLOAT:r.type=t.type},e.prototype.updateTexture=function(t){var r=t._glTextures[this.CONTEXT_UID];if(!!r){var n=this.renderer;if(this.initTextureType(t,r),t.resource&&t.resource.upload(n,t,r))r.samplerType!==cc.FLOAT&&(this.hasIntegerTextures=!0);else{var i=t.realWidth,o=t.realHeight,a=n.gl;(r.width!==i||r.height!==o||r.dirtyId<0)&&(r.width=i,r.height=o,a.texImage2D(t.target,0,r.internalFormat,i,o,0,t.format,r.type,null))}t.dirtyStyleId!==r.dirtyStyleId&&this.updateTextureStyle(t),r.dirtyId=t.dirtyId}},e.prototype.destroyTexture=function(t,r){var n=this.gl;if(t=t.castToBaseTexture(),t._glTextures[this.CONTEXT_UID]&&(this.unbind(t),n.deleteTexture(t._glTextures[this.CONTEXT_UID].texture),t.off("dispose",this.destroyTexture,this),delete t._glTextures[this.CONTEXT_UID],!r)){var i=this.managedTextures.indexOf(t);i!==-1&&cs(this.managedTextures,i,1)}},e.prototype.updateTextureStyle=function(t){var r=t._glTextures[this.CONTEXT_UID];!r||((t.mipmap===wi.POW2||this.webGLVersion!==2)&&!t.isPowerOfTwo?r.mipmap=!1:r.mipmap=t.mipmap>=1,this.webGLVersion!==2&&!t.isPowerOfTwo?r.wrapMode=xi.CLAMP:r.wrapMode=t.wrapMode,t.resource&&t.resource.style(this.renderer,t,r)||this.setStyle(t,r),r.dirtyStyleId=t.dirtyStyleId)},e.prototype.setStyle=function(t,r){var n=this.gl;if(r.mipmap&&t.mipmap!==wi.ON_MANUAL&&n.generateMipmap(t.target),n.texParameteri(t.target,n.TEXTURE_WRAP_S,r.wrapMode),n.texParameteri(t.target,n.TEXTURE_WRAP_T,r.wrapMode),r.mipmap){n.texParameteri(t.target,n.TEXTURE_MIN_FILTER,t.scaleMode===gi.LINEAR?n.LINEAR_MIPMAP_LINEAR:n.NEAREST_MIPMAP_NEAREST);var i=this.renderer.context.extensions.anisotropicFiltering;if(i&&t.anisotropicLevel>0&&t.scaleMode===gi.LINEAR){var o=Math.min(t.anisotropicLevel,n.getParameter(i.MAX_TEXTURE_MAX_ANISOTROPY_EXT));n.texParameterf(t.target,i.TEXTURE_MAX_ANISOTROPY_EXT,o)}}else n.texParameteri(t.target,n.TEXTURE_MIN_FILTER,t.scaleMode===gi.LINEAR?n.LINEAR:n.NEAREST);n.texParameteri(t.target,n.TEXTURE_MAG_FILTER,t.scaleMode===gi.LINEAR?n.LINEAR:n.NEAREST)},e.prototype.destroy=function(){this.renderer=null},e}(),W2={__proto__:null,FilterSystem:S2,BatchSystem:C2,ContextSystem:I2,FramebufferSystem:R2,GeometrySystem:N2,MaskSystem:F2,ScissorSystem:k2,StencilSystem:B2,ProjectionSystem:M2,RenderTextureSystem:D2,ShaderSystem:H2,StateSystem:X2,TextureGCSystem:z2,TextureSystem:V2},Fv=new Wt,oG=function(e){gt(t,e);function t(r,n){r===void 0&&(r=hl.UNKNOWN);var i=e.call(this)||this;return n=Object.assign({},Te.RENDER_OPTIONS,n),i.options=n,i.type=r,i.screen=new it(0,0,n.width,n.height),i.view=n.view||document.createElement("canvas"),i.resolution=n.resolution||Te.RESOLUTION,i.useContextAlpha=n.useContextAlpha,i.autoDensity=!!n.autoDensity,i.preserveDrawingBuffer=n.preserveDrawingBuffer,i.clearBeforeRender=n.clearBeforeRender,i._backgroundColor=0,i._backgroundColorRgba=[0,0,0,1],i._backgroundColorString="#000000",i.backgroundColor=n.backgroundColor||i._backgroundColor,i.backgroundAlpha=n.backgroundAlpha,n.transparent!==void 0&&(ea("6.0.0","Option transparent is deprecated, please use backgroundAlpha instead."),i.useContextAlpha=n.transparent,i.backgroundAlpha=n.transparent?0:1),i._lastObjectRendered=null,i.plugins={},i}return t.prototype.initPlugins=function(r){for(var n in r)this.plugins[n]=new r[n](this)},Object.defineProperty(t.prototype,"width",{get:function(){return this.view.width},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this.view.height},enumerable:!1,configurable:!0}),t.prototype.resize=function(r,n){this.view.width=Math.round(r*this.resolution),this.view.height=Math.round(n*this.resolution);var i=this.view.width/this.resolution,o=this.view.height/this.resolution;this.screen.width=i,this.screen.height=o,this.autoDensity&&(this.view.style.width=i+"px",this.view.style.height=o+"px"),this.emit("resize",i,o)},t.prototype.generateTexture=function(r,n,i,o){n===void 0&&(n={}),typeof n=="number"&&(ea("6.1.0","generateTexture options (scaleMode, resolution, region) are now object options."),n={scaleMode:n,resolution:i,region:o});var a=n.region,u=a5(n,["region"]);o=a||r.getLocalBounds(null,!0),o.width===0&&(o.width=1),o.height===0&&(o.height=1);var f=ta.create(am({width:o.width,height:o.height},u));return Fv.tx=-o.x,Fv.ty=-o.y,this.render(r,{renderTexture:f,clear:!1,transform:Fv,skipUpdateTransform:!!r.parent}),f},t.prototype.destroy=function(r){for(var n in this.plugins)this.plugins[n].destroy(),this.plugins[n]=null;r&&this.view.parentNode&&this.view.parentNode.removeChild(this.view);var i=this;i.plugins=null,i.type=hl.UNKNOWN,i.view=null,i.screen=null,i._tempDisplayObjectParent=null,i.options=null,this._backgroundColorRgba=null,this._backgroundColorString=null,this._lastObjectRendered=null},Object.defineProperty(t.prototype,"backgroundColor",{get:function(){return this._backgroundColor},set:function(r){this._backgroundColor=r,this._backgroundColorString=s2(r),Es(r,this._backgroundColorRgba)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"backgroundAlpha",{get:function(){return this._backgroundColorRgba[3]},set:function(r){this._backgroundColorRgba[3]=r},enumerable:!1,configurable:!0}),t}(Nl),aG=function(){function e(t){this.buffer=t||null,this.updateID=-1,this.byteLength=-1,this.refCount=0}return e}(),sG=function(){function e(t){this.renderer=t,this.managedBuffers={},this.boundBufferBases={}}return e.prototype.destroy=function(){this.renderer=null},e.prototype.contextChange=function(){this.disposeAll(!0),this.gl=this.renderer.gl,this.CONTEXT_UID=this.renderer.CONTEXT_UID},e.prototype.bind=function(t){var r=this,n=r.gl,i=r.CONTEXT_UID,o=t._glBuffers[i]||this.createGLBuffer(t);n.bindBuffer(t.type,o.buffer)},e.prototype.bindBufferBase=function(t,r){var n=this,i=n.gl,o=n.CONTEXT_UID;if(this.boundBufferBases[r]!==t){var a=t._glBuffers[o]||this.createGLBuffer(t);this.boundBufferBases[r]=t,i.bindBufferBase(i.UNIFORM_BUFFER,r,a.buffer)}},e.prototype.bindBufferRange=function(t,r,n){var i=this,o=i.gl,a=i.CONTEXT_UID;n=n||0;var u=t._glBuffers[a]||this.createGLBuffer(t);o.bindBufferRange(o.UNIFORM_BUFFER,r||0,u.buffer,n*256,256)},e.prototype.update=function(t){var r=this,n=r.gl,i=r.CONTEXT_UID,o=t._glBuffers[i];if(t._updateID!==o.updateID)if(o.updateID=t._updateID,n.bindBuffer(t.type,o.buffer),o.byteLength>=t.data.byteLength)n.bufferSubData(t.type,0,t.data);else{var a=t.static?n.STATIC_DRAW:n.DYNAMIC_DRAW;o.byteLength=t.data.byteLength,n.bufferData(t.type,t.data,a)}},e.prototype.dispose=function(t,r){if(!!this.managedBuffers[t.id]){delete this.managedBuffers[t.id];var n=t._glBuffers[this.CONTEXT_UID],i=this.gl;t.disposeRunner.remove(this),n&&(r||i.deleteBuffer(n.buffer),delete t._glBuffers[this.CONTEXT_UID])}},e.prototype.disposeAll=function(t){for(var r=Object.keys(this.managedBuffers),n=0;n<r.length;n++)this.dispose(this.managedBuffers[r[n]],t)},e.prototype.createGLBuffer=function(t){var r=this,n=r.CONTEXT_UID,i=r.gl;return t._glBuffers[n]=new aG(i.createBuffer()),this.managedBuffers[t.id]=t,t.disposeRunner.add(this),t._glBuffers[n]},e}(),go=function(e){gt(t,e);function t(r){var n=e.call(this,hl.WEBGL,r)||this;return r=n.options,n.gl=null,n.CONTEXT_UID=0,n.runners={destroy:new _r("destroy"),contextChange:new _r("contextChange"),reset:new _r("reset"),update:new _r("update"),postrender:new _r("postrender"),prerender:new _r("prerender"),resize:new _r("resize")},n.runners.contextChange.add(n),n.globalUniforms=new qo({projectionMatrix:new Wt},!0),n.addSystem(F2,"mask").addSystem(I2,"context").addSystem(X2,"state").addSystem(H2,"shader").addSystem(V2,"texture").addSystem(sG,"buffer").addSystem(N2,"geometry").addSystem(R2,"framebuffer").addSystem(k2,"scissor").addSystem(B2,"stencil").addSystem(M2,"projection").addSystem(z2,"textureGC").addSystem(S2,"filter").addSystem(D2,"renderTexture").addSystem(C2,"batch"),n.initPlugins(t.__plugins),n.multisample=void 0,r.context?n.context.initFromContext(r.context):n.context.initFromOptions({alpha:!!n.useContextAlpha,antialias:r.antialias,premultipliedAlpha:n.useContextAlpha&&n.useContextAlpha!=="notMultiplied",stencil:!0,preserveDrawingBuffer:r.preserveDrawingBuffer,powerPreference:n.options.powerPreference}),n.renderingToScreen=!0,VB(n.context.webGLVersion===2?"WebGL 2":"WebGL 1"),n.resize(n.options.width,n.options.height),n}return t.create=function(r){if(WB())return new t(r);throw new Error('WebGL unsupported in this browser, use "pixi.js-legacy" for fallback canvas2d support.')},t.prototype.contextChange=function(){var r=this.gl,n;if(this.context.webGLVersion===1){var i=r.getParameter(r.FRAMEBUFFER_BINDING);r.bindFramebuffer(r.FRAMEBUFFER,null),n=r.getParameter(r.SAMPLES),r.bindFramebuffer(r.FRAMEBUFFER,i)}else{var i=r.getParameter(r.DRAW_FRAMEBUFFER_BINDING);r.bindFramebuffer(r.DRAW_FRAMEBUFFER,null),n=r.getParameter(r.SAMPLES),r.bindFramebuffer(r.DRAW_FRAMEBUFFER,i)}n>=$t.HIGH?this.multisample=$t.HIGH:n>=$t.MEDIUM?this.multisample=$t.MEDIUM:n>=$t.LOW?this.multisample=$t.LOW:this.multisample=$t.NONE},t.prototype.addSystem=function(r,n){var i=new r(this);if(this[n])throw new Error('Whoops! The name "'+n+'" is already in use');this[n]=i;for(var o in this.runners)this.runners[o].add(i);return this},t.prototype.render=function(r,n){var i,o,a,u;if(n&&(n instanceof ta?(ea("6.0.0","Renderer#render arguments changed, use options instead."),i=n,o=arguments[2],a=arguments[3],u=arguments[4]):(i=n.renderTexture,o=n.clear,a=n.transform,u=n.skipUpdateTransform)),this.renderingToScreen=!i,this.runners.prerender.emit(),this.emit("prerender"),this.projection.transform=a,!this.context.isLost){if(i||(this._lastObjectRendered=r),!u){var f=r.enableTempParent();r.updateTransform(),r.disableTempParent(f)}this.renderTexture.bind(i),this.batch.currentRenderer.start(),(o!==void 0?o:this.clearBeforeRender)&&this.renderTexture.clear(),r.render(this),this.batch.currentRenderer.flush(),i&&i.baseTexture.update(),this.runners.postrender.emit(),this.projection.transform=null,this.emit("postrender")}},t.prototype.generateTexture=function(r,n,i,o){n===void 0&&(n={});var a=e.prototype.generateTexture.call(this,r,n,i,o);return this.framebuffer.blit(),a},t.prototype.resize=function(r,n){e.prototype.resize.call(this,r,n),this.runners.resize.emit(this.screen.height,this.screen.width)},t.prototype.reset=function(){return this.runners.reset.emit(),this},t.prototype.clear=function(){this.renderTexture.bind(),this.renderTexture.clear()},t.prototype.destroy=function(r){this.runners.destroy.emit();for(var n in this.runners)this.runners[n].destroy();e.prototype.destroy.call(this,r),this.gl=null},Object.defineProperty(t.prototype,"extract",{get:function(){return ea("6.0.0","Renderer#extract has been deprecated, please use Renderer#plugins.extract instead."),this.plugins.extract},enumerable:!1,configurable:!0}),t.registerPlugin=function(r,n){t.__plugins=t.__plugins||{},t.__plugins[r]=n},t}(oG);function uG(e){return go.create(e)}var lG=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,fG=`attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aVertexPosition * (outputFrame.zw * inputSize.zw);
}

void main(void)
{
    gl_Position = filterVertexPosition();
    vTextureCoord = filterTextureCoord();
}
`,hG=lG,j2=fG,um=function(){function e(){this.texArray=null,this.blend=0,this.type=Pn.TRIANGLES,this.start=0,this.size=0,this.data=null}return e}(),lm=function(){function e(){this.elements=[],this.ids=[],this.count=0}return e.prototype.clear=function(){for(var t=0;t<this.count;t++)this.elements[t]=null;this.count=0},e}(),fm=function(){function e(t){typeof t=="number"?this.rawBinaryData=new ArrayBuffer(t):t instanceof Uint8Array?this.rawBinaryData=t.buffer:this.rawBinaryData=t,this.uint32View=new Uint32Array(this.rawBinaryData),this.float32View=new Float32Array(this.rawBinaryData)}return Object.defineProperty(e.prototype,"int8View",{get:function(){return this._int8View||(this._int8View=new Int8Array(this.rawBinaryData)),this._int8View},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"uint8View",{get:function(){return this._uint8View||(this._uint8View=new Uint8Array(this.rawBinaryData)),this._uint8View},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"int16View",{get:function(){return this._int16View||(this._int16View=new Int16Array(this.rawBinaryData)),this._int16View},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"uint16View",{get:function(){return this._uint16View||(this._uint16View=new Uint16Array(this.rawBinaryData)),this._uint16View},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"int32View",{get:function(){return this._int32View||(this._int32View=new Int32Array(this.rawBinaryData)),this._int32View},enumerable:!1,configurable:!0}),e.prototype.view=function(t){return this[t+"View"]},e.prototype.destroy=function(){this.rawBinaryData=null,this._int8View=null,this._uint8View=null,this._int16View=null,this._uint16View=null,this._int32View=null,this.uint32View=null,this.float32View=null},e.sizeOf=function(t){switch(t){case"int8":case"uint8":return 1;case"int16":case"uint16":return 2;case"int32":case"uint32":case"float32":return 4;default:throw new Error(t+" isn't a valid view type")}},e}(),cG=function(e){gt(t,e);function t(r){var n=e.call(this,r)||this;return n.shaderGenerator=null,n.geometryClass=null,n.vertexSize=null,n.state=ua.for2d(),n.size=Te.SPRITE_BATCH_SIZE*4,n._vertexCount=0,n._indexCount=0,n._bufferedElements=[],n._bufferedTextures=[],n._bufferSize=0,n._shader=null,n._packedGeometries=[],n._packedGeometryPoolSize=2,n._flushId=0,n._aBuffers={},n._iBuffers={},n.MAX_TEXTURES=1,n.renderer.on("prerender",n.onPrerender,n),r.runners.contextChange.add(n),n._dcIndex=0,n._aIndex=0,n._iIndex=0,n._attributeBuffer=null,n._indexBuffer=null,n._tempBoundTextures=[],n}return t.prototype.contextChange=function(){var r=this.renderer.gl;Te.PREFER_ENV===Ei.WEBGL_LEGACY?this.MAX_TEXTURES=1:(this.MAX_TEXTURES=Math.min(r.getParameter(r.MAX_TEXTURE_IMAGE_UNITS),Te.SPRITE_MAX_TEXTURES),this.MAX_TEXTURES=A5(this.MAX_TEXTURES,r)),this._shader=this.shaderGenerator.generateShader(this.MAX_TEXTURES);for(var n=0;n<this._packedGeometryPoolSize;n++)this._packedGeometries[n]=new this.geometryClass;this.initFlushBuffers()},t.prototype.initFlushBuffers=function(){for(var r=t._drawCallPool,n=t._textureArrayPool,i=this.size/4,o=Math.floor(i/this.MAX_TEXTURES)+1;r.length<i;)r.push(new um);for(;n.length<o;)n.push(new lm);for(var a=0;a<this.MAX_TEXTURES;a++)this._tempBoundTextures[a]=null},t.prototype.onPrerender=function(){this._flushId=0},t.prototype.render=function(r){!r._texture.valid||(this._vertexCount+r.vertexData.length/2>this.size&&this.flush(),this._vertexCount+=r.vertexData.length/2,this._indexCount+=r.indices.length,this._bufferedTextures[this._bufferSize]=r._texture.baseTexture,this._bufferedElements[this._bufferSize++]=r)},t.prototype.buildTexturesAndDrawCalls=function(){var r=this,n=r._bufferedTextures,i=r.MAX_TEXTURES,o=t._textureArrayPool,a=this.renderer.batch,u=this._tempBoundTextures,f=this.renderer.textureGC.count,h=++Qe._globalBatch,d=0,p=o[0],v=0;a.copyBoundTextures(u,i);for(var m=0;m<this._bufferSize;++m){var y=n[m];n[m]=null,y._batchEnabled!==h&&(p.count>=i&&(a.boundArray(p,u,h,i),this.buildDrawCalls(p,v,m),v=m,p=o[++d],++h),y._batchEnabled=h,y.touched=f,p.elements[p.count++]=y)}p.count>0&&(a.boundArray(p,u,h,i),this.buildDrawCalls(p,v,this._bufferSize),++d,++h);for(var m=0;m<u.length;m++)u[m]=null;Qe._globalBatch=h},t.prototype.buildDrawCalls=function(r,n,i){var o=this,a=o._bufferedElements,u=o._attributeBuffer,f=o._indexBuffer,h=o.vertexSize,d=t._drawCallPool,p=this._dcIndex,v=this._aIndex,m=this._iIndex,y=d[p];y.start=this._iIndex,y.texArray=r;for(var E=n;E<i;++E){var g=a[E],x=g._texture.baseTexture,w=l2[x.alphaMode?1:0][g.blendMode];a[E]=null,n<E&&y.blend!==w&&(y.size=m-y.start,n=E,y=d[++p],y.texArray=r,y.start=m),this.packInterleavedGeometry(g,u,f,v,m),v+=g.vertexData.length/2*h,m+=g.indices.length,y.blend=w}n<i&&(y.size=m-y.start,++p),this._dcIndex=p,this._aIndex=v,this._iIndex=m},t.prototype.bindAndClearTexArray=function(r){for(var n=this.renderer.texture,i=0;i<r.count;i++)n.bind(r.elements[i],r.ids[i]),r.elements[i]=null;r.count=0},t.prototype.updateGeometry=function(){var r=this,n=r._packedGeometries,i=r._attributeBuffer,o=r._indexBuffer;Te.CAN_UPLOAD_SAME_BUFFER?(n[this._flushId]._buffer.update(i.rawBinaryData),n[this._flushId]._indexBuffer.update(o),this.renderer.geometry.updateBuffers()):(this._packedGeometryPoolSize<=this._flushId&&(this._packedGeometryPoolSize++,n[this._flushId]=new this.geometryClass),n[this._flushId]._buffer.update(i.rawBinaryData),n[this._flushId]._indexBuffer.update(o),this.renderer.geometry.bind(n[this._flushId]),this.renderer.geometry.updateBuffers(),this._flushId++)},t.prototype.drawBatches=function(){for(var r=this._dcIndex,n=this.renderer,i=n.gl,o=n.state,a=t._drawCallPool,u=null,f=0;f<r;f++){var h=a[f],d=h.texArray,p=h.type,v=h.size,m=h.start,y=h.blend;u!==d&&(u=d,this.bindAndClearTexArray(d)),this.state.blendMode=y,o.set(this.state),i.drawElements(p,v,i.UNSIGNED_SHORT,m*2)}},t.prototype.flush=function(){this._vertexCount!==0&&(this._attributeBuffer=this.getAttributeBuffer(this._vertexCount),this._indexBuffer=this.getIndexBuffer(this._indexCount),this._aIndex=0,this._iIndex=0,this._dcIndex=0,this.buildTexturesAndDrawCalls(),this.updateGeometry(),this.drawBatches(),this._bufferSize=0,this._vertexCount=0,this._indexCount=0)},t.prototype.start=function(){this.renderer.state.set(this.state),this.renderer.texture.ensureSamplerType(this.MAX_TEXTURES),this.renderer.shader.bind(this._shader),Te.CAN_UPLOAD_SAME_BUFFER&&this.renderer.geometry.bind(this._packedGeometries[this._flushId])},t.prototype.stop=function(){this.flush()},t.prototype.destroy=function(){for(var r=0;r<this._packedGeometryPoolSize;r++)this._packedGeometries[r]&&this._packedGeometries[r].destroy();this.renderer.off("prerender",this.onPrerender,this),this._aBuffers=null,this._iBuffers=null,this._packedGeometries=null,this._attributeBuffer=null,this._indexBuffer=null,this._shader&&(this._shader.destroy(),this._shader=null),e.prototype.destroy.call(this)},t.prototype.getAttributeBuffer=function(r){var n=dc(Math.ceil(r/8)),i=MT(n),o=n*8;this._aBuffers.length<=i&&(this._iBuffers.length=i+1);var a=this._aBuffers[o];return a||(this._aBuffers[o]=a=new fm(o*this.vertexSize*4)),a},t.prototype.getIndexBuffer=function(r){var n=dc(Math.ceil(r/12)),i=MT(n),o=n*12;this._iBuffers.length<=i&&(this._iBuffers.length=i+1);var a=this._iBuffers[i];return a||(this._iBuffers[i]=a=new Uint16Array(o)),a},t.prototype.packInterleavedGeometry=function(r,n,i,o,a){for(var u=n.uint32View,f=n.float32View,h=o/this.vertexSize,d=r.uvs,p=r.indices,v=r.vertexData,m=r._texture.baseTexture._batchLocation,y=Math.min(r.worldAlpha,1),E=y<1&&r._texture.baseTexture.alphaMode?qg(r._tintRGB,y):r._tintRGB+(y*255<<24),g=0;g<v.length;g+=2)f[o++]=v[g],f[o++]=v[g+1],f[o++]=d[g],f[o++]=d[g+1],u[o++]=E,f[o++]=m;for(var g=0;g<p.length;g++)i[a++]=h+p[g]},t._drawCallPool=[],t._textureArrayPool=[],t}(ed),dG=function(){function e(t,r){if(this.vertexSrc=t,this.fragTemplate=r,this.programCache={},this.defaultGroupCache={},r.indexOf("%count%")<0)throw new Error('Fragment template must contain "%count%".');if(r.indexOf("%forloop%")<0)throw new Error('Fragment template must contain "%forloop%".')}return e.prototype.generateShader=function(t){if(!this.programCache[t]){for(var r=new Int32Array(t),n=0;n<t;n++)r[n]=n;this.defaultGroupCache[t]=qo.from({uSamplers:r},!0);var i=this.fragTemplate;i=i.replace(/%count%/gi,""+t),i=i.replace(/%forloop%/gi,this.generateSampleSrc(t)),this.programCache[t]=new Al(this.vertexSrc,i)}var o={tint:new Float32Array([1,1,1,1]),translationMatrix:new Wt,default:this.defaultGroupCache[t]};return new ao(this.programCache[t],o)},e.prototype.generateSampleSrc=function(t){var r="";r+=`
`,r+=`
`;for(var n=0;n<t;n++)n>0&&(r+=`
else `),n<t-1&&(r+="if(vTextureId < "+n+".5)"),r+=`
{`,r+=`
	color = texture2D(uSamplers[`+n+"], vTextureCoord);",r+=`
}`;return r+=`
`,r+=`
`,r},e}(),$2=function(e){gt(t,e);function t(r){r===void 0&&(r=!1);var n=e.call(this)||this;return n._buffer=new Kt(null,r,!1),n._indexBuffer=new Kt(null,r,!0),n.addAttribute("aVertexPosition",n._buffer,2,!1,we.FLOAT).addAttribute("aTextureCoord",n._buffer,2,!1,we.FLOAT).addAttribute("aColor",n._buffer,4,!0,we.UNSIGNED_BYTE).addAttribute("aTextureId",n._buffer,1,!0,we.FLOAT).addIndex(n._indexBuffer),n}return t}(Pl),yE=`precision highp float;
attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;
attribute vec4 aColor;
attribute float aTextureId;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform vec4 tint;

varying vec2 vTextureCoord;
varying vec4 vColor;
varying float vTextureId;

void main(void){
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vTextureId = aTextureId;
    vColor = aColor * tint;
}
`,xE=`varying vec2 vTextureCoord;
varying vec4 vColor;
varying float vTextureId;
uniform sampler2D uSamplers[%count%];

void main(void){
    vec4 color;
    %forloop%
    gl_FragColor = color * vColor;
}
`,pG=function(){function e(){}return e.create=function(t){var r=Object.assign({vertex:yE,fragment:xE,geometryClass:$2,vertexSize:6},t),n=r.vertex,i=r.fragment,o=r.vertexSize,a=r.geometryClass;return function(u){gt(f,u);function f(h){var d=u.call(this,h)||this;return d.shaderGenerator=new dG(n,i),d.geometryClass=a,d.vertexSize=o,d}return f}(cG)},Object.defineProperty(e,"defaultVertexSrc",{get:function(){return yE},enumerable:!1,configurable:!0}),Object.defineProperty(e,"defaultFragmentTemplate",{get:function(){return xE},enumerable:!1,configurable:!0}),e}(),vG=pG.create(),_G={},mG=function(e){Object.defineProperty(_G,e,{get:function(){return ea("6.0.0","PIXI.systems."+e+" has moved to PIXI."+e),T2[e]}})};for(var r0 in T2)mG(r0);var gG={},yG=function(e){Object.defineProperty(gG,e,{get:function(){return ea("6.0.0","PIXI.resources."+e+" has moved to PIXI."+e),W2[e]}})};for(var r0 in W2)yG(r0);/*!
 * @pixi/app - v6.3.0
 * Compiled Wed, 23 Mar 2022 18:58:56 UTC
 *
 * @pixi/app is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var td=function(){function e(t){var r=this;this.stage=new _n,t=Object.assign({forceCanvas:!1},t),this.renderer=uG(t),e._plugins.forEach(function(n){n.init.call(r,t)})}return e.registerPlugin=function(t){e._plugins.push(t)},e.prototype.render=function(){this.renderer.render(this.stage)},Object.defineProperty(e.prototype,"view",{get:function(){return this.renderer.view},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"screen",{get:function(){return this.renderer.screen},enumerable:!1,configurable:!0}),e.prototype.destroy=function(t,r){var n=this,i=e._plugins.slice(0);i.reverse(),i.forEach(function(o){o.destroy.call(n)}),this.stage.destroy(r),this.stage=null,this.renderer.destroy(t),this.renderer=null},e._plugins=[],e}(),xG=function(){function e(){}return e.init=function(t){var r=this;Object.defineProperty(this,"resizeTo",{set:function(n){globalThis.removeEventListener("resize",this.queueResize),this._resizeTo=n,n&&(globalThis.addEventListener("resize",this.queueResize),this.resize())},get:function(){return this._resizeTo}}),this.queueResize=function(){!r._resizeTo||(r.cancelResize(),r._resizeId=requestAnimationFrame(function(){return r.resize()}))},this.cancelResize=function(){r._resizeId&&(cancelAnimationFrame(r._resizeId),r._resizeId=null)},this.resize=function(){if(!!r._resizeTo){r.cancelResize();var n,i;if(r._resizeTo===globalThis.window)n=globalThis.innerWidth,i=globalThis.innerHeight;else{var o=r._resizeTo,a=o.clientWidth,u=o.clientHeight;n=a,i=u}r.renderer.resize(n,i)}},this._resizeId=null,this._resizeTo=null,this.resizeTo=t.resizeTo||null},e.destroy=function(){globalThis.removeEventListener("resize",this.queueResize),this.cancelResize(),this.cancelResize=null,this.queueResize=null,this.resizeTo=null,this.resize=null},e}();td.registerPlugin(xG);/*!
 * @pixi/extract - v6.3.0
 * Compiled Wed, 23 Mar 2022 18:58:56 UTC
 *
 * @pixi/extract is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var TE=new it,EE=4,TG=function(){function e(t){this.renderer=t}return e.prototype.image=function(t,r,n){var i=new Image;return i.src=this.base64(t,r,n),i},e.prototype.base64=function(t,r,n){return this.canvas(t).toDataURL(r,n)},e.prototype.canvas=function(t){var r=this.renderer,n,i,o=!1,a,u=!1;t&&(t instanceof ta?a=t:(a=this.renderer.generateTexture(t),u=!0)),a?(n=a.baseTexture.resolution,i=a.frame,o=!1,r.renderTexture.bind(a)):(n=this.renderer.resolution,o=!0,i=TE,i.width=this.renderer.width,i.height=this.renderer.height,r.renderTexture.bind(null));var f=Math.floor(i.width*n+1e-4),h=Math.floor(i.height*n+1e-4),d=new HT(f,h,1),p=new Uint8Array(EE*f*h),v=r.gl;v.readPixels(i.x*n,i.y*n,f,h,v.RGBA,v.UNSIGNED_BYTE,p);var m=d.context.getImageData(0,0,f,h);if(e.arrayPostDivide(p,m.data),d.context.putImageData(m,0,0),o){var y=new HT(d.width,d.height,1);y.context.scale(1,-1),y.context.drawImage(d.canvas,0,-h),d.destroy(),d=y}return u&&a.destroy(!0),d.canvas},e.prototype.pixels=function(t){var r=this.renderer,n,i,o,a=!1;t&&(t instanceof ta?o=t:(o=this.renderer.generateTexture(t),a=!0)),o?(n=o.baseTexture.resolution,i=o.frame,r.renderTexture.bind(o)):(n=r.resolution,i=TE,i.width=r.width,i.height=r.height,r.renderTexture.bind(null));var u=i.width*n,f=i.height*n,h=new Uint8Array(EE*u*f),d=r.gl;return d.readPixels(i.x*n,i.y*n,u,f,d.RGBA,d.UNSIGNED_BYTE,h),a&&o.destroy(!0),e.arrayPostDivide(h,h),h},e.prototype.destroy=function(){this.renderer=null},e.arrayPostDivide=function(t,r){for(var n=0;n<t.length;n+=4){var i=r[n+3]=t[n+3];i!==0?(r[n]=Math.round(Math.min(t[n]*255/i,255)),r[n+1]=Math.round(Math.min(t[n+1]*255/i,255)),r[n+2]=Math.round(Math.min(t[n+2]*255/i,255))):(r[n]=t[n],r[n+1]=t[n+1],r[n+2]=t[n+2])}},e}();/*!
 * @pixi/loaders - v6.3.0
 * Compiled Wed, 23 Mar 2022 18:58:56 UTC
 *
 * @pixi/loaders is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var ch=function(){function e(t,r,n){r===void 0&&(r=!1),this._fn=t,this._once=r,this._thisArg=n,this._next=this._prev=this._owner=null}return e.prototype.detach=function(){return this._owner===null?!1:(this._owner.detach(this),!0)},e}();function wE(e,t){return e._head?(e._tail._next=t,t._prev=e._tail,e._tail=t):(e._head=t,e._tail=t),t._owner=e,t}var vi=function(){function e(){this._head=this._tail=void 0}return e.prototype.handlers=function(t){t===void 0&&(t=!1);var r=this._head;if(t)return!!r;for(var n=[];r;)n.push(r),r=r._next;return n},e.prototype.has=function(t){if(!(t instanceof ch))throw new Error("MiniSignal#has(): First arg must be a SignalBinding object.");return t._owner===this},e.prototype.dispatch=function(){for(var t=arguments,r=[],n=0;n<arguments.length;n++)r[n]=t[n];var i=this._head;if(!i)return!1;for(;i;)i._once&&this.detach(i),i._fn.apply(i._thisArg,r),i=i._next;return!0},e.prototype.add=function(t,r){if(r===void 0&&(r=null),typeof t!="function")throw new Error("MiniSignal#add(): First arg must be a Function.");return wE(this,new ch(t,!1,r))},e.prototype.once=function(t,r){if(r===void 0&&(r=null),typeof t!="function")throw new Error("MiniSignal#once(): First arg must be a Function.");return wE(this,new ch(t,!0,r))},e.prototype.detach=function(t){if(!(t instanceof ch))throw new Error("MiniSignal#detach(): First arg must be a SignalBinding object.");return t._owner!==this?this:(t._prev&&(t._prev._next=t._next),t._next&&(t._next._prev=t._prev),t===this._head?(this._head=t._next,t._next===null&&(this._tail=null)):t===this._tail&&(this._tail=t._prev,this._tail._next=null),t._owner=null,this)},e.prototype.detachAll=function(){var t=this._head;if(!t)return this;for(this._head=this._tail=null;t;)t._owner=null,t=t._next;return this},e}();function Y2(e,t){t=t||{};for(var r={key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}},n=r.parser[t.strictMode?"strict":"loose"].exec(e),i={},o=14;o--;)i[r.key[o]]=n[o]||"";return i[r.q.name]={},i[r.key[12]].replace(r.q.parser,function(a,u,f){u&&(i[r.q.name][u]=f)}),i}var EG=!!(globalThis.XDomainRequest&&!("withCredentials"in new XMLHttpRequest)),dh=null,wG=0,bE=200,bG=204,SG=1223,CG=2;function SE(){}function CE(e,t,r){t&&t.indexOf(".")===0&&(t=t.substring(1)),t&&(e[t]=r)}function Uv(e){return e.toString().replace("object ","")}var Mt=function(){function e(t,r,n){if(this._dequeue=SE,this._onLoadBinding=null,this._elementTimer=0,this._boundComplete=null,this._boundOnError=null,this._boundOnProgress=null,this._boundOnTimeout=null,this._boundXhrOnError=null,this._boundXhrOnTimeout=null,this._boundXhrOnAbort=null,this._boundXhrOnLoad=null,typeof t!="string"||typeof r!="string")throw new Error("Both name and url are required for constructing a resource.");n=n||{},this._flags=0,this._setFlag(e.STATUS_FLAGS.DATA_URL,r.indexOf("data:")===0),this.name=t,this.url=r,this.extension=this._getExtension(),this.data=null,this.crossOrigin=n.crossOrigin===!0?"anonymous":n.crossOrigin,this.timeout=n.timeout||0,this.loadType=n.loadType||this._determineLoadType(),this.xhrType=n.xhrType,this.metadata=n.metadata||{},this.error=null,this.xhr=null,this.children=[],this.type=e.TYPE.UNKNOWN,this.progressChunk=0,this._dequeue=SE,this._onLoadBinding=null,this._elementTimer=0,this._boundComplete=this.complete.bind(this),this._boundOnError=this._onError.bind(this),this._boundOnProgress=this._onProgress.bind(this),this._boundOnTimeout=this._onTimeout.bind(this),this._boundXhrOnError=this._xhrOnError.bind(this),this._boundXhrOnTimeout=this._xhrOnTimeout.bind(this),this._boundXhrOnAbort=this._xhrOnAbort.bind(this),this._boundXhrOnLoad=this._xhrOnLoad.bind(this),this.onStart=new vi,this.onProgress=new vi,this.onComplete=new vi,this.onAfterMiddleware=new vi}return e.setExtensionLoadType=function(t,r){CE(e._loadTypeMap,t,r)},e.setExtensionXhrType=function(t,r){CE(e._xhrTypeMap,t,r)},Object.defineProperty(e.prototype,"isDataUrl",{get:function(){return this._hasFlag(e.STATUS_FLAGS.DATA_URL)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isComplete",{get:function(){return this._hasFlag(e.STATUS_FLAGS.COMPLETE)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isLoading",{get:function(){return this._hasFlag(e.STATUS_FLAGS.LOADING)},enumerable:!1,configurable:!0}),e.prototype.complete=function(){this._clearEvents(),this._finish()},e.prototype.abort=function(t){if(!this.error){if(this.error=new Error(t),this._clearEvents(),this.xhr)this.xhr.abort();else if(this.xdr)this.xdr.abort();else if(this.data)if(this.data.src)this.data.src=e.EMPTY_GIF;else for(;this.data.firstChild;)this.data.removeChild(this.data.firstChild);this._finish()}},e.prototype.load=function(t){var r=this;if(!this.isLoading){if(this.isComplete){t&&setTimeout(function(){return t(r)},1);return}else t&&this.onComplete.once(t);switch(this._setFlag(e.STATUS_FLAGS.LOADING,!0),this.onStart.dispatch(this),(this.crossOrigin===!1||typeof this.crossOrigin!="string")&&(this.crossOrigin=this._determineCrossOrigin(this.url)),this.loadType){case e.LOAD_TYPE.IMAGE:this.type=e.TYPE.IMAGE,this._loadElement("image");break;case e.LOAD_TYPE.AUDIO:this.type=e.TYPE.AUDIO,this._loadSourceElement("audio");break;case e.LOAD_TYPE.VIDEO:this.type=e.TYPE.VIDEO,this._loadSourceElement("video");break;case e.LOAD_TYPE.XHR:default:EG&&this.crossOrigin?this._loadXdr():this._loadXhr();break}}},e.prototype._hasFlag=function(t){return(this._flags&t)!==0},e.prototype._setFlag=function(t,r){this._flags=r?this._flags|t:this._flags&~t},e.prototype._clearEvents=function(){clearTimeout(this._elementTimer),this.data&&this.data.removeEventListener&&(this.data.removeEventListener("error",this._boundOnError,!1),this.data.removeEventListener("load",this._boundComplete,!1),this.data.removeEventListener("progress",this._boundOnProgress,!1),this.data.removeEventListener("canplaythrough",this._boundComplete,!1)),this.xhr&&(this.xhr.removeEventListener?(this.xhr.removeEventListener("error",this._boundXhrOnError,!1),this.xhr.removeEventListener("timeout",this._boundXhrOnTimeout,!1),this.xhr.removeEventListener("abort",this._boundXhrOnAbort,!1),this.xhr.removeEventListener("progress",this._boundOnProgress,!1),this.xhr.removeEventListener("load",this._boundXhrOnLoad,!1)):(this.xhr.onerror=null,this.xhr.ontimeout=null,this.xhr.onprogress=null,this.xhr.onload=null))},e.prototype._finish=function(){if(this.isComplete)throw new Error("Complete called again for an already completed resource.");this._setFlag(e.STATUS_FLAGS.COMPLETE,!0),this._setFlag(e.STATUS_FLAGS.LOADING,!1),this.onComplete.dispatch(this)},e.prototype._loadElement=function(t){this.metadata.loadElement?this.data=this.metadata.loadElement:t==="image"&&typeof globalThis.Image!="undefined"?this.data=new Image:this.data=document.createElement(t),this.crossOrigin&&(this.data.crossOrigin=this.crossOrigin),this.metadata.skipSource||(this.data.src=this.url),this.data.addEventListener("error",this._boundOnError,!1),this.data.addEventListener("load",this._boundComplete,!1),this.data.addEventListener("progress",this._boundOnProgress,!1),this.timeout&&(this._elementTimer=setTimeout(this._boundOnTimeout,this.timeout))},e.prototype._loadSourceElement=function(t){if(this.metadata.loadElement?this.data=this.metadata.loadElement:t==="audio"&&typeof globalThis.Audio!="undefined"?this.data=new Audio:this.data=document.createElement(t),this.data===null){this.abort("Unsupported element: "+t);return}if(this.crossOrigin&&(this.data.crossOrigin=this.crossOrigin),!this.metadata.skipSource)if(navigator.isCocoonJS)this.data.src=Array.isArray(this.url)?this.url[0]:this.url;else if(Array.isArray(this.url))for(var r=this.metadata.mimeType,n=0;n<this.url.length;++n)this.data.appendChild(this._createSource(t,this.url[n],Array.isArray(r)?r[n]:r));else{var r=this.metadata.mimeType;this.data.appendChild(this._createSource(t,this.url,Array.isArray(r)?r[0]:r))}this.data.addEventListener("error",this._boundOnError,!1),this.data.addEventListener("load",this._boundComplete,!1),this.data.addEventListener("progress",this._boundOnProgress,!1),this.data.addEventListener("canplaythrough",this._boundComplete,!1),this.data.load(),this.timeout&&(this._elementTimer=setTimeout(this._boundOnTimeout,this.timeout))},e.prototype._loadXhr=function(){typeof this.xhrType!="string"&&(this.xhrType=this._determineXhrType());var t=this.xhr=new XMLHttpRequest;this.crossOrigin==="use-credentials"&&(t.withCredentials=!0),t.open("GET",this.url,!0),t.timeout=this.timeout,this.xhrType===e.XHR_RESPONSE_TYPE.JSON||this.xhrType===e.XHR_RESPONSE_TYPE.DOCUMENT?t.responseType=e.XHR_RESPONSE_TYPE.TEXT:t.responseType=this.xhrType,t.addEventListener("error",this._boundXhrOnError,!1),t.addEventListener("timeout",this._boundXhrOnTimeout,!1),t.addEventListener("abort",this._boundXhrOnAbort,!1),t.addEventListener("progress",this._boundOnProgress,!1),t.addEventListener("load",this._boundXhrOnLoad,!1),t.send()},e.prototype._loadXdr=function(){typeof this.xhrType!="string"&&(this.xhrType=this._determineXhrType());var t=this.xhr=new globalThis.XDomainRequest;t.timeout=this.timeout||5e3,t.onerror=this._boundXhrOnError,t.ontimeout=this._boundXhrOnTimeout,t.onprogress=this._boundOnProgress,t.onload=this._boundXhrOnLoad,t.open("GET",this.url,!0),setTimeout(function(){return t.send()},1)},e.prototype._createSource=function(t,r,n){n||(n=t+"/"+this._getExtension(r));var i=document.createElement("source");return i.src=r,i.type=n,i},e.prototype._onError=function(t){this.abort("Failed to load element using: "+t.target.nodeName)},e.prototype._onProgress=function(t){t&&t.lengthComputable&&this.onProgress.dispatch(this,t.loaded/t.total)},e.prototype._onTimeout=function(){this.abort("Load timed out.")},e.prototype._xhrOnError=function(){var t=this.xhr;this.abort(Uv(t)+" Request failed. Status: "+t.status+', text: "'+t.statusText+'"')},e.prototype._xhrOnTimeout=function(){var t=this.xhr;this.abort(Uv(t)+" Request timed out.")},e.prototype._xhrOnAbort=function(){var t=this.xhr;this.abort(Uv(t)+" Request was aborted by the user.")},e.prototype._xhrOnLoad=function(){var t=this.xhr,r="",n=typeof t.status=="undefined"?bE:t.status;(t.responseType===""||t.responseType==="text"||typeof t.responseType=="undefined")&&(r=t.responseText),n===wG&&(r.length>0||t.responseType===e.XHR_RESPONSE_TYPE.BUFFER)?n=bE:n===SG&&(n=bG);var i=n/100|0;if(i===CG)if(this.xhrType===e.XHR_RESPONSE_TYPE.TEXT)this.data=r,this.type=e.TYPE.TEXT;else if(this.xhrType===e.XHR_RESPONSE_TYPE.JSON)try{this.data=JSON.parse(r),this.type=e.TYPE.JSON}catch(u){this.abort("Error trying to parse loaded json: "+u);return}else if(this.xhrType===e.XHR_RESPONSE_TYPE.DOCUMENT)try{if(globalThis.DOMParser){var o=new DOMParser;this.data=o.parseFromString(r,"text/xml")}else{var a=document.createElement("div");a.innerHTML=r,this.data=a}this.type=e.TYPE.XML}catch(u){this.abort("Error trying to parse loaded xml: "+u);return}else this.data=t.response||r;else{this.abort("["+t.status+"] "+t.statusText+": "+t.responseURL);return}this.complete()},e.prototype._determineCrossOrigin=function(t,r){if(t.indexOf("data:")===0)return"";if(globalThis.origin!==globalThis.location.origin)return"anonymous";r=r||globalThis.location,dh||(dh=document.createElement("a")),dh.href=t;var n=Y2(dh.href,{strictMode:!0}),i=!n.port&&r.port===""||n.port===r.port,o=n.protocol?n.protocol+":":"";return n.host!==r.hostname||!i||o!==r.protocol?"anonymous":""},e.prototype._determineXhrType=function(){return e._xhrTypeMap[this.extension]||e.XHR_RESPONSE_TYPE.TEXT},e.prototype._determineLoadType=function(){return e._loadTypeMap[this.extension]||e.LOAD_TYPE.XHR},e.prototype._getExtension=function(t){t===void 0&&(t=this.url);var r="";if(this.isDataUrl){var n=t.indexOf("/");r=t.substring(n+1,t.indexOf(";",n))}else{var i=t.indexOf("?"),o=t.indexOf("#"),a=Math.min(i>-1?i:t.length,o>-1?o:t.length);t=t.substring(0,a),r=t.substring(t.lastIndexOf(".")+1)}return r.toLowerCase()},e.prototype._getMimeFromXhrType=function(t){switch(t){case e.XHR_RESPONSE_TYPE.BUFFER:return"application/octet-binary";case e.XHR_RESPONSE_TYPE.BLOB:return"application/blob";case e.XHR_RESPONSE_TYPE.DOCUMENT:return"application/xml";case e.XHR_RESPONSE_TYPE.JSON:return"application/json";case e.XHR_RESPONSE_TYPE.DEFAULT:case e.XHR_RESPONSE_TYPE.TEXT:default:return"text/plain"}},e}();(function(e){(function(t){t[t.NONE=0]="NONE",t[t.DATA_URL=1]="DATA_URL",t[t.COMPLETE=2]="COMPLETE",t[t.LOADING=4]="LOADING"})(e.STATUS_FLAGS||(e.STATUS_FLAGS={})),function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.JSON=1]="JSON",t[t.XML=2]="XML",t[t.IMAGE=3]="IMAGE",t[t.AUDIO=4]="AUDIO",t[t.VIDEO=5]="VIDEO",t[t.TEXT=6]="TEXT"}(e.TYPE||(e.TYPE={})),function(t){t[t.XHR=1]="XHR",t[t.IMAGE=2]="IMAGE",t[t.AUDIO=3]="AUDIO",t[t.VIDEO=4]="VIDEO"}(e.LOAD_TYPE||(e.LOAD_TYPE={})),function(t){t.DEFAULT="text",t.BUFFER="arraybuffer",t.BLOB="blob",t.DOCUMENT="document",t.JSON="json",t.TEXT="text"}(e.XHR_RESPONSE_TYPE||(e.XHR_RESPONSE_TYPE={})),e._loadTypeMap={gif:e.LOAD_TYPE.IMAGE,png:e.LOAD_TYPE.IMAGE,bmp:e.LOAD_TYPE.IMAGE,jpg:e.LOAD_TYPE.IMAGE,jpeg:e.LOAD_TYPE.IMAGE,tif:e.LOAD_TYPE.IMAGE,tiff:e.LOAD_TYPE.IMAGE,webp:e.LOAD_TYPE.IMAGE,tga:e.LOAD_TYPE.IMAGE,svg:e.LOAD_TYPE.IMAGE,"svg+xml":e.LOAD_TYPE.IMAGE,mp3:e.LOAD_TYPE.AUDIO,ogg:e.LOAD_TYPE.AUDIO,wav:e.LOAD_TYPE.AUDIO,mp4:e.LOAD_TYPE.VIDEO,webm:e.LOAD_TYPE.VIDEO},e._xhrTypeMap={xhtml:e.XHR_RESPONSE_TYPE.DOCUMENT,html:e.XHR_RESPONSE_TYPE.DOCUMENT,htm:e.XHR_RESPONSE_TYPE.DOCUMENT,xml:e.XHR_RESPONSE_TYPE.DOCUMENT,tmx:e.XHR_RESPONSE_TYPE.DOCUMENT,svg:e.XHR_RESPONSE_TYPE.DOCUMENT,tsx:e.XHR_RESPONSE_TYPE.DOCUMENT,gif:e.XHR_RESPONSE_TYPE.BLOB,png:e.XHR_RESPONSE_TYPE.BLOB,bmp:e.XHR_RESPONSE_TYPE.BLOB,jpg:e.XHR_RESPONSE_TYPE.BLOB,jpeg:e.XHR_RESPONSE_TYPE.BLOB,tif:e.XHR_RESPONSE_TYPE.BLOB,tiff:e.XHR_RESPONSE_TYPE.BLOB,webp:e.XHR_RESPONSE_TYPE.BLOB,tga:e.XHR_RESPONSE_TYPE.BLOB,json:e.XHR_RESPONSE_TYPE.JSON,text:e.XHR_RESPONSE_TYPE.TEXT,txt:e.XHR_RESPONSE_TYPE.TEXT,ttf:e.XHR_RESPONSE_TYPE.BUFFER,otf:e.XHR_RESPONSE_TYPE.BUFFER},e.EMPTY_GIF="data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw=="})(Mt||(Mt={}));function Lo(){}function IG(e){return function(){for(var r=arguments,n=[],i=0;i<arguments.length;i++)n[i]=r[i];if(e===null)throw new Error("Callback was already called.");var o=e;e=null,o.apply(this,n)}}var RG=function(){function e(t,r){this.data=t,this.callback=r}return e}(),kv=function(){function e(t,r){var n=this;if(r===void 0&&(r=1),this.workers=0,this.saturated=Lo,this.unsaturated=Lo,this.empty=Lo,this.drain=Lo,this.error=Lo,this.started=!1,this.paused=!1,this._tasks=[],this._insert=function(i,o,a){if(a&&typeof a!="function")throw new Error("task callback must be a function");if(n.started=!0,i==null&&n.idle()){setTimeout(function(){return n.drain()},1);return}var u=new RG(i,typeof a=="function"?a:Lo);o?n._tasks.unshift(u):n._tasks.push(u),setTimeout(n.process,1)},this.process=function(){for(;!n.paused&&n.workers<n.concurrency&&n._tasks.length;){var i=n._tasks.shift();n._tasks.length===0&&n.empty(),n.workers+=1,n.workers===n.concurrency&&n.saturated(),n._worker(i.data,IG(n._next(i)))}},this._worker=t,r===0)throw new Error("Concurrency must not be zero");this.concurrency=r,this.buffer=r/4}return e.prototype._next=function(t){var r=this;return function(){for(var n=arguments,i=[],o=0;o<arguments.length;o++)i[o]=n[o];r.workers-=1,t.callback.apply(t,i),i[0]!=null&&r.error(i[0],t.data),r.workers<=r.concurrency-r.buffer&&r.unsaturated(),r.idle()&&r.drain(),r.process()}},e.prototype.push=function(t,r){this._insert(t,!1,r)},e.prototype.kill=function(){this.workers=0,this.drain=Lo,this.started=!1,this._tasks=[]},e.prototype.unshift=function(t,r){this._insert(t,!0,r)},e.prototype.length=function(){return this._tasks.length},e.prototype.running=function(){return this.workers},e.prototype.idle=function(){return this._tasks.length+this.workers===0},e.prototype.pause=function(){this.paused!==!0&&(this.paused=!0)},e.prototype.resume=function(){if(this.paused!==!1){this.paused=!1;for(var t=1;t<=this.concurrency;t++)this.process()}},e.eachSeries=function(t,r,n,i){var o=0,a=t.length;function u(f){if(f||o===a){n&&n(f);return}i?setTimeout(function(){r(t[o++],u)},1):r(t[o++],u)}u()},e.queue=function(t,r){return new e(t,r)},e}(),Bv=100,NG=/(#[\w-]+)?$/,qn=function(){function e(t,r){var n=this;t===void 0&&(t=""),r===void 0&&(r=10),this.progress=0,this.loading=!1,this.defaultQueryString="",this._beforeMiddleware=[],this._afterMiddleware=[],this._resourcesParsing=[],this._boundLoadResource=function(f,h){return n._loadResource(f,h)},this.resources={},this.baseUrl=t,this._beforeMiddleware=[],this._afterMiddleware=[],this._resourcesParsing=[],this._boundLoadResource=function(f,h){return n._loadResource(f,h)},this._queue=kv.queue(this._boundLoadResource,r),this._queue.pause(),this.resources={},this.onProgress=new vi,this.onError=new vi,this.onLoad=new vi,this.onStart=new vi,this.onComplete=new vi;for(var i=0;i<e._plugins.length;++i){var o=e._plugins[i],a=o.pre,u=o.use;a&&this.pre(a),u&&this.use(u)}this._protected=!1}return e.prototype._add=function(t,r,n,i){if(this.loading&&(!n||!n.parentResource))throw new Error("Cannot add resources while the loader is running.");if(this.resources[t])throw new Error('Resource named "'+t+'" already exists.');if(r=this._prepareUrl(r),this.resources[t]=new Mt(t,r,n),typeof i=="function"&&this.resources[t].onAfterMiddleware.once(i),this.loading){for(var o=n.parentResource,a=[],u=0;u<o.children.length;++u)o.children[u].isComplete||a.push(o.children[u]);var f=o.progressChunk*(a.length+1),h=f/(a.length+2);o.children.push(this.resources[t]),o.progressChunk=h;for(var u=0;u<a.length;++u)a[u].progressChunk=h;this.resources[t].progressChunk=h}return this._queue.push(this.resources[t]),this},e.prototype.pre=function(t){return this._beforeMiddleware.push(t),this},e.prototype.use=function(t){return this._afterMiddleware.push(t),this},e.prototype.reset=function(){this.progress=0,this.loading=!1,this._queue.kill(),this._queue.pause();for(var t in this.resources){var r=this.resources[t];r._onLoadBinding&&r._onLoadBinding.detach(),r.isLoading&&r.abort("loader reset")}return this.resources={},this},e.prototype.load=function(t){if(typeof t=="function"&&this.onComplete.once(t),this.loading)return this;if(this._queue.idle())this._onStart(),this._onComplete();else{for(var r=this._queue._tasks.length,n=Bv/r,i=0;i<this._queue._tasks.length;++i)this._queue._tasks[i].data.progressChunk=n;this._onStart(),this._queue.resume()}return this},Object.defineProperty(e.prototype,"concurrency",{get:function(){return this._queue.concurrency},set:function(t){this._queue.concurrency=t},enumerable:!1,configurable:!0}),e.prototype._prepareUrl=function(t){var r=Y2(t,{strictMode:!0}),n;if(r.protocol||!r.path||t.indexOf("//")===0?n=t:this.baseUrl.length&&this.baseUrl.lastIndexOf("/")!==this.baseUrl.length-1&&t.charAt(0)!=="/"?n=this.baseUrl+"/"+t:n=this.baseUrl+t,this.defaultQueryString){var i=NG.exec(n)[0];n=n.slice(0,n.length-i.length),n.indexOf("?")!==-1?n+="&"+this.defaultQueryString:n+="?"+this.defaultQueryString,n+=i}return n},e.prototype._loadResource=function(t,r){var n=this;t._dequeue=r,kv.eachSeries(this._beforeMiddleware,function(i,o){i.call(n,t,function(){o(t.isComplete?{}:null)})},function(){t.isComplete?n._onLoad(t):(t._onLoadBinding=t.onComplete.once(n._onLoad,n),t.load())},!0)},e.prototype._onStart=function(){this.progress=0,this.loading=!0,this.onStart.dispatch(this)},e.prototype._onComplete=function(){this.progress=Bv,this.loading=!1,this.onComplete.dispatch(this,this.resources)},e.prototype._onLoad=function(t){var r=this;t._onLoadBinding=null,this._resourcesParsing.push(t),t._dequeue(),kv.eachSeries(this._afterMiddleware,function(n,i){n.call(r,t,i)},function(){t.onAfterMiddleware.dispatch(t),r.progress=Math.min(Bv,r.progress+t.progressChunk),r.onProgress.dispatch(r,t),t.error?r.onError.dispatch(t.error,r,t):r.onLoad.dispatch(r,t),r._resourcesParsing.splice(r._resourcesParsing.indexOf(t),1),r._queue.idle()&&r._resourcesParsing.length===0&&r._onComplete()},!0)},e.prototype.destroy=function(){this._protected||this.reset()},Object.defineProperty(e,"shared",{get:function(){var t=e._shared;return t||(t=new e,t._protected=!0,e._shared=t),t},enumerable:!1,configurable:!0}),e.registerPlugin=function(t){return e._plugins.push(t),t.add&&t.add(),e},e._plugins=[],e}();qn.prototype.add=function(t,r,n,i){if(Array.isArray(t)){for(var o=0;o<t.length;++o)this.add(t[o]);return this}if(typeof t=="object"&&(n=t,i=r||n.callback||n.onComplete,r=n.url,t=n.name||n.key||n.url),typeof r!="string"&&(i=n,n=r,r=t),typeof r!="string")throw new Error("No url passed to add resource to loader.");return typeof n=="function"&&(i=n,n=null),this._add(t,r,n,i)};var PG=function(){function e(){}return e.init=function(t){t=Object.assign({sharedLoader:!1},t),this.loader=t.sharedLoader?qn.shared:new qn},e.destroy=function(){this.loader&&(this.loader.destroy(),this.loader=null)},e}(),AG=function(){function e(){}return e.add=function(){Mt.setExtensionLoadType("svg",Mt.LOAD_TYPE.XHR),Mt.setExtensionXhrType("svg",Mt.XHR_RESPONSE_TYPE.TEXT)},e.use=function(t,r){if(t.data&&(t.type===Mt.TYPE.IMAGE||t.extension==="svg")){var n=t.data,i=t.url,o=t.name,a=t.metadata;Se.fromLoader(n,i,o,a).then(function(u){t.texture=u,r()}).catch(r)}else r()},e}(),OG="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function LG(e){for(var t="",r=0;r<e.length;){for(var n=[0,0,0],i=[0,0,0,0],o=0;o<n.length;++o)r<e.length?n[o]=e.charCodeAt(r++)&255:n[o]=0;i[0]=n[0]>>2,i[1]=(n[0]&3)<<4|n[1]>>4,i[2]=(n[1]&15)<<2|n[2]>>6,i[3]=n[2]&63;var a=r-(e.length-1);switch(a){case 2:i[3]=64,i[2]=64;break;case 1:i[3]=64;break}for(var o=0;o<i.length;++o)t+=OG.charAt(i[o])}return t}var IE=self.URL||self.webkitURL;function FG(e,t){if(!e.data){t();return}if(e.xhr&&e.xhrType===Mt.XHR_RESPONSE_TYPE.BLOB){if(!self.Blob||typeof e.data=="string"){var r=e.xhr.getResponseHeader("content-type");if(r&&r.indexOf("image")===0){e.data=new Image,e.data.src="data:"+r+";base64,"+LG(e.xhr.responseText),e.type=Mt.TYPE.IMAGE,e.data.onload=function(){e.data.onload=null,t()};return}}else if(e.data.type.indexOf("image")===0){var n=IE.createObjectURL(e.data);e.blob=e.data,e.data=new Image,e.data.src=n,e.type=Mt.TYPE.IMAGE,e.data.onload=function(){IE.revokeObjectURL(n),e.data.onload=null,t()};return}}t()}qn.registerPlugin({use:FG});qn.registerPlugin(AG);/*!
 * @pixi/compressed-textures - v6.3.0
 * Compiled Wed, 23 Mar 2022 18:58:56 UTC
 *
 * @pixi/compressed-textures is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var pt,Xe;(function(e){e[e.COMPRESSED_RGB_S3TC_DXT1_EXT=33776]="COMPRESSED_RGB_S3TC_DXT1_EXT",e[e.COMPRESSED_RGBA_S3TC_DXT1_EXT=33777]="COMPRESSED_RGBA_S3TC_DXT1_EXT",e[e.COMPRESSED_RGBA_S3TC_DXT3_EXT=33778]="COMPRESSED_RGBA_S3TC_DXT3_EXT",e[e.COMPRESSED_RGBA_S3TC_DXT5_EXT=33779]="COMPRESSED_RGBA_S3TC_DXT5_EXT",e[e.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT=35917]="COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT",e[e.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT=35918]="COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT",e[e.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT=35919]="COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT",e[e.COMPRESSED_SRGB_S3TC_DXT1_EXT=35916]="COMPRESSED_SRGB_S3TC_DXT1_EXT",e[e.COMPRESSED_R11_EAC=37488]="COMPRESSED_R11_EAC",e[e.COMPRESSED_SIGNED_R11_EAC=37489]="COMPRESSED_SIGNED_R11_EAC",e[e.COMPRESSED_RG11_EAC=37490]="COMPRESSED_RG11_EAC",e[e.COMPRESSED_SIGNED_RG11_EAC=37491]="COMPRESSED_SIGNED_RG11_EAC",e[e.COMPRESSED_RGB8_ETC2=37492]="COMPRESSED_RGB8_ETC2",e[e.COMPRESSED_RGBA8_ETC2_EAC=37496]="COMPRESSED_RGBA8_ETC2_EAC",e[e.COMPRESSED_SRGB8_ETC2=37493]="COMPRESSED_SRGB8_ETC2",e[e.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC=37497]="COMPRESSED_SRGB8_ALPHA8_ETC2_EAC",e[e.COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2=37494]="COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2",e[e.COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2=37495]="COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2",e[e.COMPRESSED_RGB_PVRTC_4BPPV1_IMG=35840]="COMPRESSED_RGB_PVRTC_4BPPV1_IMG",e[e.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG=35842]="COMPRESSED_RGBA_PVRTC_4BPPV1_IMG",e[e.COMPRESSED_RGB_PVRTC_2BPPV1_IMG=35841]="COMPRESSED_RGB_PVRTC_2BPPV1_IMG",e[e.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG=35843]="COMPRESSED_RGBA_PVRTC_2BPPV1_IMG",e[e.COMPRESSED_RGB_ETC1_WEBGL=36196]="COMPRESSED_RGB_ETC1_WEBGL",e[e.COMPRESSED_RGB_ATC_WEBGL=35986]="COMPRESSED_RGB_ATC_WEBGL",e[e.COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL=35986]="COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL",e[e.COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL=34798]="COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL"})(Xe||(Xe={}));var mc=(pt={},pt[Xe.COMPRESSED_RGB_S3TC_DXT1_EXT]=.5,pt[Xe.COMPRESSED_RGBA_S3TC_DXT1_EXT]=.5,pt[Xe.COMPRESSED_RGBA_S3TC_DXT3_EXT]=1,pt[Xe.COMPRESSED_RGBA_S3TC_DXT5_EXT]=1,pt[Xe.COMPRESSED_SRGB_S3TC_DXT1_EXT]=.5,pt[Xe.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT]=.5,pt[Xe.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT]=1,pt[Xe.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT]=1,pt[Xe.COMPRESSED_R11_EAC]=.5,pt[Xe.COMPRESSED_SIGNED_R11_EAC]=.5,pt[Xe.COMPRESSED_RG11_EAC]=1,pt[Xe.COMPRESSED_SIGNED_RG11_EAC]=1,pt[Xe.COMPRESSED_RGB8_ETC2]=.5,pt[Xe.COMPRESSED_RGBA8_ETC2_EAC]=1,pt[Xe.COMPRESSED_SRGB8_ETC2]=.5,pt[Xe.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC]=1,pt[Xe.COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2]=.5,pt[Xe.COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2]=.5,pt[Xe.COMPRESSED_RGB_PVRTC_4BPPV1_IMG]=.5,pt[Xe.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG]=.5,pt[Xe.COMPRESSED_RGB_PVRTC_2BPPV1_IMG]=.25,pt[Xe.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG]=.25,pt[Xe.COMPRESSED_RGB_ETC1_WEBGL]=.5,pt[Xe.COMPRESSED_RGB_ATC_WEBGL]=.5,pt[Xe.COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL]=1,pt[Xe.COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL]=1,pt);/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var hm=function(e,t){return hm=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},hm(e,t)};function q2(e,t){hm(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}function UG(e,t,r,n){return new(r||(r=Promise))(function(i,o){function a(h){try{f(n.next(h))}catch(d){o(d)}}function u(h){try{f(n.throw(h))}catch(d){o(d)}}function f(h){h.done?i(h.value):new r(function(d){d(h.value)}).then(a,u)}f((n=n.apply(e,t||[])).next())})}function kG(e,t){var r={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,i,o,a;return a={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function u(h){return function(d){return f([h,d])}}function f(h){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(o=h[0]&2?i.return:h[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,h[1])).done)return o;switch(i=0,o&&(h=[h[0]&2,o.value]),h[0]){case 0:case 1:o=h;break;case 4:return r.label++,{value:h[1],done:!1};case 5:r.label++,i=h[1],h=[0];continue;case 7:h=r.ops.pop(),r.trys.pop();continue;default:if(o=r.trys,!(o=o.length>0&&o[o.length-1])&&(h[0]===6||h[0]===2)){r=0;continue}if(h[0]===3&&(!o||h[1]>o[0]&&h[1]<o[3])){r.label=h[1];break}if(h[0]===6&&r.label<o[1]){r.label=o[1],o=h;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(h);break}o[2]&&r.ops.pop(),r.trys.pop();continue}h=t.call(e,r)}catch(d){h=[6,d],i=0}finally{n=o=0}if(h[0]&5)throw h[1];return{value:h[0]?h[1]:void 0,done:!0}}}var BG=function(e){q2(t,e);function t(r,n){n===void 0&&(n={width:1,height:1,autoLoad:!0});var i=this,o,a;return typeof r=="string"?(o=r,a=new Uint8Array):(o=null,a=r),i=e.call(this,a,n)||this,i.origin=o,i.buffer=a?new fm(a):null,i.origin&&n.autoLoad!==!1&&i.load(),a&&a.length&&(i.loaded=!0,i.onBlobLoaded(i.buffer.rawBinaryData)),i}return t.prototype.onBlobLoaded=function(r){},t.prototype.load=function(){return UG(this,void 0,Promise,function(){var r,n,i;return kG(this,function(o){switch(o.label){case 0:return[4,fetch(this.origin)];case 1:return r=o.sent(),[4,r.blob()];case 2:return n=o.sent(),[4,n.arrayBuffer()];case 3:return i=o.sent(),this.data=new Uint32Array(i),this.buffer=new fm(i),this.loaded=!0,this.onBlobLoaded(i),this.update(),[2,this]}})})},t}(Ls),cm=function(e){q2(t,e);function t(r,n){var i=e.call(this,r,n)||this;return i.format=n.format,i.levels=n.levels||1,i._width=n.width,i._height=n.height,i._extension=t._formatToExtension(i.format),(n.levelBuffers||i.buffer)&&(i._levelBuffers=n.levelBuffers||t._createLevelBuffers(r instanceof Uint8Array?r:i.buffer.uint8View,i.format,i.levels,4,4,i.width,i.height)),i}return t.prototype.upload=function(r,n,i){var o=r.gl,a=r.context.extensions[this._extension];if(!a)throw new Error(this._extension+" textures are not supported on the current machine");if(!this._levelBuffers)return!1;for(var u=0,f=this.levels;u<f;u++){var h=this._levelBuffers[u],d=h.levelID,p=h.levelWidth,v=h.levelHeight,m=h.levelBuffer;o.compressedTexImage2D(o.TEXTURE_2D,d,this.format,p,v,0,m)}return!0},t.prototype.onBlobLoaded=function(){this._levelBuffers=t._createLevelBuffers(this.buffer.uint8View,this.format,this.levels,4,4,this.width,this.height)},t._formatToExtension=function(r){if(r>=33776&&r<=33779)return"s3tc";if(r>=37488&&r<=37497)return"etc";if(r>=35840&&r<=35843)return"pvrtc";if(r>=36196)return"etc1";if(r>=35986&&r<=34798)return"atc";throw new Error("Invalid (compressed) texture format given!")},t._createLevelBuffers=function(r,n,i,o,a,u,f){for(var h=new Array(i),d=r.byteOffset,p=u,v=f,m=p+o-1&~(o-1),y=v+a-1&~(a-1),E=m*y*mc[n],g=0;g<i;g++)h[g]={levelID:g,levelWidth:i>1?p:m,levelHeight:i>1?v:y,levelBuffer:new Uint8Array(r.buffer,d,E)},d+=E,p=p>>1||1,v=v>>1||1,m=p+o-1&~(o-1),y=v+a-1&~(a-1),E=m*y*mc[n];return h},t}(BG),MG=function(){function e(){}return e.use=function(t,r){var n=t.data,i=this;if(t.type===Mt.TYPE.JSON&&n&&n.cacheID&&n.textures){for(var o=n.textures,a=void 0,u=void 0,f=0,h=o.length;f<h;f++){var d=o[f],p=d.src,v=d.format;if(v||(u=p),e.textureFormats[v]){a=p;break}}if(a=a||u,!a){r(new Error("Cannot load compressed-textures in "+t.url+", make sure you provide a fallback"));return}if(a===t.url){r(new Error("URL of compressed texture cannot be the same as the manifest's URL"));return}var m={crossOrigin:t.crossOrigin,metadata:t.metadata.imageMetadata,parentResource:t},y=Ka.resolve(t.url.replace(i.baseUrl,""),a),E=n.cacheID;i.add(E,y,m,function(g){if(g.error){r(g.error);return}var x=g.texture,w=x===void 0?null:x,N=g.textures,O=N===void 0?{}:N;Object.assign(t,{texture:w,textures:O}),r()})}else r()},e.add=function(){var t=document.createElement("canvas"),r=t.getContext("webgl");if(!r){console.warn("WebGL not available for compressed textures. Silently failing.");return}var n={s3tc:r.getExtension("WEBGL_compressed_texture_s3tc"),s3tc_sRGB:r.getExtension("WEBGL_compressed_texture_s3tc_srgb"),etc:r.getExtension("WEBGL_compressed_texture_etc"),etc1:r.getExtension("WEBGL_compressed_texture_etc1"),pvrtc:r.getExtension("WEBGL_compressed_texture_pvrtc")||r.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),atc:r.getExtension("WEBGL_compressed_texture_atc"),astc:r.getExtension("WEBGL_compressed_texture_astc")};e.textureExtensions=n,e.textureFormats={};for(var i in n){var o=n[i];!o||Object.assign(e.textureFormats,Object.getPrototypeOf(o))}},e}();function K2(e,t,r){var n={textures:{},texture:null};if(!t)return n;var i=t.map(function(o){return new Se(new Qe(o,Object.assign({mipmap:wi.OFF,alphaMode:On.NO_PREMULTIPLIED_ALPHA},r)))});return i.forEach(function(o,a){var u=o.baseTexture,f=e+"-"+(a+1);Qe.addToCache(u,f),Se.addToCache(o,f),a===0&&(Qe.addToCache(u,e),Se.addToCache(o,e),n.texture=o),n.textures[f]=o}),n}var yu,Sn;Mt.setExtensionXhrType("dds",Mt.XHR_RESPONSE_TYPE.BUFFER);var Mv=4,ph=124,DG=32,RE=20,GG=542327876,vh={SIZE:1,FLAGS:2,HEIGHT:3,WIDTH:4,MIPMAP_COUNT:7,PIXEL_FORMAT:19},HG={SIZE:0,FLAGS:1,FOURCC:2,RGB_BITCOUNT:3,R_BIT_MASK:4,G_BIT_MASK:5,B_BIT_MASK:6,A_BIT_MASK:7},_h={DXGI_FORMAT:0,RESOURCE_DIMENSION:1,MISC_FLAG:2,ARRAY_SIZE:3,MISC_FLAGS2:4},In;(function(e){e[e.DXGI_FORMAT_UNKNOWN=0]="DXGI_FORMAT_UNKNOWN",e[e.DXGI_FORMAT_R32G32B32A32_TYPELESS=1]="DXGI_FORMAT_R32G32B32A32_TYPELESS",e[e.DXGI_FORMAT_R32G32B32A32_FLOAT=2]="DXGI_FORMAT_R32G32B32A32_FLOAT",e[e.DXGI_FORMAT_R32G32B32A32_UINT=3]="DXGI_FORMAT_R32G32B32A32_UINT",e[e.DXGI_FORMAT_R32G32B32A32_SINT=4]="DXGI_FORMAT_R32G32B32A32_SINT",e[e.DXGI_FORMAT_R32G32B32_TYPELESS=5]="DXGI_FORMAT_R32G32B32_TYPELESS",e[e.DXGI_FORMAT_R32G32B32_FLOAT=6]="DXGI_FORMAT_R32G32B32_FLOAT",e[e.DXGI_FORMAT_R32G32B32_UINT=7]="DXGI_FORMAT_R32G32B32_UINT",e[e.DXGI_FORMAT_R32G32B32_SINT=8]="DXGI_FORMAT_R32G32B32_SINT",e[e.DXGI_FORMAT_R16G16B16A16_TYPELESS=9]="DXGI_FORMAT_R16G16B16A16_TYPELESS",e[e.DXGI_FORMAT_R16G16B16A16_FLOAT=10]="DXGI_FORMAT_R16G16B16A16_FLOAT",e[e.DXGI_FORMAT_R16G16B16A16_UNORM=11]="DXGI_FORMAT_R16G16B16A16_UNORM",e[e.DXGI_FORMAT_R16G16B16A16_UINT=12]="DXGI_FORMAT_R16G16B16A16_UINT",e[e.DXGI_FORMAT_R16G16B16A16_SNORM=13]="DXGI_FORMAT_R16G16B16A16_SNORM",e[e.DXGI_FORMAT_R16G16B16A16_SINT=14]="DXGI_FORMAT_R16G16B16A16_SINT",e[e.DXGI_FORMAT_R32G32_TYPELESS=15]="DXGI_FORMAT_R32G32_TYPELESS",e[e.DXGI_FORMAT_R32G32_FLOAT=16]="DXGI_FORMAT_R32G32_FLOAT",e[e.DXGI_FORMAT_R32G32_UINT=17]="DXGI_FORMAT_R32G32_UINT",e[e.DXGI_FORMAT_R32G32_SINT=18]="DXGI_FORMAT_R32G32_SINT",e[e.DXGI_FORMAT_R32G8X24_TYPELESS=19]="DXGI_FORMAT_R32G8X24_TYPELESS",e[e.DXGI_FORMAT_D32_FLOAT_S8X24_UINT=20]="DXGI_FORMAT_D32_FLOAT_S8X24_UINT",e[e.DXGI_FORMAT_R32_FLOAT_X8X24_TYPELESS=21]="DXGI_FORMAT_R32_FLOAT_X8X24_TYPELESS",e[e.DXGI_FORMAT_X32_TYPELESS_G8X24_UINT=22]="DXGI_FORMAT_X32_TYPELESS_G8X24_UINT",e[e.DXGI_FORMAT_R10G10B10A2_TYPELESS=23]="DXGI_FORMAT_R10G10B10A2_TYPELESS",e[e.DXGI_FORMAT_R10G10B10A2_UNORM=24]="DXGI_FORMAT_R10G10B10A2_UNORM",e[e.DXGI_FORMAT_R10G10B10A2_UINT=25]="DXGI_FORMAT_R10G10B10A2_UINT",e[e.DXGI_FORMAT_R11G11B10_FLOAT=26]="DXGI_FORMAT_R11G11B10_FLOAT",e[e.DXGI_FORMAT_R8G8B8A8_TYPELESS=27]="DXGI_FORMAT_R8G8B8A8_TYPELESS",e[e.DXGI_FORMAT_R8G8B8A8_UNORM=28]="DXGI_FORMAT_R8G8B8A8_UNORM",e[e.DXGI_FORMAT_R8G8B8A8_UNORM_SRGB=29]="DXGI_FORMAT_R8G8B8A8_UNORM_SRGB",e[e.DXGI_FORMAT_R8G8B8A8_UINT=30]="DXGI_FORMAT_R8G8B8A8_UINT",e[e.DXGI_FORMAT_R8G8B8A8_SNORM=31]="DXGI_FORMAT_R8G8B8A8_SNORM",e[e.DXGI_FORMAT_R8G8B8A8_SINT=32]="DXGI_FORMAT_R8G8B8A8_SINT",e[e.DXGI_FORMAT_R16G16_TYPELESS=33]="DXGI_FORMAT_R16G16_TYPELESS",e[e.DXGI_FORMAT_R16G16_FLOAT=34]="DXGI_FORMAT_R16G16_FLOAT",e[e.DXGI_FORMAT_R16G16_UNORM=35]="DXGI_FORMAT_R16G16_UNORM",e[e.DXGI_FORMAT_R16G16_UINT=36]="DXGI_FORMAT_R16G16_UINT",e[e.DXGI_FORMAT_R16G16_SNORM=37]="DXGI_FORMAT_R16G16_SNORM",e[e.DXGI_FORMAT_R16G16_SINT=38]="DXGI_FORMAT_R16G16_SINT",e[e.DXGI_FORMAT_R32_TYPELESS=39]="DXGI_FORMAT_R32_TYPELESS",e[e.DXGI_FORMAT_D32_FLOAT=40]="DXGI_FORMAT_D32_FLOAT",e[e.DXGI_FORMAT_R32_FLOAT=41]="DXGI_FORMAT_R32_FLOAT",e[e.DXGI_FORMAT_R32_UINT=42]="DXGI_FORMAT_R32_UINT",e[e.DXGI_FORMAT_R32_SINT=43]="DXGI_FORMAT_R32_SINT",e[e.DXGI_FORMAT_R24G8_TYPELESS=44]="DXGI_FORMAT_R24G8_TYPELESS",e[e.DXGI_FORMAT_D24_UNORM_S8_UINT=45]="DXGI_FORMAT_D24_UNORM_S8_UINT",e[e.DXGI_FORMAT_R24_UNORM_X8_TYPELESS=46]="DXGI_FORMAT_R24_UNORM_X8_TYPELESS",e[e.DXGI_FORMAT_X24_TYPELESS_G8_UINT=47]="DXGI_FORMAT_X24_TYPELESS_G8_UINT",e[e.DXGI_FORMAT_R8G8_TYPELESS=48]="DXGI_FORMAT_R8G8_TYPELESS",e[e.DXGI_FORMAT_R8G8_UNORM=49]="DXGI_FORMAT_R8G8_UNORM",e[e.DXGI_FORMAT_R8G8_UINT=50]="DXGI_FORMAT_R8G8_UINT",e[e.DXGI_FORMAT_R8G8_SNORM=51]="DXGI_FORMAT_R8G8_SNORM",e[e.DXGI_FORMAT_R8G8_SINT=52]="DXGI_FORMAT_R8G8_SINT",e[e.DXGI_FORMAT_R16_TYPELESS=53]="DXGI_FORMAT_R16_TYPELESS",e[e.DXGI_FORMAT_R16_FLOAT=54]="DXGI_FORMAT_R16_FLOAT",e[e.DXGI_FORMAT_D16_UNORM=55]="DXGI_FORMAT_D16_UNORM",e[e.DXGI_FORMAT_R16_UNORM=56]="DXGI_FORMAT_R16_UNORM",e[e.DXGI_FORMAT_R16_UINT=57]="DXGI_FORMAT_R16_UINT",e[e.DXGI_FORMAT_R16_SNORM=58]="DXGI_FORMAT_R16_SNORM",e[e.DXGI_FORMAT_R16_SINT=59]="DXGI_FORMAT_R16_SINT",e[e.DXGI_FORMAT_R8_TYPELESS=60]="DXGI_FORMAT_R8_TYPELESS",e[e.DXGI_FORMAT_R8_UNORM=61]="DXGI_FORMAT_R8_UNORM",e[e.DXGI_FORMAT_R8_UINT=62]="DXGI_FORMAT_R8_UINT",e[e.DXGI_FORMAT_R8_SNORM=63]="DXGI_FORMAT_R8_SNORM",e[e.DXGI_FORMAT_R8_SINT=64]="DXGI_FORMAT_R8_SINT",e[e.DXGI_FORMAT_A8_UNORM=65]="DXGI_FORMAT_A8_UNORM",e[e.DXGI_FORMAT_R1_UNORM=66]="DXGI_FORMAT_R1_UNORM",e[e.DXGI_FORMAT_R9G9B9E5_SHAREDEXP=67]="DXGI_FORMAT_R9G9B9E5_SHAREDEXP",e[e.DXGI_FORMAT_R8G8_B8G8_UNORM=68]="DXGI_FORMAT_R8G8_B8G8_UNORM",e[e.DXGI_FORMAT_G8R8_G8B8_UNORM=69]="DXGI_FORMAT_G8R8_G8B8_UNORM",e[e.DXGI_FORMAT_BC1_TYPELESS=70]="DXGI_FORMAT_BC1_TYPELESS",e[e.DXGI_FORMAT_BC1_UNORM=71]="DXGI_FORMAT_BC1_UNORM",e[e.DXGI_FORMAT_BC1_UNORM_SRGB=72]="DXGI_FORMAT_BC1_UNORM_SRGB",e[e.DXGI_FORMAT_BC2_TYPELESS=73]="DXGI_FORMAT_BC2_TYPELESS",e[e.DXGI_FORMAT_BC2_UNORM=74]="DXGI_FORMAT_BC2_UNORM",e[e.DXGI_FORMAT_BC2_UNORM_SRGB=75]="DXGI_FORMAT_BC2_UNORM_SRGB",e[e.DXGI_FORMAT_BC3_TYPELESS=76]="DXGI_FORMAT_BC3_TYPELESS",e[e.DXGI_FORMAT_BC3_UNORM=77]="DXGI_FORMAT_BC3_UNORM",e[e.DXGI_FORMAT_BC3_UNORM_SRGB=78]="DXGI_FORMAT_BC3_UNORM_SRGB",e[e.DXGI_FORMAT_BC4_TYPELESS=79]="DXGI_FORMAT_BC4_TYPELESS",e[e.DXGI_FORMAT_BC4_UNORM=80]="DXGI_FORMAT_BC4_UNORM",e[e.DXGI_FORMAT_BC4_SNORM=81]="DXGI_FORMAT_BC4_SNORM",e[e.DXGI_FORMAT_BC5_TYPELESS=82]="DXGI_FORMAT_BC5_TYPELESS",e[e.DXGI_FORMAT_BC5_UNORM=83]="DXGI_FORMAT_BC5_UNORM",e[e.DXGI_FORMAT_BC5_SNORM=84]="DXGI_FORMAT_BC5_SNORM",e[e.DXGI_FORMAT_B5G6R5_UNORM=85]="DXGI_FORMAT_B5G6R5_UNORM",e[e.DXGI_FORMAT_B5G5R5A1_UNORM=86]="DXGI_FORMAT_B5G5R5A1_UNORM",e[e.DXGI_FORMAT_B8G8R8A8_UNORM=87]="DXGI_FORMAT_B8G8R8A8_UNORM",e[e.DXGI_FORMAT_B8G8R8X8_UNORM=88]="DXGI_FORMAT_B8G8R8X8_UNORM",e[e.DXGI_FORMAT_R10G10B10_XR_BIAS_A2_UNORM=89]="DXGI_FORMAT_R10G10B10_XR_BIAS_A2_UNORM",e[e.DXGI_FORMAT_B8G8R8A8_TYPELESS=90]="DXGI_FORMAT_B8G8R8A8_TYPELESS",e[e.DXGI_FORMAT_B8G8R8A8_UNORM_SRGB=91]="DXGI_FORMAT_B8G8R8A8_UNORM_SRGB",e[e.DXGI_FORMAT_B8G8R8X8_TYPELESS=92]="DXGI_FORMAT_B8G8R8X8_TYPELESS",e[e.DXGI_FORMAT_B8G8R8X8_UNORM_SRGB=93]="DXGI_FORMAT_B8G8R8X8_UNORM_SRGB",e[e.DXGI_FORMAT_BC6H_TYPELESS=94]="DXGI_FORMAT_BC6H_TYPELESS",e[e.DXGI_FORMAT_BC6H_UF16=95]="DXGI_FORMAT_BC6H_UF16",e[e.DXGI_FORMAT_BC6H_SF16=96]="DXGI_FORMAT_BC6H_SF16",e[e.DXGI_FORMAT_BC7_TYPELESS=97]="DXGI_FORMAT_BC7_TYPELESS",e[e.DXGI_FORMAT_BC7_UNORM=98]="DXGI_FORMAT_BC7_UNORM",e[e.DXGI_FORMAT_BC7_UNORM_SRGB=99]="DXGI_FORMAT_BC7_UNORM_SRGB",e[e.DXGI_FORMAT_AYUV=100]="DXGI_FORMAT_AYUV",e[e.DXGI_FORMAT_Y410=101]="DXGI_FORMAT_Y410",e[e.DXGI_FORMAT_Y416=102]="DXGI_FORMAT_Y416",e[e.DXGI_FORMAT_NV12=103]="DXGI_FORMAT_NV12",e[e.DXGI_FORMAT_P010=104]="DXGI_FORMAT_P010",e[e.DXGI_FORMAT_P016=105]="DXGI_FORMAT_P016",e[e.DXGI_FORMAT_420_OPAQUE=106]="DXGI_FORMAT_420_OPAQUE",e[e.DXGI_FORMAT_YUY2=107]="DXGI_FORMAT_YUY2",e[e.DXGI_FORMAT_Y210=108]="DXGI_FORMAT_Y210",e[e.DXGI_FORMAT_Y216=109]="DXGI_FORMAT_Y216",e[e.DXGI_FORMAT_NV11=110]="DXGI_FORMAT_NV11",e[e.DXGI_FORMAT_AI44=111]="DXGI_FORMAT_AI44",e[e.DXGI_FORMAT_IA44=112]="DXGI_FORMAT_IA44",e[e.DXGI_FORMAT_P8=113]="DXGI_FORMAT_P8",e[e.DXGI_FORMAT_A8P8=114]="DXGI_FORMAT_A8P8",e[e.DXGI_FORMAT_B4G4R4A4_UNORM=115]="DXGI_FORMAT_B4G4R4A4_UNORM",e[e.DXGI_FORMAT_P208=116]="DXGI_FORMAT_P208",e[e.DXGI_FORMAT_V208=117]="DXGI_FORMAT_V208",e[e.DXGI_FORMAT_V408=118]="DXGI_FORMAT_V408",e[e.DXGI_FORMAT_SAMPLER_FEEDBACK_MIN_MIP_OPAQUE=119]="DXGI_FORMAT_SAMPLER_FEEDBACK_MIN_MIP_OPAQUE",e[e.DXGI_FORMAT_SAMPLER_FEEDBACK_MIP_REGION_USED_OPAQUE=120]="DXGI_FORMAT_SAMPLER_FEEDBACK_MIP_REGION_USED_OPAQUE",e[e.DXGI_FORMAT_FORCE_UINT=121]="DXGI_FORMAT_FORCE_UINT"})(In||(In={}));var dm;(function(e){e[e.DDS_DIMENSION_TEXTURE1D=2]="DDS_DIMENSION_TEXTURE1D",e[e.DDS_DIMENSION_TEXTURE2D=3]="DDS_DIMENSION_TEXTURE2D",e[e.DDS_DIMENSION_TEXTURE3D=6]="DDS_DIMENSION_TEXTURE3D"})(dm||(dm={}));var XG=1,zG=2,VG=4,WG=64,jG=512,$G=131072,YG=827611204,qG=861165636,KG=894720068,ZG=808540228,JG=4,QG=(yu={},yu[YG]=Xe.COMPRESSED_RGBA_S3TC_DXT1_EXT,yu[qG]=Xe.COMPRESSED_RGBA_S3TC_DXT3_EXT,yu[KG]=Xe.COMPRESSED_RGBA_S3TC_DXT5_EXT,yu),e8=(Sn={},Sn[In.DXGI_FORMAT_BC1_TYPELESS]=Xe.COMPRESSED_RGBA_S3TC_DXT1_EXT,Sn[In.DXGI_FORMAT_BC1_UNORM]=Xe.COMPRESSED_RGBA_S3TC_DXT1_EXT,Sn[In.DXGI_FORMAT_BC2_TYPELESS]=Xe.COMPRESSED_RGBA_S3TC_DXT3_EXT,Sn[In.DXGI_FORMAT_BC2_UNORM]=Xe.COMPRESSED_RGBA_S3TC_DXT3_EXT,Sn[In.DXGI_FORMAT_BC3_TYPELESS]=Xe.COMPRESSED_RGBA_S3TC_DXT5_EXT,Sn[In.DXGI_FORMAT_BC3_UNORM]=Xe.COMPRESSED_RGBA_S3TC_DXT5_EXT,Sn[In.DXGI_FORMAT_BC1_UNORM_SRGB]=Xe.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT,Sn[In.DXGI_FORMAT_BC2_UNORM_SRGB]=Xe.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT,Sn[In.DXGI_FORMAT_BC3_UNORM_SRGB]=Xe.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT,Sn),t8=function(){function e(){}return e.use=function(t,r){if(t.extension==="dds"&&t.data)try{Object.assign(t,K2(t.name||t.url,e.parse(t.data),t.metadata))}catch(n){r(n);return}r()},e.parse=function(t){var r=new Uint32Array(t),n=r[0];if(n!==GG)throw new Error("Invalid DDS file magic word");var i=new Uint32Array(t,0,ph/Uint32Array.BYTES_PER_ELEMENT),o=i[vh.HEIGHT],a=i[vh.WIDTH],u=i[vh.MIPMAP_COUNT],f=new Uint32Array(t,vh.PIXEL_FORMAT*Uint32Array.BYTES_PER_ELEMENT,DG/Uint32Array.BYTES_PER_ELEMENT),h=f[XG];if(h&VG){var d=f[HG.FOURCC];if(d!==ZG){var p=QG[d],v=Mv+ph,m=new Uint8Array(t,v),y=new cm(m,{format:p,width:a,height:o,levels:u});return[y]}var E=Mv+ph,g=new Uint32Array(r.buffer,E,RE/Uint32Array.BYTES_PER_ELEMENT),x=g[_h.DXGI_FORMAT],w=g[_h.RESOURCE_DIMENSION],N=g[_h.MISC_FLAG],O=g[_h.ARRAY_SIZE],R=e8[x];if(R===void 0)throw new Error("DDSLoader cannot parse texture data with DXGI format "+x);if(N===JG)throw new Error("DDSLoader does not support cubemap textures");if(w===dm.DDS_DIMENSION_TEXTURE3D)throw new Error("DDSLoader does not supported 3D texture data");var I=new Array,B=Mv+ph+RE;if(O===1)I.push(new Uint8Array(t,B));else{for(var z=mc[R],M=0,$=a,de=o,ae=0;ae<u;ae++){var pe=Math.max(1,$+3&-4),We=Math.max(1,de+3&-4),le=pe*We*z;M+=le,$=$>>>1,de=de>>>1}for(var fe=B,ae=0;ae<O;ae++)I.push(new Uint8Array(t,fe,M)),fe+=M}return I.map(function(ye){return new cm(ye,{format:R,width:a,height:o,levels:u})})}throw h&WG?new Error("DDSLoader does not support uncompressed texture data."):h&jG?new Error("DDSLoader does not supported YUV uncompressed texture data."):h&$G?new Error("DDSLoader does not support single-channel (lumninance) texture data!"):h&zG?new Error("DDSLoader does not support single-channel (alpha) texture data!"):new Error("DDSLoader failed to load a texture file due to an unknown reason!")},e}(),Xi,fi,xu;Mt.setExtensionXhrType("ktx",Mt.XHR_RESPONSE_TYPE.BUFFER);var NE=[171,75,84,88,32,49,49,187,13,10,26,10],r8=67305985,Cn={FILE_IDENTIFIER:0,ENDIANNESS:12,GL_TYPE:16,GL_TYPE_SIZE:20,GL_FORMAT:24,GL_INTERNAL_FORMAT:28,GL_BASE_INTERNAL_FORMAT:32,PIXEL_WIDTH:36,PIXEL_HEIGHT:40,PIXEL_DEPTH:44,NUMBER_OF_ARRAY_ELEMENTS:48,NUMBER_OF_FACES:52,NUMBER_OF_MIPMAP_LEVELS:56,BYTES_OF_KEY_VALUE_DATA:60},n8=64,PE=(Xi={},Xi[we.UNSIGNED_BYTE]=1,Xi[we.UNSIGNED_SHORT]=2,Xi[we.INT]=4,Xi[we.UNSIGNED_INT]=4,Xi[we.FLOAT]=4,Xi[we.HALF_FLOAT]=8,Xi),i8=(fi={},fi[oe.RGBA]=4,fi[oe.RGB]=3,fi[oe.RG]=2,fi[oe.RED]=1,fi[oe.LUMINANCE]=1,fi[oe.LUMINANCE_ALPHA]=2,fi[oe.ALPHA]=1,fi),o8=(xu={},xu[we.UNSIGNED_SHORT_4_4_4_4]=2,xu[we.UNSIGNED_SHORT_5_5_5_1]=2,xu[we.UNSIGNED_SHORT_5_6_5]=2,xu),a8=function(){function e(){}return e.use=function(t,r){if(t.extension==="ktx"&&t.data)try{var n=t.name||t.url,i=e.parse(n,t.data),o=i.compressed,a=i.uncompressed;if(o)Object.assign(t,K2(n,o,t.metadata));else if(a){var u={};a.forEach(function(f,h){var d=new Se(new Qe(f.resource,{mipmap:wi.OFF,alphaMode:On.NO_PREMULTIPLIED_ALPHA,type:f.type,format:f.format})),p=n+"-"+(h+1);Qe.addToCache(d.baseTexture,p),Se.addToCache(d,p),h===0&&(u[n]=d,Qe.addToCache(d.baseTexture,n),Se.addToCache(d,n)),u[p]=d}),Object.assign(t,{textures:u})}}catch(f){r(f);return}r()},e.parse=function(t,r){var n=new DataView(r);if(!e.validate(t,n))return null;var i=n.getUint32(Cn.ENDIANNESS,!0)===r8,o=n.getUint32(Cn.GL_TYPE,i),a=n.getUint32(Cn.GL_FORMAT,i),u=n.getUint32(Cn.GL_INTERNAL_FORMAT,i),f=n.getUint32(Cn.PIXEL_WIDTH,i),h=n.getUint32(Cn.PIXEL_HEIGHT,i)||1,d=n.getUint32(Cn.PIXEL_DEPTH,i)||1,p=n.getUint32(Cn.NUMBER_OF_ARRAY_ELEMENTS,i)||1,v=n.getUint32(Cn.NUMBER_OF_FACES,i),m=n.getUint32(Cn.NUMBER_OF_MIPMAP_LEVELS,i),y=n.getUint32(Cn.BYTES_OF_KEY_VALUE_DATA,i);if(h===0||d!==1)throw new Error("Only 2D textures are supported");if(v!==1)throw new Error("CubeTextures are not supported by KTXLoader yet!");if(p!==1)throw new Error("WebGL does not support array textures");var E=4,g=4,x=f+3&-4,w=h+3&-4,N=new Array(p),O=f*h;o===0&&(O=x*w);var R;if(o!==0?PE[o]?R=PE[o]*i8[a]:R=o8[o]:R=mc[u],R===void 0)throw new Error("Unable to resolve the pixel format stored in the *.ktx file!");for(var I=O*R,B=I,z=f,M=h,$=x,de=w,ae=n8+y,pe=0;pe<m;pe++){for(var We=n.getUint32(ae,i),le=ae+4,fe=0;fe<p;fe++){var ye=N[fe];ye||(ye=N[fe]=new Array(m)),ye[pe]={levelID:pe,levelWidth:m>1||o!==0?z:$,levelHeight:m>1||o!==0?M:de,levelBuffer:new Uint8Array(r,le,B)},le+=B}ae+=We+4,ae=ae%4!==0?ae+4-ae%4:ae,z=z>>1||1,M=M>>1||1,$=z+E-1&~(E-1),de=M+g-1&~(g-1),B=$*de*R}return o!==0?{uncompressed:N.map(function(Oe){var ht=Oe[0].levelBuffer,Z=!1;return o===we.FLOAT?ht=new Float32Array(Oe[0].levelBuffer.buffer,Oe[0].levelBuffer.byteOffset,Oe[0].levelBuffer.byteLength/4):o===we.UNSIGNED_INT?(Z=!0,ht=new Uint32Array(Oe[0].levelBuffer.buffer,Oe[0].levelBuffer.byteOffset,Oe[0].levelBuffer.byteLength/4)):o===we.INT&&(Z=!0,ht=new Int32Array(Oe[0].levelBuffer.buffer,Oe[0].levelBuffer.byteOffset,Oe[0].levelBuffer.byteLength/4)),{resource:new Ls(ht,{width:Oe[0].levelWidth,height:Oe[0].levelHeight}),type:o,format:Z?e.convertFormatToInteger(a):a}})}:{compressed:N.map(function(Oe){return new cm(null,{format:u,width:f,height:h,levels:m,levelBuffers:Oe})})}},e.validate=function(t,r){for(var n=0;n<NE.length;n++)if(r.getUint8(n)!==NE[n])return console.error(t+" is not a valid *.ktx file!"),!1;return!0},e.convertFormatToInteger=function(t){switch(t){case oe.RGBA:return oe.RGBA_INTEGER;case oe.RGB:return oe.RGB_INTEGER;case oe.RG:return oe.RG_INTEGER;case oe.RED:return oe.RED_INTEGER;default:return t}},e}();/*!
 * @pixi/particle-container - v6.3.0
 * Compiled Wed, 23 Mar 2022 18:58:56 UTC
 *
 * @pixi/particle-container is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var pm=function(e,t){return pm=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},pm(e,t)};function Z2(e,t){pm(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}(function(e){Z2(t,e);function t(r,n,i,o){r===void 0&&(r=1500),i===void 0&&(i=16384),o===void 0&&(o=!1);var a=e.call(this)||this,u=16384;return i>u&&(i=u),a._properties=[!1,!0,!1,!1,!1],a._maxSize=r,a._batchSize=i,a._buffers=null,a._bufferUpdateIDs=[],a._updateID=0,a.interactiveChildren=!1,a.blendMode=be.NORMAL,a.autoResize=o,a.roundPixels=!0,a.baseTexture=null,a.setProperties(n),a._tint=0,a.tintRgb=new Float32Array(4),a.tint=16777215,a}return t.prototype.setProperties=function(r){r&&(this._properties[0]="vertices"in r||"scale"in r?!!r.vertices||!!r.scale:this._properties[0],this._properties[1]="position"in r?!!r.position:this._properties[1],this._properties[2]="rotation"in r?!!r.rotation:this._properties[2],this._properties[3]="uvs"in r?!!r.uvs:this._properties[3],this._properties[4]="tint"in r||"alpha"in r?!!r.tint||!!r.alpha:this._properties[4])},t.prototype.updateTransform=function(){this.displayObjectUpdateTransform()},Object.defineProperty(t.prototype,"tint",{get:function(){return this._tint},set:function(r){this._tint=r,Es(r,this.tintRgb)},enumerable:!1,configurable:!0}),t.prototype.render=function(r){var n=this;!this.visible||this.worldAlpha<=0||!this.children.length||!this.renderable||(this.baseTexture||(this.baseTexture=this.children[0]._texture.baseTexture,this.baseTexture.valid||this.baseTexture.once("update",function(){return n.onChildrenChange(0)})),r.batch.setObjectRenderer(r.plugins.particle),r.plugins.particle.render(this))},t.prototype.onChildrenChange=function(r){for(var n=Math.floor(r/this._batchSize);this._bufferUpdateIDs.length<n;)this._bufferUpdateIDs.push(0);this._bufferUpdateIDs[n]=++this._updateID},t.prototype.dispose=function(){if(this._buffers){for(var r=0;r<this._buffers.length;++r)this._buffers[r].destroy();this._buffers=null}},t.prototype.destroy=function(r){e.prototype.destroy.call(this,r),this.dispose(),this._properties=null,this._buffers=null,this._bufferUpdateIDs=null},t})(_n);var AE=function(){function e(t,r,n){this.geometry=new Pl,this.indexBuffer=null,this.size=n,this.dynamicProperties=[],this.staticProperties=[];for(var i=0;i<t.length;++i){var o=t[i];o={attributeName:o.attributeName,size:o.size,uploadFunction:o.uploadFunction,type:o.type||we.FLOAT,offset:o.offset},r[i]?this.dynamicProperties.push(o):this.staticProperties.push(o)}this.staticStride=0,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.dynamicStride=0,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this._updateID=0,this.initBuffers()}return e.prototype.initBuffers=function(){var t=this.geometry,r=0;this.indexBuffer=new Kt(U6(this.size),!0,!0),t.addIndex(this.indexBuffer),this.dynamicStride=0;for(var n=0;n<this.dynamicProperties.length;++n){var i=this.dynamicProperties[n];i.offset=r,r+=i.size,this.dynamicStride+=i.size}var o=new ArrayBuffer(this.size*this.dynamicStride*4*4);this.dynamicData=new Float32Array(o),this.dynamicDataUint32=new Uint32Array(o),this.dynamicBuffer=new Kt(this.dynamicData,!1,!1);var a=0;this.staticStride=0;for(var n=0;n<this.staticProperties.length;++n){var i=this.staticProperties[n];i.offset=a,a+=i.size,this.staticStride+=i.size}var u=new ArrayBuffer(this.size*this.staticStride*4*4);this.staticData=new Float32Array(u),this.staticDataUint32=new Uint32Array(u),this.staticBuffer=new Kt(this.staticData,!0,!1);for(var n=0;n<this.dynamicProperties.length;++n){var i=this.dynamicProperties[n];t.addAttribute(i.attributeName,this.dynamicBuffer,0,i.type===we.UNSIGNED_BYTE,i.type,this.dynamicStride*4,i.offset*4)}for(var n=0;n<this.staticProperties.length;++n){var i=this.staticProperties[n];t.addAttribute(i.attributeName,this.staticBuffer,0,i.type===we.UNSIGNED_BYTE,i.type,this.staticStride*4,i.offset*4)}},e.prototype.uploadDynamic=function(t,r,n){for(var i=0;i<this.dynamicProperties.length;i++){var o=this.dynamicProperties[i];o.uploadFunction(t,r,n,o.type===we.UNSIGNED_BYTE?this.dynamicDataUint32:this.dynamicData,this.dynamicStride,o.offset)}this.dynamicBuffer._updateID++},e.prototype.uploadStatic=function(t,r,n){for(var i=0;i<this.staticProperties.length;i++){var o=this.staticProperties[i];o.uploadFunction(t,r,n,o.type===we.UNSIGNED_BYTE?this.staticDataUint32:this.staticData,this.staticStride,o.offset)}this.staticBuffer._updateID++},e.prototype.destroy=function(){this.indexBuffer=null,this.dynamicProperties=null,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this.staticProperties=null,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.geometry.destroy()},e}(),s8=`varying vec2 vTextureCoord;
varying vec4 vColor;

uniform sampler2D uSampler;

void main(void){
    vec4 color = texture2D(uSampler, vTextureCoord) * vColor;
    gl_FragColor = color;
}`,u8=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;
attribute vec4 aColor;

attribute vec2 aPositionCoord;
attribute float aRotation;

uniform mat3 translationMatrix;
uniform vec4 uColor;

varying vec2 vTextureCoord;
varying vec4 vColor;

void main(void){
    float x = (aVertexPosition.x) * cos(aRotation) - (aVertexPosition.y) * sin(aRotation);
    float y = (aVertexPosition.x) * sin(aRotation) + (aVertexPosition.y) * cos(aRotation);

    vec2 v = vec2(x, y);
    v = v + aPositionCoord;

    gl_Position = vec4((translationMatrix * vec3(v, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vColor = aColor * uColor;
}
`,l8=function(e){Z2(t,e);function t(r){var n=e.call(this,r)||this;return n.shader=null,n.properties=null,n.tempMatrix=new Wt,n.properties=[{attributeName:"aVertexPosition",size:2,uploadFunction:n.uploadVertices,offset:0},{attributeName:"aPositionCoord",size:2,uploadFunction:n.uploadPosition,offset:0},{attributeName:"aRotation",size:1,uploadFunction:n.uploadRotation,offset:0},{attributeName:"aTextureCoord",size:2,uploadFunction:n.uploadUvs,offset:0},{attributeName:"aColor",size:1,type:we.UNSIGNED_BYTE,uploadFunction:n.uploadTint,offset:0}],n.shader=ao.from(u8,s8,{}),n.state=ua.for2d(),n}return t.prototype.render=function(r){var n=r.children,i=r._maxSize,o=r._batchSize,a=this.renderer,u=n.length;if(u!==0){u>i&&!r.autoResize&&(u=i);var f=r._buffers;f||(f=r._buffers=this.generateBuffers(r));var h=n[0]._texture.baseTexture;this.state.blendMode=f2(r.blendMode,h.alphaMode),a.state.set(this.state);var d=a.gl,p=r.worldTransform.copyTo(this.tempMatrix);p.prepend(a.globalUniforms.uniforms.projectionMatrix),this.shader.uniforms.translationMatrix=p.toArray(!0),this.shader.uniforms.uColor=F6(r.tintRgb,r.worldAlpha,this.shader.uniforms.uColor,h.alphaMode),this.shader.uniforms.uSampler=h,this.renderer.shader.bind(this.shader);for(var v=!1,m=0,y=0;m<u;m+=o,y+=1){var E=u-m;E>o&&(E=o),y>=f.length&&f.push(this._generateOneMoreBuffer(r));var g=f[y];g.uploadDynamic(n,m,E);var x=r._bufferUpdateIDs[y]||0;v=v||g._updateID<x,v&&(g._updateID=r._updateID,g.uploadStatic(n,m,E)),a.geometry.bind(g.geometry),d.drawElements(d.TRIANGLES,E*6,d.UNSIGNED_SHORT,0)}}},t.prototype.generateBuffers=function(r){for(var n=[],i=r._maxSize,o=r._batchSize,a=r._properties,u=0;u<i;u+=o)n.push(new AE(this.properties,a,o));return n},t.prototype._generateOneMoreBuffer=function(r){var n=r._batchSize,i=r._properties;return new AE(this.properties,i,n)},t.prototype.uploadVertices=function(r,n,i,o,a,u){for(var f=0,h=0,d=0,p=0,v=0;v<i;++v){var m=r[n+v],y=m._texture,E=m.scale.x,g=m.scale.y,x=y.trim,w=y.orig;x?(h=x.x-m.anchor.x*w.width,f=h+x.width,p=x.y-m.anchor.y*w.height,d=p+x.height):(f=w.width*(1-m.anchor.x),h=w.width*-m.anchor.x,d=w.height*(1-m.anchor.y),p=w.height*-m.anchor.y),o[u]=h*E,o[u+1]=p*g,o[u+a]=f*E,o[u+a+1]=p*g,o[u+a*2]=f*E,o[u+a*2+1]=d*g,o[u+a*3]=h*E,o[u+a*3+1]=d*g,u+=a*4}},t.prototype.uploadPosition=function(r,n,i,o,a,u){for(var f=0;f<i;f++){var h=r[n+f].position;o[u]=h.x,o[u+1]=h.y,o[u+a]=h.x,o[u+a+1]=h.y,o[u+a*2]=h.x,o[u+a*2+1]=h.y,o[u+a*3]=h.x,o[u+a*3+1]=h.y,u+=a*4}},t.prototype.uploadRotation=function(r,n,i,o,a,u){for(var f=0;f<i;f++){var h=r[n+f].rotation;o[u]=h,o[u+a]=h,o[u+a*2]=h,o[u+a*3]=h,u+=a*4}},t.prototype.uploadUvs=function(r,n,i,o,a,u){for(var f=0;f<i;++f){var h=r[n+f]._texture._uvs;h?(o[u]=h.x0,o[u+1]=h.y0,o[u+a]=h.x1,o[u+a+1]=h.y1,o[u+a*2]=h.x2,o[u+a*2+1]=h.y2,o[u+a*3]=h.x3,o[u+a*3+1]=h.y3,u+=a*4):(o[u]=0,o[u+1]=0,o[u+a]=0,o[u+a+1]=0,o[u+a*2]=0,o[u+a*2+1]=0,o[u+a*3]=0,o[u+a*3+1]=0,u+=a*4)}},t.prototype.uploadTint=function(r,n,i,o,a,u){for(var f=0;f<i;++f){var h=r[n+f],d=h._texture.baseTexture.alphaMode>0,p=h.alpha,v=p<1&&d?qg(h._tintRGB,p):h._tintRGB+(p*255<<24);o[u]=v,o[u+a]=v,o[u+a*2]=v,o[u+a*3]=v,u+=a*4}},t.prototype.destroy=function(){e.prototype.destroy.call(this),this.shader&&(this.shader.destroy(),this.shader=null),this.tempMatrix=null},t}(ed);/*!
 * @pixi/graphics - v6.3.0
 * Compiled Wed, 23 Mar 2022 18:58:56 UTC
 *
 * @pixi/graphics is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var Ki;(function(e){e.MITER="miter",e.BEVEL="bevel",e.ROUND="round"})(Ki||(Ki={}));var Zi;(function(e){e.BUTT="butt",e.ROUND="round",e.SQUARE="square"})(Zi||(Zi={}));var dl={adaptive:!0,maxLength:10,minSegments:8,maxSegments:2048,epsilon:1e-4,_segmentsCount:function(e,t){if(t===void 0&&(t=20),!this.adaptive||!e||isNaN(e))return t;var r=Math.ceil(e/this.maxLength);return r<this.minSegments?r=this.minSegments:r>this.maxSegments&&(r=this.maxSegments),r}},J2=function(){function e(){this.color=16777215,this.alpha=1,this.texture=Se.WHITE,this.matrix=null,this.visible=!1,this.reset()}return e.prototype.clone=function(){var t=new e;return t.color=this.color,t.alpha=this.alpha,t.texture=this.texture,t.matrix=this.matrix,t.visible=this.visible,t},e.prototype.reset=function(){this.color=16777215,this.alpha=1,this.texture=Se.WHITE,this.matrix=null,this.visible=!1},e.prototype.destroy=function(){this.texture=null,this.matrix=null},e}();/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var vm=function(e,t){return vm=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},vm(e,t)};function n0(e,t){vm(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}function OE(e,t){var r,n;t===void 0&&(t=!1);var i=e.length;if(!(i<6)){for(var o=0,a=0,u=e[i-2],f=e[i-1];a<i;a+=2){var h=e[a],d=e[a+1];o+=(h-u)*(d+f),u=h,f=d}if(!t&&o>0||t&&o<=0)for(var p=i/2,a=p+p%2;a<i;a+=2){var v=i-a-2,m=i-a-1,y=a,E=a+1;r=[e[y],e[v]],e[v]=r[0],e[y]=r[1],n=[e[E],e[m]],e[m]=n[0],e[E]=n[1]}}}var Q2={build:function(e){e.points=e.shape.points.slice()},triangulate:function(e,t){var r=e.points,n=e.holes,i=t.points,o=t.indices;if(r.length>=6){OE(r,!1);for(var a=[],u=0;u<n.length;u++){var f=n[u];OE(f.points,!0),a.push(r.length/2),r=r.concat(f.points)}var h=a2(r,a,2);if(!h)return;for(var d=i.length/2,u=0;u<h.length;u+=3)o.push(h[u]+d),o.push(h[u+1]+d),o.push(h[u+2]+d);for(var u=0;u<r.length;u++)i.push(r[u])}}},gc={build:function(e){var t=e.points,r,n,i,o,a,u;if(e.type===Bt.CIRC){var f=e.shape;r=f.x,n=f.y,a=u=f.radius,i=o=0}else if(e.type===Bt.ELIP){var h=e.shape;r=h.x,n=h.y,a=h.width,u=h.height,i=o=0}else{var d=e.shape,p=d.width/2,v=d.height/2;r=d.x+p,n=d.y+v,a=u=Math.max(0,Math.min(d.radius,Math.min(p,v))),i=p-a,o=v-u}var m=Math.ceil(2.3*Math.sqrt(a+u)),y=m*8+(i?4:0)+(o?4:0);if(t.length=y,y!==0){if(m===0){t.length=8,t[0]=t[6]=r+i,t[1]=t[3]=n+o,t[2]=t[4]=r-i,t[5]=t[7]=n-o;return}var E=0,g=m*4+(i?2:0)+2,x=g,w=y;{var N=i+a,O=o,R=r+N,I=r-N,B=n+O;if(t[E++]=R,t[E++]=B,t[--g]=B,t[--g]=I,o){var z=n-O;t[x++]=I,t[x++]=z,t[--w]=z,t[--w]=R}}for(var M=1;M<m;M++){var $=Math.PI/2*(M/m),N=i+Math.cos($)*a,O=o+Math.sin($)*u,R=r+N,I=r-N,B=n+O,z=n-O;t[E++]=R,t[E++]=B,t[--g]=B,t[--g]=I,t[x++]=I,t[x++]=z,t[--w]=z,t[--w]=R}{var N=i,O=o+u,R=r+N,I=r-N,B=n+O,z=n-O;t[E++]=R,t[E++]=B,t[--w]=z,t[--w]=R,i&&(t[E++]=I,t[E++]=B,t[--w]=z,t[--w]=I)}}},triangulate:function(e,t){var r=e.points,n=t.points,i=t.indices,o=n.length/2,a=o,u,f;if(e.type!==Bt.RREC){var h=e.shape;u=h.x,f=h.y}else{var d=e.shape;u=d.x+d.width/2,f=d.y+d.height/2}var p=e.matrix;n.push(e.matrix?p.a*u+p.c*f+p.tx:u,e.matrix?p.b*u+p.d*f+p.ty:f),o++,n.push(r[0],r[1]);for(var v=2;v<r.length;v+=2)n.push(r[v],r[v+1]),i.push(o++,a,o);i.push(a+1,a,o)}},f8={build:function(e){var t=e.shape,r=t.x,n=t.y,i=t.width,o=t.height,a=e.points;a.length=0,a.push(r,n,r+i,n,r+i,n+o,r,n+o)},triangulate:function(e,t){var r=e.points,n=t.points,i=n.length/2;n.push(r[0],r[1],r[2],r[3],r[6],r[7],r[4],r[5]),t.indices.push(i,i+1,i+2,i+1,i+2,i+3)}};function Ba(e,t,r){var n=t-e;return e+n*r}function mh(e,t,r,n,i,o,a){a===void 0&&(a=[]);for(var u=20,f=a,h=0,d=0,p=0,v=0,m=0,y=0,E=0,g=0;E<=u;++E)g=E/u,h=Ba(e,r,g),d=Ba(t,n,g),p=Ba(r,i,g),v=Ba(n,o,g),m=Ba(h,p,g),y=Ba(d,v,g),!(E===0&&f[f.length-2]===m&&f[f.length-1]===y)&&f.push(m,y);return f}var h8={build:function(e){if(yc.nextRoundedRectBehavior){gc.build(e);return}var t=e.shape,r=e.points,n=t.x,i=t.y,o=t.width,a=t.height,u=Math.max(0,Math.min(t.radius,Math.min(o,a)/2));r.length=0,u?(mh(n,i+u,n,i,n+u,i,r),mh(n+o-u,i,n+o,i,n+o,i+u,r),mh(n+o,i+a-u,n+o,i+a,n+o-u,i+a,r),mh(n+u,i+a,n,i+a,n,i+a-u,r)):r.push(n,i,n+o,i,n+o,i+a,n,i+a)},triangulate:function(e,t){if(yc.nextRoundedRectBehavior){gc.triangulate(e,t);return}for(var r=e.points,n=t.points,i=t.indices,o=n.length/2,a=a2(r,null,2),u=0,f=a.length;u<f;u+=3)i.push(a[u]+o),i.push(a[u+1]+o),i.push(a[u+2]+o);for(var u=0,f=r.length;u<f;u++)n.push(r[u],r[++u])}};function LE(e,t,r,n,i,o,a,u){var f=e-r*i,h=t-n*i,d=e+r*o,p=t+n*o,v,m;a?(v=n,m=-r):(v=-n,m=r);var y=f+v,E=h+m,g=d+v,x=p+m;return u.push(y,E),u.push(g,x),2}function Ma(e,t,r,n,i,o,a,u){var f=r-e,h=n-t,d=Math.atan2(f,h),p=Math.atan2(i-e,o-t);u&&d<p?d+=Math.PI*2:!u&&d>p&&(p+=Math.PI*2);var v=d,m=p-d,y=Math.abs(m),E=Math.sqrt(f*f+h*h),g=(15*y*Math.sqrt(E)/Math.PI>>0)+1,x=m/g;if(v+=x,u){a.push(e,t),a.push(r,n);for(var w=1,N=v;w<g;w++,N+=x)a.push(e,t),a.push(e+Math.sin(N)*E,t+Math.cos(N)*E);a.push(e,t),a.push(i,o)}else{a.push(r,n),a.push(e,t);for(var w=1,N=v;w<g;w++,N+=x)a.push(e+Math.sin(N)*E,t+Math.cos(N)*E),a.push(e,t);a.push(i,o),a.push(e,t)}return g*2}function c8(e,t){var r=e.shape,n=e.points||r.points.slice(),i=t.closePointEps;if(n.length!==0){var o=e.lineStyle,a=new wt(n[0],n[1]),u=new wt(n[n.length-2],n[n.length-1]),f=r.type!==Bt.POLY||r.closeStroke,h=Math.abs(a.x-u.x)<i&&Math.abs(a.y-u.y)<i;if(f){n=n.slice(),h&&(n.pop(),n.pop(),u.set(n[n.length-2],n[n.length-1]));var d=(a.x+u.x)*.5,p=(u.y+a.y)*.5;n.unshift(d,p),n.push(d,p)}var v=t.points,m=n.length/2,y=n.length,E=v.length/2,g=o.width/2,x=g*g,w=o.miterLimit*o.miterLimit,N=n[0],O=n[1],R=n[2],I=n[3],B=0,z=0,M=-(O-I),$=N-R,de=0,ae=0,pe=Math.sqrt(M*M+$*$);M/=pe,$/=pe,M*=g,$*=g;var We=o.alignment,le=(1-We)*2,fe=We*2;f||(o.cap===Zi.ROUND?y+=Ma(N-M*(le-fe)*.5,O-$*(le-fe)*.5,N-M*le,O-$*le,N+M*fe,O+$*fe,v,!0)+2:o.cap===Zi.SQUARE&&(y+=LE(N,O,M,$,le,fe,!0,v))),v.push(N-M*le,O-$*le),v.push(N+M*fe,O+$*fe);for(var ye=1;ye<m-1;++ye){N=n[(ye-1)*2],O=n[(ye-1)*2+1],R=n[ye*2],I=n[ye*2+1],B=n[(ye+1)*2],z=n[(ye+1)*2+1],M=-(O-I),$=N-R,pe=Math.sqrt(M*M+$*$),M/=pe,$/=pe,M*=g,$*=g,de=-(I-z),ae=R-B,pe=Math.sqrt(de*de+ae*ae),de/=pe,ae/=pe,de*=g,ae*=g;var Oe=R-N,ht=O-I,Z=R-B,V=z-I,re=ht*Z-V*Oe,he=re<0;if(Math.abs(re)<.1){v.push(R-M*le,I-$*le),v.push(R+M*fe,I+$*fe);continue}var Ee=(-M+N)*(-$+I)-(-M+R)*(-$+O),Ae=(-de+B)*(-ae+I)-(-de+R)*(-ae+z),ke=(Oe*Ae-Z*Ee)/re,ot=(V*Ee-ht*Ae)/re,at=(ke-R)*(ke-R)+(ot-I)*(ot-I),je=R+(ke-R)*le,yt=I+(ot-I)*le,Ye=R-(ke-R)*fe,st=I-(ot-I)*fe,Me=Math.min(Oe*Oe+ht*ht,Z*Z+V*V),lt=he?le:fe,et=Me+lt*lt*x,Ve=at<=et;Ve?o.join===Ki.BEVEL||at/x>w?(he?(v.push(je,yt),v.push(R+M*fe,I+$*fe),v.push(je,yt),v.push(R+de*fe,I+ae*fe)):(v.push(R-M*le,I-$*le),v.push(Ye,st),v.push(R-de*le,I-ae*le),v.push(Ye,st)),y+=2):o.join===Ki.ROUND?he?(v.push(je,yt),v.push(R+M*fe,I+$*fe),y+=Ma(R,I,R+M*fe,I+$*fe,R+de*fe,I+ae*fe,v,!0)+4,v.push(je,yt),v.push(R+de*fe,I+ae*fe)):(v.push(R-M*le,I-$*le),v.push(Ye,st),y+=Ma(R,I,R-M*le,I-$*le,R-de*le,I-ae*le,v,!1)+4,v.push(R-de*le,I-ae*le),v.push(Ye,st)):(v.push(je,yt),v.push(Ye,st)):(v.push(R-M*le,I-$*le),v.push(R+M*fe,I+$*fe),o.join===Ki.BEVEL||at/x>w||(o.join===Ki.ROUND?he?y+=Ma(R,I,R+M*fe,I+$*fe,R+de*fe,I+ae*fe,v,!0)+2:y+=Ma(R,I,R-M*le,I-$*le,R-de*le,I-ae*le,v,!1)+2:(he?(v.push(Ye,st),v.push(Ye,st)):(v.push(je,yt),v.push(je,yt)),y+=2)),v.push(R-de*le,I-ae*le),v.push(R+de*fe,I+ae*fe),y+=2)}N=n[(m-2)*2],O=n[(m-2)*2+1],R=n[(m-1)*2],I=n[(m-1)*2+1],M=-(O-I),$=N-R,pe=Math.sqrt(M*M+$*$),M/=pe,$/=pe,M*=g,$*=g,v.push(R-M*le,I-$*le),v.push(R+M*fe,I+$*fe),f||(o.cap===Zi.ROUND?y+=Ma(R-M*(le-fe)*.5,I-$*(le-fe)*.5,R-M*le,I-$*le,R+M*fe,I+$*fe,v,!1)+2:o.cap===Zi.SQUARE&&(y+=LE(R,I,M,$,le,fe,!1,v)));for(var Nt=t.indices,Nr=dl.epsilon*dl.epsilon,ye=E;ye<y+E-2;++ye)N=v[ye*2],O=v[ye*2+1],R=v[(ye+1)*2],I=v[(ye+1)*2+1],B=v[(ye+2)*2],z=v[(ye+2)*2+1],!(Math.abs(N*(I-z)+R*(z-O)+B*(O-I))<Nr)&&Nt.push(ye,ye+1,ye+2)}}function d8(e,t){var r=0,n=e.shape,i=e.points||n.points,o=n.type!==Bt.POLY||n.closeStroke;if(i.length!==0){var a=t.points,u=t.indices,f=i.length/2,h=a.length/2,d=h;for(a.push(i[0],i[1]),r=1;r<f;r++)a.push(i[r*2],i[r*2+1]),u.push(d,d+1),d++;o&&u.push(d,h)}}function FE(e,t){e.lineStyle.native?d8(e,t):c8(e,t)}var UE=function(){function e(){}return e.curveTo=function(t,r,n,i,o,a){var u=a[a.length-2],f=a[a.length-1],h=f-r,d=u-t,p=i-r,v=n-t,m=Math.abs(h*v-d*p);if(m<1e-8||o===0)return(a[a.length-2]!==t||a[a.length-1]!==r)&&a.push(t,r),null;var y=h*h+d*d,E=p*p+v*v,g=h*p+d*v,x=o*Math.sqrt(y)/m,w=o*Math.sqrt(E)/m,N=x*g/y,O=w*g/E,R=x*v+w*d,I=x*p+w*h,B=d*(w+N),z=h*(w+N),M=v*(x+O),$=p*(x+O),de=Math.atan2(z-I,B-R),ae=Math.atan2($-I,M-R);return{cx:R+t,cy:I+r,radius:o,startAngle:de,endAngle:ae,anticlockwise:d*p>v*h}},e.arc=function(t,r,n,i,o,a,u,f,h){for(var d=u-a,p=dl._segmentsCount(Math.abs(d)*o,Math.ceil(Math.abs(d)/vc)*40),v=d/(p*2),m=v*2,y=Math.cos(v),E=Math.sin(v),g=p-1,x=g%1/g,w=0;w<=g;++w){var N=w+x*w,O=v+a+m*N,R=Math.cos(O),I=-Math.sin(O);h.push((y*R+E*I)*o+n,(y*-I+E*R)*o+i)}},e}(),p8=function(){function e(){}return e.curveLength=function(t,r,n,i,o,a,u,f){for(var h=10,d=0,p=0,v=0,m=0,y=0,E=0,g=0,x=0,w=0,N=0,O=0,R=t,I=r,B=1;B<=h;++B)p=B/h,v=p*p,m=v*p,y=1-p,E=y*y,g=E*y,x=g*t+3*E*p*n+3*y*v*o+m*u,w=g*r+3*E*p*i+3*y*v*a+m*f,N=R-x,O=I-w,R=x,I=w,d+=Math.sqrt(N*N+O*O);return d},e.curveTo=function(t,r,n,i,o,a,u){var f=u[u.length-2],h=u[u.length-1];u.length-=2;var d=dl._segmentsCount(e.curveLength(f,h,t,r,n,i,o,a)),p=0,v=0,m=0,y=0,E=0;u.push(f,h);for(var g=1,x=0;g<=d;++g)x=g/d,p=1-x,v=p*p,m=v*p,y=x*x,E=y*x,u.push(m*f+3*v*x*t+3*p*y*n+E*o,m*h+3*v*x*r+3*p*y*i+E*a)},e}(),v8=function(){function e(){}return e.curveLength=function(t,r,n,i,o,a){var u=t-2*n+o,f=r-2*i+a,h=2*n-2*t,d=2*i-2*r,p=4*(u*u+f*f),v=4*(u*h+f*d),m=h*h+d*d,y=2*Math.sqrt(p+v+m),E=Math.sqrt(p),g=2*p*E,x=2*Math.sqrt(m),w=v/E;return(g*y+E*v*(y-x)+(4*m*p-v*v)*Math.log((2*E+w+y)/(w+x)))/(4*g)},e.curveTo=function(t,r,n,i,o){for(var a=o[o.length-2],u=o[o.length-1],f=dl._segmentsCount(e.curveLength(a,u,t,r,n,i)),h=0,d=0,p=1;p<=f;++p){var v=p/f;h=a+(t-a)*v,d=u+(r-u)*v,o.push(h+(t+(n-t)*v-h)*v,d+(r+(i-r)*v-d)*v)}},e}(),_8=function(){function e(){this.reset()}return e.prototype.begin=function(t,r,n){this.reset(),this.style=t,this.start=r,this.attribStart=n},e.prototype.end=function(t,r){this.attribSize=r-this.attribStart,this.size=t-this.start},e.prototype.reset=function(){this.style=null,this.size=0,this.start=0,this.attribStart=0,this.attribSize=0},e}(),Fo,Dv=(Fo={},Fo[Bt.POLY]=Q2,Fo[Bt.CIRC]=gc,Fo[Bt.ELIP]=gc,Fo[Bt.RECT]=f8,Fo[Bt.RREC]=h8,Fo),kE=[],gh=[],BE=function(){function e(t,r,n,i){r===void 0&&(r=null),n===void 0&&(n=null),i===void 0&&(i=null),this.points=[],this.holes=[],this.shape=t,this.lineStyle=n,this.fillStyle=r,this.matrix=i,this.type=t.type}return e.prototype.clone=function(){return new e(this.shape,this.fillStyle,this.lineStyle,this.matrix)},e.prototype.destroy=function(){this.shape=null,this.holes.length=0,this.holes=null,this.points.length=0,this.points=null,this.lineStyle=null,this.fillStyle=null},e}(),Da=new wt,m8=new cl,g8=function(e){n0(t,e);function t(){var r=e.call(this)||this;return r.closePointEps=1e-4,r.boundsPadding=0,r.uvsFloat32=null,r.indicesUint16=null,r.batchable=!1,r.points=[],r.colors=[],r.uvs=[],r.indices=[],r.textureIds=[],r.graphicsData=[],r.drawCalls=[],r.batchDirty=-1,r.batches=[],r.dirty=0,r.cacheDirty=-1,r.clearDirty=0,r.shapeIndex=0,r._bounds=new cl,r.boundsDirty=-1,r}return Object.defineProperty(t.prototype,"bounds",{get:function(){return this.boundsDirty!==this.dirty&&(this.boundsDirty=this.dirty,this.calculateBounds()),this._bounds},enumerable:!1,configurable:!0}),t.prototype.invalidate=function(){this.boundsDirty=-1,this.dirty++,this.batchDirty++,this.shapeIndex=0,this.points.length=0,this.colors.length=0,this.uvs.length=0,this.indices.length=0,this.textureIds.length=0;for(var r=0;r<this.drawCalls.length;r++)this.drawCalls[r].texArray.clear(),gh.push(this.drawCalls[r]);this.drawCalls.length=0;for(var r=0;r<this.batches.length;r++){var n=this.batches[r];n.reset(),kE.push(n)}this.batches.length=0},t.prototype.clear=function(){return this.graphicsData.length>0&&(this.invalidate(),this.clearDirty++,this.graphicsData.length=0),this},t.prototype.drawShape=function(r,n,i,o){n===void 0&&(n=null),i===void 0&&(i=null),o===void 0&&(o=null);var a=new BE(r,n,i,o);return this.graphicsData.push(a),this.dirty++,this},t.prototype.drawHole=function(r,n){if(n===void 0&&(n=null),!this.graphicsData.length)return null;var i=new BE(r,null,null,n),o=this.graphicsData[this.graphicsData.length-1];return i.lineStyle=o.lineStyle,o.holes.push(i),this.dirty++,this},t.prototype.destroy=function(){e.prototype.destroy.call(this);for(var r=0;r<this.graphicsData.length;++r)this.graphicsData[r].destroy();this.points.length=0,this.points=null,this.colors.length=0,this.colors=null,this.uvs.length=0,this.uvs=null,this.indices.length=0,this.indices=null,this.indexBuffer.destroy(),this.indexBuffer=null,this.graphicsData.length=0,this.graphicsData=null,this.drawCalls.length=0,this.drawCalls=null,this.batches.length=0,this.batches=null,this._bounds=null},t.prototype.containsPoint=function(r){for(var n=this.graphicsData,i=0;i<n.length;++i){var o=n[i];if(!!o.fillStyle.visible&&o.shape&&(o.matrix?o.matrix.applyInverse(r,Da):Da.copyFrom(r),o.shape.contains(Da.x,Da.y))){var a=!1;if(o.holes)for(var u=0;u<o.holes.length;u++){var f=o.holes[u];if(f.shape.contains(Da.x,Da.y)){a=!0;break}}if(!a)return!0}}return!1},t.prototype.updateBatches=function(r){if(!this.graphicsData.length){this.batchable=!0;return}if(!!this.validateBatching()){this.cacheDirty=this.dirty;var n=this.uvs,i=this.graphicsData,o=null,a=null;this.batches.length>0&&(o=this.batches[this.batches.length-1],a=o.style);for(var u=this.shapeIndex;u<i.length;u++){this.shapeIndex++;var f=i[u],h=f.fillStyle,d=f.lineStyle,p=Dv[f.type];p.build(f),f.matrix&&this.transformPoints(f.points,f.matrix),(h.visible||d.visible)&&this.processHoles(f.holes);for(var v=0;v<2;v++){var m=v===0?h:d;if(!!m.visible){var y=m.texture.baseTexture,E=this.indices.length,g=this.points.length/2;y.wrapMode=xi.REPEAT,v===0?this.processFill(f):this.processLine(f);var x=this.points.length/2-g;x!==0&&(o&&!this._compareStyles(a,m)&&(o.end(E,g),o=null),o||(o=kE.pop()||new _8,o.begin(m,E,g),this.batches.push(o),a=m),this.addUvs(this.points,n,m.texture,g,x,m.matrix))}}}var w=this.indices.length,N=this.points.length/2;if(o&&o.end(w,N),this.batches.length===0){this.batchable=!0;return}if(this.indicesUint16&&this.indices.length===this.indicesUint16.length)this.indicesUint16.set(this.indices);else{var O=N>65535&&r;this.indicesUint16=O?new Uint32Array(this.indices):new Uint16Array(this.indices)}this.batchable=this.isBatchable(),this.batchable?this.packBatches():this.buildDrawCalls()}},t.prototype._compareStyles=function(r,n){return!(!r||!n||r.texture.baseTexture!==n.texture.baseTexture||r.color+r.alpha!==n.color+n.alpha||!!r.native!=!!n.native)},t.prototype.validateBatching=function(){if(this.dirty===this.cacheDirty||!this.graphicsData.length)return!1;for(var r=0,n=this.graphicsData.length;r<n;r++){var i=this.graphicsData[r],o=i.fillStyle,a=i.lineStyle;if(o&&!o.texture.baseTexture.valid||a&&!a.texture.baseTexture.valid)return!1}return!0},t.prototype.packBatches=function(){this.batchDirty++,this.uvsFloat32=new Float32Array(this.uvs);for(var r=this.batches,n=0,i=r.length;n<i;n++)for(var o=r[n],a=0;a<o.size;a++){var u=o.start+a;this.indicesUint16[u]=this.indicesUint16[u]-o.attribStart}},t.prototype.isBatchable=function(){if(this.points.length>65535*2)return!1;for(var r=this.batches,n=0;n<r.length;n++)if(r[n].style.native)return!1;return this.points.length<t.BATCHABLE_SIZE*2},t.prototype.buildDrawCalls=function(){for(var r=++Qe._globalBatch,n=0;n<this.drawCalls.length;n++)this.drawCalls[n].texArray.clear(),gh.push(this.drawCalls[n]);this.drawCalls.length=0;var i=this.colors,o=this.textureIds,a=gh.pop();a||(a=new um,a.texArray=new lm),a.texArray.count=0,a.start=0,a.size=0,a.type=Pn.TRIANGLES;var u=0,f=null,h=0,d=!1,p=Pn.TRIANGLES,v=0;this.drawCalls.push(a);for(var n=0;n<this.batches.length;n++){var m=this.batches[n],y=8,E=m.style,g=E.texture.baseTexture;d!==!!E.native&&(d=!!E.native,p=d?Pn.LINES:Pn.TRIANGLES,f=null,u=y,r++),f!==g&&(f=g,g._batchEnabled!==r&&(u===y&&(r++,u=0,a.size>0&&(a=gh.pop(),a||(a=new um,a.texArray=new lm),this.drawCalls.push(a)),a.start=v,a.size=0,a.texArray.count=0,a.type=p),g.touched=1,g._batchEnabled=r,g._batchLocation=u,g.wrapMode=xi.REPEAT,a.texArray.elements[a.texArray.count++]=g,u++)),a.size+=m.size,v+=m.size,h=g._batchLocation,this.addColors(i,E.color,E.alpha,m.attribSize,m.attribStart),this.addTextureIds(o,h,m.attribSize,m.attribStart)}Qe._globalBatch=r,this.packAttributes()},t.prototype.packAttributes=function(){for(var r=this.points,n=this.uvs,i=this.colors,o=this.textureIds,a=new ArrayBuffer(r.length*3*4),u=new Float32Array(a),f=new Uint32Array(a),h=0,d=0;d<r.length/2;d++)u[h++]=r[d*2],u[h++]=r[d*2+1],u[h++]=n[d*2],u[h++]=n[d*2+1],f[h++]=i[d],u[h++]=o[d];this._buffer.update(a),this._indexBuffer.update(this.indicesUint16)},t.prototype.processFill=function(r){if(r.holes.length)Q2.triangulate(r,this);else{var n=Dv[r.type];n.triangulate(r,this)}},t.prototype.processLine=function(r){FE(r,this);for(var n=0;n<r.holes.length;n++)FE(r.holes[n],this)},t.prototype.processHoles=function(r){for(var n=0;n<r.length;n++){var i=r[n],o=Dv[i.type];o.build(i),i.matrix&&this.transformPoints(i.points,i.matrix)}},t.prototype.calculateBounds=function(){var r=this._bounds,n=m8,i=Wt.IDENTITY;this._bounds.clear(),n.clear();for(var o=0;o<this.graphicsData.length;o++){var a=this.graphicsData[o],u=a.shape,f=a.type,h=a.lineStyle,d=a.matrix||Wt.IDENTITY,p=0;if(h&&h.visible&&(p=h.width*Math.max(0,h.alignment)),i!==d&&(n.isEmpty()||(r.addBoundsMatrix(n,i),n.clear()),i=d),f===Bt.RECT||f===Bt.RREC){var v=u;n.addFramePad(v.x,v.y,v.x+v.width,v.y+v.height,p,p)}else if(f===Bt.CIRC){var m=u;n.addFramePad(m.x,m.y,m.x,m.y,m.radius+p,m.radius+p)}else if(f===Bt.ELIP){var y=u;n.addFramePad(y.x,y.y,y.x,y.y,y.width+p,y.height+p)}else{var E=u;r.addVerticesMatrix(i,E.points,0,E.points.length,p,p)}}n.isEmpty()||r.addBoundsMatrix(n,i),r.pad(this.boundsPadding,this.boundsPadding)},t.prototype.transformPoints=function(r,n){for(var i=0;i<r.length/2;i++){var o=r[i*2],a=r[i*2+1];r[i*2]=n.a*o+n.c*a+n.tx,r[i*2+1]=n.b*o+n.d*a+n.ty}},t.prototype.addColors=function(r,n,i,o,a){a===void 0&&(a=0);var u=(n>>16)+(n&65280)+((n&255)<<16),f=qg(u,i);r.length=Math.max(r.length,a+o);for(var h=0;h<o;h++)r[a+h]=f},t.prototype.addTextureIds=function(r,n,i,o){o===void 0&&(o=0),r.length=Math.max(r.length,o+i);for(var a=0;a<i;a++)r[o+a]=n},t.prototype.addUvs=function(r,n,i,o,a,u){u===void 0&&(u=null);for(var f=0,h=n.length,d=i.frame;f<a;){var p=r[(o+f)*2],v=r[(o+f)*2+1];if(u){var m=u.a*p+u.c*v+u.tx;v=u.b*p+u.d*v+u.ty,p=m}f++,n.push(p/d.width,v/d.height)}var y=i.baseTexture;(d.width<y.width||d.height<y.height)&&this.adjustUvs(n,i,h,a)},t.prototype.adjustUvs=function(r,n,i,o){for(var a=n.baseTexture,u=1e-6,f=i+o*2,h=n.frame,d=h.width/a.width,p=h.height/a.height,v=h.x/h.width,m=h.y/h.height,y=Math.floor(r[i]+u),E=Math.floor(r[i+1]+u),g=i+2;g<f;g+=2)y=Math.min(y,Math.floor(r[g]+u)),E=Math.min(E,Math.floor(r[g+1]+u));v-=y,m-=E;for(var g=i;g<f;g+=2)r[g]=(r[g]+v)*d,r[g+1]=(r[g+1]+m)*p},t.BATCHABLE_SIZE=100,t}($2),y8=function(e){n0(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.width=0,r.alignment=.5,r.native=!1,r.cap=Zi.BUTT,r.join=Ki.MITER,r.miterLimit=10,r}return t.prototype.clone=function(){var r=new t;return r.color=this.color,r.alpha=this.alpha,r.texture=this.texture,r.matrix=this.matrix,r.visible=this.visible,r.width=this.width,r.alignment=this.alignment,r.native=this.native,r.cap=this.cap,r.join=this.join,r.miterLimit=this.miterLimit,r},t.prototype.reset=function(){e.prototype.reset.call(this),this.color=0,this.alignment=.5,this.width=0,this.native=!1},t}(J2),x8=new Float32Array(3),Gv={},yc=function(e){n0(t,e);function t(r){r===void 0&&(r=null);var n=e.call(this)||this;return n.shader=null,n.pluginName="batch",n.currentPath=null,n.batches=[],n.batchTint=-1,n.batchDirty=-1,n.vertexData=null,n._fillStyle=new J2,n._lineStyle=new y8,n._matrix=null,n._holeMode=!1,n.state=ua.for2d(),n._geometry=r||new g8,n._geometry.refCount++,n._transformID=-1,n.tint=16777215,n.blendMode=be.NORMAL,n}return Object.defineProperty(t.prototype,"geometry",{get:function(){return this._geometry},enumerable:!1,configurable:!0}),t.prototype.clone=function(){return this.finishPoly(),new t(this._geometry)},Object.defineProperty(t.prototype,"blendMode",{get:function(){return this.state.blendMode},set:function(r){this.state.blendMode=r},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"tint",{get:function(){return this._tint},set:function(r){this._tint=r},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fill",{get:function(){return this._fillStyle},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"line",{get:function(){return this._lineStyle},enumerable:!1,configurable:!0}),t.prototype.lineStyle=function(r,n,i,o,a){return r===void 0&&(r=null),n===void 0&&(n=0),i===void 0&&(i=1),o===void 0&&(o=.5),a===void 0&&(a=!1),typeof r=="number"&&(r={width:r,color:n,alpha:i,alignment:o,native:a}),this.lineTextureStyle(r)},t.prototype.lineTextureStyle=function(r){r=Object.assign({width:0,texture:Se.WHITE,color:r&&r.texture?16777215:0,alpha:1,matrix:null,alignment:.5,native:!1,cap:Zi.BUTT,join:Ki.MITER,miterLimit:10},r),this.currentPath&&this.startPoly();var n=r.width>0&&r.alpha>0;return n?(r.matrix&&(r.matrix=r.matrix.clone(),r.matrix.invert()),Object.assign(this._lineStyle,{visible:n},r)):this._lineStyle.reset(),this},t.prototype.startPoly=function(){if(this.currentPath){var r=this.currentPath.points,n=this.currentPath.points.length;n>2&&(this.drawShape(this.currentPath),this.currentPath=new Mh,this.currentPath.closeStroke=!1,this.currentPath.points.push(r[n-2],r[n-1]))}else this.currentPath=new Mh,this.currentPath.closeStroke=!1},t.prototype.finishPoly=function(){this.currentPath&&(this.currentPath.points.length>2?(this.drawShape(this.currentPath),this.currentPath=null):this.currentPath.points.length=0)},t.prototype.moveTo=function(r,n){return this.startPoly(),this.currentPath.points[0]=r,this.currentPath.points[1]=n,this},t.prototype.lineTo=function(r,n){this.currentPath||this.moveTo(0,0);var i=this.currentPath.points,o=i[i.length-2],a=i[i.length-1];return(o!==r||a!==n)&&i.push(r,n),this},t.prototype._initCurve=function(r,n){r===void 0&&(r=0),n===void 0&&(n=0),this.currentPath?this.currentPath.points.length===0&&(this.currentPath.points=[r,n]):this.moveTo(r,n)},t.prototype.quadraticCurveTo=function(r,n,i,o){this._initCurve();var a=this.currentPath.points;return a.length===0&&this.moveTo(0,0),v8.curveTo(r,n,i,o,a),this},t.prototype.bezierCurveTo=function(r,n,i,o,a,u){return this._initCurve(),p8.curveTo(r,n,i,o,a,u,this.currentPath.points),this},t.prototype.arcTo=function(r,n,i,o,a){this._initCurve(r,n);var u=this.currentPath.points,f=UE.curveTo(r,n,i,o,a,u);if(f){var h=f.cx,d=f.cy,p=f.radius,v=f.startAngle,m=f.endAngle,y=f.anticlockwise;this.arc(h,d,p,v,m,y)}return this},t.prototype.arc=function(r,n,i,o,a,u){if(u===void 0&&(u=!1),o===a)return this;!u&&a<=o?a+=vc:u&&o<=a&&(o+=vc);var f=a-o;if(f===0)return this;var h=r+Math.cos(o)*i,d=n+Math.sin(o)*i,p=this._geometry.closePointEps,v=this.currentPath?this.currentPath.points:null;if(v){var m=Math.abs(v[v.length-2]-h),y=Math.abs(v[v.length-1]-d);m<p&&y<p||v.push(h,d)}else this.moveTo(h,d),v=this.currentPath.points;return UE.arc(h,d,r,n,i,o,a,u,v),this},t.prototype.beginFill=function(r,n){return r===void 0&&(r=0),n===void 0&&(n=1),this.beginTextureFill({texture:Se.WHITE,color:r,alpha:n})},t.prototype.beginTextureFill=function(r){r=Object.assign({texture:Se.WHITE,color:16777215,alpha:1,matrix:null},r),this.currentPath&&this.startPoly();var n=r.alpha>0;return n?(r.matrix&&(r.matrix=r.matrix.clone(),r.matrix.invert()),Object.assign(this._fillStyle,{visible:n},r)):this._fillStyle.reset(),this},t.prototype.endFill=function(){return this.finishPoly(),this._fillStyle.reset(),this},t.prototype.drawRect=function(r,n,i,o){return this.drawShape(new it(r,n,i,o))},t.prototype.drawRoundedRect=function(r,n,i,o,a){return this.drawShape(new z6(r,n,i,o,a))},t.prototype.drawCircle=function(r,n,i){return this.drawShape(new H6(r,n,i))},t.prototype.drawEllipse=function(r,n,i,o){return this.drawShape(new X6(r,n,i,o))},t.prototype.drawPolygon=function(){for(var r=arguments,n=[],i=0;i<arguments.length;i++)n[i]=r[i];var o,a=!0,u=n[0];u.points?(a=u.closeStroke,o=u.points):Array.isArray(n[0])?o=n[0]:o=n;var f=new Mh(o);return f.closeStroke=a,this.drawShape(f),this},t.prototype.drawShape=function(r){return this._holeMode?this._geometry.drawHole(r,this._matrix):this._geometry.drawShape(r,this._fillStyle.clone(),this._lineStyle.clone(),this._matrix),this},t.prototype.clear=function(){return this._geometry.clear(),this._lineStyle.reset(),this._fillStyle.reset(),this._boundsID++,this._matrix=null,this._holeMode=!1,this.currentPath=null,this},t.prototype.isFastRect=function(){var r=this._geometry.graphicsData;return r.length===1&&r[0].shape.type===Bt.RECT&&!r[0].matrix&&!r[0].holes.length&&!(r[0].lineStyle.visible&&r[0].lineStyle.width)},t.prototype._render=function(r){this.finishPoly();var n=this._geometry,i=r.context.supports.uint32Indices;n.updateBatches(i),n.batchable?(this.batchDirty!==n.batchDirty&&this._populateBatches(),this._renderBatched(r)):(r.batch.flush(),this._renderDirect(r))},t.prototype._populateBatches=function(){var r=this._geometry,n=this.blendMode,i=r.batches.length;this.batchTint=-1,this._transformID=-1,this.batchDirty=r.batchDirty,this.batches.length=i,this.vertexData=new Float32Array(r.points);for(var o=0;o<i;o++){var a=r.batches[o],u=a.style.color,f=new Float32Array(this.vertexData.buffer,a.attribStart*4*2,a.attribSize*2),h=new Float32Array(r.uvsFloat32.buffer,a.attribStart*4*2,a.attribSize*2),d=new Uint16Array(r.indicesUint16.buffer,a.start*2,a.size),p={vertexData:f,blendMode:n,indices:d,uvs:h,_batchRGB:Es(u),_tintRGB:u,_texture:a.style.texture,alpha:a.style.alpha,worldAlpha:1};this.batches[o]=p}},t.prototype._renderBatched=function(r){if(!!this.batches.length){r.batch.setObjectRenderer(r.plugins[this.pluginName]),this.calculateVertices(),this.calculateTints();for(var n=0,i=this.batches.length;n<i;n++){var o=this.batches[n];o.worldAlpha=this.worldAlpha*o.alpha,r.plugins[this.pluginName].render(o)}}},t.prototype._renderDirect=function(r){var n=this._resolveDirectShader(r),i=this._geometry,o=this.tint,a=this.worldAlpha,u=n.uniforms,f=i.drawCalls;u.translationMatrix=this.transform.worldTransform,u.tint[0]=(o>>16&255)/255*a,u.tint[1]=(o>>8&255)/255*a,u.tint[2]=(o&255)/255*a,u.tint[3]=a,r.shader.bind(n),r.geometry.bind(i,n),r.state.set(this.state);for(var h=0,d=f.length;h<d;h++)this._renderDrawCallDirect(r,i.drawCalls[h])},t.prototype._renderDrawCallDirect=function(r,n){for(var i=n.texArray,o=n.type,a=n.size,u=n.start,f=i.count,h=0;h<f;h++)r.texture.bind(i.elements[h],h);r.geometry.draw(o,a,u)},t.prototype._resolveDirectShader=function(r){var n=this.shader,i=this.pluginName;if(!n){if(!Gv[i]){for(var o=r.plugins.batch.MAX_TEXTURES,a=new Int32Array(o),u=0;u<o;u++)a[u]=u;var f={tint:new Float32Array([1,1,1,1]),translationMatrix:new Wt,default:qo.from({uSamplers:a},!0)},h=r.plugins[i]._shader.program;Gv[i]=new ao(h,f)}n=Gv[i]}return n},t.prototype._calculateBounds=function(){this.finishPoly();var r=this._geometry;if(!!r.graphicsData.length){var n=r.bounds,i=n.minX,o=n.minY,a=n.maxX,u=n.maxY;this._bounds.addFrame(this.transform,i,o,a,u)}},t.prototype.containsPoint=function(r){return this.worldTransform.applyInverse(r,t._TEMP_POINT),this._geometry.containsPoint(t._TEMP_POINT)},t.prototype.calculateTints=function(){if(this.batchTint!==this.tint){this.batchTint=this.tint;for(var r=Es(this.tint,x8),n=0;n<this.batches.length;n++){var i=this.batches[n],o=i._batchRGB,a=r[0]*o[0]*255,u=r[1]*o[1]*255,f=r[2]*o[2]*255,h=(a<<16)+(u<<8)+(f|0);i._tintRGB=(h>>16)+(h&65280)+((h&255)<<16)}}},t.prototype.calculateVertices=function(){var r=this.transform._worldID;if(this._transformID!==r){this._transformID=r;for(var n=this.transform.worldTransform,i=n.a,o=n.b,a=n.c,u=n.d,f=n.tx,h=n.ty,d=this._geometry.points,p=this.vertexData,v=0,m=0;m<d.length;m+=2){var y=d[m],E=d[m+1];p[v++]=i*y+a*E+f,p[v++]=u*E+o*y+h}}},t.prototype.closePath=function(){var r=this.currentPath;return r&&(r.closeStroke=!0,this.finishPoly()),this},t.prototype.setMatrix=function(r){return this._matrix=r,this},t.prototype.beginHole=function(){return this.finishPoly(),this._holeMode=!0,this},t.prototype.endHole=function(){return this.finishPoly(),this._holeMode=!1,this},t.prototype.destroy=function(r){this._geometry.refCount--,this._geometry.refCount===0&&this._geometry.dispose(),this._matrix=null,this.currentPath=null,this._lineStyle.destroy(),this._lineStyle=null,this._fillStyle.destroy(),this._fillStyle=null,this._geometry=null,this.shader=null,this.vertexData=null,this.batches.length=0,this.batches=null,e.prototype.destroy.call(this,r)},t.nextRoundedRectBehavior=!1,t._TEMP_POINT=new wt,t}(_n);/*!
 * @pixi/sprite - v6.3.0
 * Compiled Wed, 23 Mar 2022 18:58:56 UTC
 *
 * @pixi/sprite is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var _m=function(e,t){return _m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},_m(e,t)};function T8(e,t){_m(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var Tu=new wt,E8=new Uint16Array([0,1,2,0,2,3]),la=function(e){T8(t,e);function t(r){var n=e.call(this)||this;return n._anchor=new Ja(n._onAnchorUpdate,n,r?r.defaultAnchor.x:0,r?r.defaultAnchor.y:0),n._texture=null,n._width=0,n._height=0,n._tint=null,n._tintRGB=null,n.tint=16777215,n.blendMode=be.NORMAL,n._cachedTint=16777215,n.uvs=null,n.texture=r||Se.EMPTY,n.vertexData=new Float32Array(8),n.vertexTrimmedData=null,n._transformID=-1,n._textureID=-1,n._transformTrimmedID=-1,n._textureTrimmedID=-1,n.indices=E8,n.pluginName="batch",n.isSprite=!0,n._roundPixels=Te.ROUND_PIXELS,n}return t.prototype._onTextureUpdate=function(){this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this._width&&(this.scale.x=Za(this.scale.x)*this._width/this._texture.orig.width),this._height&&(this.scale.y=Za(this.scale.y)*this._height/this._texture.orig.height)},t.prototype._onAnchorUpdate=function(){this._transformID=-1,this._transformTrimmedID=-1},t.prototype.calculateVertices=function(){var r=this._texture;if(!(this._transformID===this.transform._worldID&&this._textureID===r._updateID)){this._textureID!==r._updateID&&(this.uvs=this._texture._uvs.uvsFloat32),this._transformID=this.transform._worldID,this._textureID=r._updateID;var n=this.transform.worldTransform,i=n.a,o=n.b,a=n.c,u=n.d,f=n.tx,h=n.ty,d=this.vertexData,p=r.trim,v=r.orig,m=this._anchor,y=0,E=0,g=0,x=0;if(p?(E=p.x-m._x*v.width,y=E+p.width,x=p.y-m._y*v.height,g=x+p.height):(E=-m._x*v.width,y=E+v.width,x=-m._y*v.height,g=x+v.height),d[0]=i*E+a*x+f,d[1]=u*x+o*E+h,d[2]=i*y+a*x+f,d[3]=u*x+o*y+h,d[4]=i*y+a*g+f,d[5]=u*g+o*y+h,d[6]=i*E+a*g+f,d[7]=u*g+o*E+h,this._roundPixels)for(var w=Te.RESOLUTION,N=0;N<d.length;++N)d[N]=Math.round((d[N]*w|0)/w)}},t.prototype.calculateTrimmedVertices=function(){if(!this.vertexTrimmedData)this.vertexTrimmedData=new Float32Array(8);else if(this._transformTrimmedID===this.transform._worldID&&this._textureTrimmedID===this._texture._updateID)return;this._transformTrimmedID=this.transform._worldID,this._textureTrimmedID=this._texture._updateID;var r=this._texture,n=this.vertexTrimmedData,i=r.orig,o=this._anchor,a=this.transform.worldTransform,u=a.a,f=a.b,h=a.c,d=a.d,p=a.tx,v=a.ty,m=-o._x*i.width,y=m+i.width,E=-o._y*i.height,g=E+i.height;n[0]=u*m+h*E+p,n[1]=d*E+f*m+v,n[2]=u*y+h*E+p,n[3]=d*E+f*y+v,n[4]=u*y+h*g+p,n[5]=d*g+f*y+v,n[6]=u*m+h*g+p,n[7]=d*g+f*m+v},t.prototype._render=function(r){this.calculateVertices(),r.batch.setObjectRenderer(r.plugins[this.pluginName]),r.plugins[this.pluginName].render(this)},t.prototype._calculateBounds=function(){var r=this._texture.trim,n=this._texture.orig;!r||r.width===n.width&&r.height===n.height?(this.calculateVertices(),this._bounds.addQuad(this.vertexData)):(this.calculateTrimmedVertices(),this._bounds.addQuad(this.vertexTrimmedData))},t.prototype.getLocalBounds=function(r){return this.children.length===0?(this._localBounds||(this._localBounds=new cl),this._localBounds.minX=this._texture.orig.width*-this._anchor._x,this._localBounds.minY=this._texture.orig.height*-this._anchor._y,this._localBounds.maxX=this._texture.orig.width*(1-this._anchor._x),this._localBounds.maxY=this._texture.orig.height*(1-this._anchor._y),r||(this._localBoundsRect||(this._localBoundsRect=new it),r=this._localBoundsRect),this._localBounds.getRectangle(r)):e.prototype.getLocalBounds.call(this,r)},t.prototype.containsPoint=function(r){this.worldTransform.applyInverse(r,Tu);var n=this._texture.orig.width,i=this._texture.orig.height,o=-n*this.anchor.x,a=0;return Tu.x>=o&&Tu.x<o+n&&(a=-i*this.anchor.y,Tu.y>=a&&Tu.y<a+i)},t.prototype.destroy=function(r){e.prototype.destroy.call(this,r),this._texture.off("update",this._onTextureUpdate,this),this._anchor=null;var n=typeof r=="boolean"?r:r&&r.texture;if(n){var i=typeof r=="boolean"?r:r&&r.baseTexture;this._texture.destroy(!!i)}this._texture=null},t.from=function(r,n){var i=r instanceof Se?r:Se.from(r,n);return new t(i)},Object.defineProperty(t.prototype,"roundPixels",{get:function(){return this._roundPixels},set:function(r){this._roundPixels!==r&&(this._transformID=-1),this._roundPixels=r},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"width",{get:function(){return Math.abs(this.scale.x)*this._texture.orig.width},set:function(r){var n=Za(this.scale.x)||1;this.scale.x=n*r/this._texture.orig.width,this._width=r},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return Math.abs(this.scale.y)*this._texture.orig.height},set:function(r){var n=Za(this.scale.y)||1;this.scale.y=n*r/this._texture.orig.height,this._height=r},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"anchor",{get:function(){return this._anchor},set:function(r){this._anchor.copyFrom(r)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"tint",{get:function(){return this._tint},set:function(r){this._tint=r,this._tintRGB=(r>>16)+(r&65280)+((r&255)<<16)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"texture",{get:function(){return this._texture},set:function(r){this._texture!==r&&(this._texture&&this._texture.off("update",this._onTextureUpdate,this),this._texture=r||Se.EMPTY,this._cachedTint=16777215,this._textureID=-1,this._textureTrimmedID=-1,r&&(r.baseTexture.valid?this._onTextureUpdate():r.once("update",this._onTextureUpdate,this)))},enumerable:!1,configurable:!0}),t}(_n);/*!
 * @pixi/text - v6.3.0
 * Compiled Wed, 23 Mar 2022 18:58:56 UTC
 *
 * @pixi/text is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var mm=function(e,t){return mm=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},mm(e,t)};function w8(e,t){mm(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var pl;(function(e){e[e.LINEAR_VERTICAL=0]="LINEAR_VERTICAL",e[e.LINEAR_HORIZONTAL=1]="LINEAR_HORIZONTAL"})(pl||(pl={}));var Hv={align:"left",breakWords:!1,dropShadow:!1,dropShadowAlpha:1,dropShadowAngle:Math.PI/6,dropShadowBlur:0,dropShadowColor:"black",dropShadowDistance:5,fill:"black",fillGradientType:pl.LINEAR_VERTICAL,fillGradientStops:[],fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",letterSpacing:0,lineHeight:0,lineJoin:"miter",miterLimit:10,padding:0,stroke:"black",strokeThickness:0,textBaseline:"alphabetic",trim:!1,whiteSpace:"pre",wordWrap:!1,wordWrapWidth:100,leading:0},b8=["serif","sans-serif","monospace","cursive","fantasy","system-ui"],bs=function(){function e(t){this.styleID=0,this.reset(),zv(this,t,t)}return e.prototype.clone=function(){var t={};return zv(t,this,Hv),new e(t)},e.prototype.reset=function(){zv(this,Hv,Hv)},Object.defineProperty(e.prototype,"align",{get:function(){return this._align},set:function(t){this._align!==t&&(this._align=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"breakWords",{get:function(){return this._breakWords},set:function(t){this._breakWords!==t&&(this._breakWords=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"dropShadow",{get:function(){return this._dropShadow},set:function(t){this._dropShadow!==t&&(this._dropShadow=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"dropShadowAlpha",{get:function(){return this._dropShadowAlpha},set:function(t){this._dropShadowAlpha!==t&&(this._dropShadowAlpha=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"dropShadowAngle",{get:function(){return this._dropShadowAngle},set:function(t){this._dropShadowAngle!==t&&(this._dropShadowAngle=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"dropShadowBlur",{get:function(){return this._dropShadowBlur},set:function(t){this._dropShadowBlur!==t&&(this._dropShadowBlur=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"dropShadowColor",{get:function(){return this._dropShadowColor},set:function(t){var r=Xv(t);this._dropShadowColor!==r&&(this._dropShadowColor=r,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"dropShadowDistance",{get:function(){return this._dropShadowDistance},set:function(t){this._dropShadowDistance!==t&&(this._dropShadowDistance=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fill",{get:function(){return this._fill},set:function(t){var r=Xv(t);this._fill!==r&&(this._fill=r,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fillGradientType",{get:function(){return this._fillGradientType},set:function(t){this._fillGradientType!==t&&(this._fillGradientType=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fillGradientStops",{get:function(){return this._fillGradientStops},set:function(t){S8(this._fillGradientStops,t)||(this._fillGradientStops=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fontFamily",{get:function(){return this._fontFamily},set:function(t){this.fontFamily!==t&&(this._fontFamily=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fontSize",{get:function(){return this._fontSize},set:function(t){this._fontSize!==t&&(this._fontSize=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fontStyle",{get:function(){return this._fontStyle},set:function(t){this._fontStyle!==t&&(this._fontStyle=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fontVariant",{get:function(){return this._fontVariant},set:function(t){this._fontVariant!==t&&(this._fontVariant=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fontWeight",{get:function(){return this._fontWeight},set:function(t){this._fontWeight!==t&&(this._fontWeight=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"letterSpacing",{get:function(){return this._letterSpacing},set:function(t){this._letterSpacing!==t&&(this._letterSpacing=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"lineHeight",{get:function(){return this._lineHeight},set:function(t){this._lineHeight!==t&&(this._lineHeight=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"leading",{get:function(){return this._leading},set:function(t){this._leading!==t&&(this._leading=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"lineJoin",{get:function(){return this._lineJoin},set:function(t){this._lineJoin!==t&&(this._lineJoin=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"miterLimit",{get:function(){return this._miterLimit},set:function(t){this._miterLimit!==t&&(this._miterLimit=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"padding",{get:function(){return this._padding},set:function(t){this._padding!==t&&(this._padding=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"stroke",{get:function(){return this._stroke},set:function(t){var r=Xv(t);this._stroke!==r&&(this._stroke=r,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"strokeThickness",{get:function(){return this._strokeThickness},set:function(t){this._strokeThickness!==t&&(this._strokeThickness=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"textBaseline",{get:function(){return this._textBaseline},set:function(t){this._textBaseline!==t&&(this._textBaseline=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"trim",{get:function(){return this._trim},set:function(t){this._trim!==t&&(this._trim=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"whiteSpace",{get:function(){return this._whiteSpace},set:function(t){this._whiteSpace!==t&&(this._whiteSpace=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"wordWrap",{get:function(){return this._wordWrap},set:function(t){this._wordWrap!==t&&(this._wordWrap=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"wordWrapWidth",{get:function(){return this._wordWrapWidth},set:function(t){this._wordWrapWidth!==t&&(this._wordWrapWidth=t,this.styleID++)},enumerable:!1,configurable:!0}),e.prototype.toFontString=function(){var t=typeof this.fontSize=="number"?this.fontSize+"px":this.fontSize,r=this.fontFamily;Array.isArray(this.fontFamily)||(r=this.fontFamily.split(","));for(var n=r.length-1;n>=0;n--){var i=r[n].trim();!/([\"\'])[^\'\"]+\1/.test(i)&&b8.indexOf(i)<0&&(i='"'+i+'"'),r[n]=i}return this.fontStyle+" "+this.fontVariant+" "+this.fontWeight+" "+t+" "+r.join(",")},e}();function ME(e){return typeof e=="number"?s2(e):(typeof e=="string"&&e.indexOf("0x")===0&&(e=e.replace("0x","#")),e)}function Xv(e){if(Array.isArray(e)){for(var t=0;t<e.length;++t)e[t]=ME(e[t]);return e}else return ME(e)}function S8(e,t){if(!Array.isArray(e)||!Array.isArray(t)||e.length!==t.length)return!1;for(var r=0;r<e.length;++r)if(e[r]!==t[r])return!1;return!0}function zv(e,t,r){for(var n in r)Array.isArray(t[n])?e[n]=t[n].slice():e[n]=t[n]}var gn=function(){function e(t,r,n,i,o,a,u,f,h){this.text=t,this.style=r,this.width=n,this.height=i,this.lines=o,this.lineWidths=a,this.lineHeight=u,this.maxLineWidth=f,this.fontProperties=h}return e.measureText=function(t,r,n,i){i===void 0&&(i=e._canvas),n=n==null?r.wordWrap:n;var o=r.toFontString(),a=e.measureFont(o);a.fontSize===0&&(a.fontSize=r.fontSize,a.ascent=r.fontSize);var u=i.getContext("2d");u.font=o;for(var f=n?e.wordWrap(t,r,i):t,h=f.split(/(?:\r\n|\r|\n)/),d=new Array(h.length),p=0,v=0;v<h.length;v++){var m=u.measureText(h[v]).width+(h[v].length-1)*r.letterSpacing;d[v]=m,p=Math.max(p,m)}var y=p+r.strokeThickness;r.dropShadow&&(y+=r.dropShadowDistance);var E=r.lineHeight||a.fontSize+r.strokeThickness,g=Math.max(E,a.fontSize+r.strokeThickness)+(h.length-1)*(E+r.leading);return r.dropShadow&&(g+=r.dropShadowDistance),new e(t,r,y,g,h,d,E+r.leading,p,a)},e.wordWrap=function(t,r,n){n===void 0&&(n=e._canvas);for(var i=n.getContext("2d"),o=0,a="",u="",f=Object.create(null),h=r.letterSpacing,d=r.whiteSpace,p=e.collapseSpaces(d),v=e.collapseNewlines(d),m=!p,y=r.wordWrapWidth+h,E=e.tokenize(t),g=0;g<E.length;g++){var x=E[g];if(e.isNewline(x)){if(!v){u+=e.addLine(a),m=!p,a="",o=0;continue}x=" "}if(p){var w=e.isBreakingSpace(x),N=e.isBreakingSpace(a[a.length-1]);if(w&&N)continue}var O=e.getFromCache(x,h,f,i);if(O>y)if(a!==""&&(u+=e.addLine(a),a="",o=0),e.canBreakWords(x,r.breakWords))for(var R=e.wordWrapSplit(x),I=0;I<R.length;I++){for(var B=R[I],z=1;R[I+z];){var M=R[I+z],$=B[B.length-1];if(!e.canBreakChars($,M,x,I,r.breakWords))B+=M;else break;z++}I+=B.length-1;var de=e.getFromCache(B,h,f,i);de+o>y&&(u+=e.addLine(a),m=!1,a="",o=0),a+=B,o+=de}else{a.length>0&&(u+=e.addLine(a),a="",o=0);var ae=g===E.length-1;u+=e.addLine(x,!ae),m=!1,a="",o=0}else O+o>y&&(m=!1,u+=e.addLine(a),a="",o=0),(a.length>0||!e.isBreakingSpace(x)||m)&&(a+=x,o+=O)}return u+=e.addLine(a,!1),u},e.addLine=function(t,r){return r===void 0&&(r=!0),t=e.trimRight(t),t=r?t+`
`:t,t},e.getFromCache=function(t,r,n,i){var o=n[t];if(typeof o!="number"){var a=t.length*r;o=i.measureText(t).width+a,n[t]=o}return o},e.collapseSpaces=function(t){return t==="normal"||t==="pre-line"},e.collapseNewlines=function(t){return t==="normal"},e.trimRight=function(t){if(typeof t!="string")return"";for(var r=t.length-1;r>=0;r--){var n=t[r];if(!e.isBreakingSpace(n))break;t=t.slice(0,-1)}return t},e.isNewline=function(t){return typeof t!="string"?!1:e._newlines.indexOf(t.charCodeAt(0))>=0},e.isBreakingSpace=function(t,r){return typeof t!="string"?!1:e._breakingSpaces.indexOf(t.charCodeAt(0))>=0},e.tokenize=function(t){var r=[],n="";if(typeof t!="string")return r;for(var i=0;i<t.length;i++){var o=t[i],a=t[i+1];if(e.isBreakingSpace(o,a)||e.isNewline(o)){n!==""&&(r.push(n),n=""),r.push(o);continue}n+=o}return n!==""&&r.push(n),r},e.canBreakWords=function(t,r){return r},e.canBreakChars=function(t,r,n,i,o){return!0},e.wordWrapSplit=function(t){return t.split("")},e.measureFont=function(t){if(e._fonts[t])return e._fonts[t];var r={ascent:0,descent:0,fontSize:0},n=e._canvas,i=e._context;i.font=t;var o=e.METRICS_STRING+e.BASELINE_SYMBOL,a=Math.ceil(i.measureText(o).width),u=Math.ceil(i.measureText(e.BASELINE_SYMBOL).width),f=Math.ceil(e.HEIGHT_MULTIPLIER*u);u=u*e.BASELINE_MULTIPLIER|0,n.width=a,n.height=f,i.fillStyle="#f00",i.fillRect(0,0,a,f),i.font=t,i.textBaseline="alphabetic",i.fillStyle="#000",i.fillText(o,0,u);var h=i.getImageData(0,0,a,f).data,d=h.length,p=a*4,v=0,m=0,y=!1;for(v=0;v<u;++v){for(var E=0;E<p;E+=4)if(h[m+E]!==255){y=!0;break}if(!y)m+=p;else break}for(r.ascent=u-v,m=d-p,y=!1,v=f;v>u;--v){for(var E=0;E<p;E+=4)if(h[m+E]!==255){y=!0;break}if(!y)m-=p;else break}return r.descent=v-u,r.fontSize=r.ascent+r.descent,e._fonts[t]=r,r},e.clearMetrics=function(t){t===void 0&&(t=""),t?delete e._fonts[t]:e._fonts={}},e}(),xc=function(){try{var e=new OffscreenCanvas(0,0),t=e.getContext("2d");return t&&t.measureText?e:document.createElement("canvas")}catch{return document.createElement("canvas")}}();xc.width=xc.height=10;gn._canvas=xc;gn._context=xc.getContext("2d");gn._fonts={};gn.METRICS_STRING="|\xC9q\xC5";gn.BASELINE_SYMBOL="M";gn.BASELINE_MULTIPLIER=1.4;gn.HEIGHT_MULTIPLIER=2;gn._newlines=[10,13];gn._breakingSpaces=[9,32,8192,8193,8194,8195,8196,8197,8198,8200,8201,8202,8287,12288];var C8={texture:!0,children:!1,baseTexture:!0},eC=function(e){w8(t,e);function t(r,n,i){var o=this,a=!1;i||(i=document.createElement("canvas"),a=!0),i.width=3,i.height=3;var u=Se.from(i);return u.orig=new it,u.trim=new it,o=e.call(this,u)||this,o._ownCanvas=a,o.canvas=i,o.context=o.canvas.getContext("2d"),o._resolution=Te.RESOLUTION,o._autoResolution=!0,o._text=null,o._style=null,o._styleListener=null,o._font="",o.text=r,o.style=n,o.localStyleID=-1,o}return t.prototype.updateText=function(r){var n=this._style;if(this.localStyleID!==n.styleID&&(this.dirty=!0,this.localStyleID=n.styleID),!(!this.dirty&&r)){this._font=this._style.toFontString();var i=this.context,o=gn.measureText(this._text||" ",this._style,this._style.wordWrap,this.canvas),a=o.width,u=o.height,f=o.lines,h=o.lineHeight,d=o.lineWidths,p=o.maxLineWidth,v=o.fontProperties;this.canvas.width=Math.ceil(Math.ceil(Math.max(1,a)+n.padding*2)*this._resolution),this.canvas.height=Math.ceil(Math.ceil(Math.max(1,u)+n.padding*2)*this._resolution),i.scale(this._resolution,this._resolution),i.clearRect(0,0,this.canvas.width,this.canvas.height),i.font=this._font,i.lineWidth=n.strokeThickness,i.textBaseline=n.textBaseline,i.lineJoin=n.lineJoin,i.miterLimit=n.miterLimit;for(var m,y,E=n.dropShadow?2:1,g=0;g<E;++g){var x=n.dropShadow&&g===0,w=x?Math.ceil(Math.max(1,u)+n.padding*2):0,N=w*this._resolution;if(x){i.fillStyle="black",i.strokeStyle="black";var O=n.dropShadowColor,R=Es(typeof O=="number"?O:u2(O)),I=n.dropShadowBlur*this._resolution,B=n.dropShadowDistance*this._resolution;i.shadowColor="rgba("+R[0]*255+","+R[1]*255+","+R[2]*255+","+n.dropShadowAlpha+")",i.shadowBlur=I,i.shadowOffsetX=Math.cos(n.dropShadowAngle)*B,i.shadowOffsetY=Math.sin(n.dropShadowAngle)*B+N}else i.fillStyle=this._generateFillStyle(n,f,o),i.strokeStyle=n.stroke,i.shadowColor="black",i.shadowBlur=0,i.shadowOffsetX=0,i.shadowOffsetY=0;var z=(h-v.fontSize)/2;(!t.nextLineHeightBehavior||h-v.fontSize<0)&&(z=0);for(var M=0;M<f.length;M++)m=n.strokeThickness/2,y=n.strokeThickness/2+M*h+v.ascent+z,n.align==="right"?m+=p-d[M]:n.align==="center"&&(m+=(p-d[M])/2),n.stroke&&n.strokeThickness&&this.drawLetterSpacing(f[M],m+n.padding,y+n.padding-w,!0),n.fill&&this.drawLetterSpacing(f[M],m+n.padding,y+n.padding-w)}this.updateTexture()}},t.prototype.drawLetterSpacing=function(r,n,i,o){o===void 0&&(o=!1);var a=this._style,u=a.letterSpacing,f=t.experimentalLetterSpacing&&("letterSpacing"in CanvasRenderingContext2D.prototype||"textLetterSpacing"in CanvasRenderingContext2D.prototype);if(u===0||f){f&&(this.context.letterSpacing=u,this.context.textLetterSpacing=u),o?this.context.strokeText(r,n,i):this.context.fillText(r,n,i);return}for(var h=n,d=Array.from?Array.from(r):r.split(""),p=this.context.measureText(r).width,v=0,m=0;m<d.length;++m){var y=d[m];o?this.context.strokeText(y,h,i):this.context.fillText(y,h,i);for(var E="",g=m+1;g<d.length;++g)E+=d[g];v=this.context.measureText(E).width,h+=p-v+u,p=v}},t.prototype.updateTexture=function(){var r=this.canvas;if(this._style.trim){var n=B6(r);n.data&&(r.width=n.width,r.height=n.height,this.context.putImageData(n.data,0,0))}var i=this._texture,o=this._style,a=o.trim?0:o.padding,u=i.baseTexture;i.trim.width=i._frame.width=r.width/this._resolution,i.trim.height=i._frame.height=r.height/this._resolution,i.trim.x=-a,i.trim.y=-a,i.orig.width=i._frame.width-a*2,i.orig.height=i._frame.height-a*2,this._onTextureUpdate(),u.setRealSize(r.width,r.height,this._resolution),i.updateUvs(),this._recursivePostUpdateTransform(),this.dirty=!1},t.prototype._render=function(r){this._autoResolution&&this._resolution!==r.resolution&&(this._resolution=r.resolution,this.dirty=!0),this.updateText(!0),e.prototype._render.call(this,r)},t.prototype.getLocalBounds=function(r){return this.updateText(!0),e.prototype.getLocalBounds.call(this,r)},t.prototype._calculateBounds=function(){this.updateText(!0),this.calculateVertices(),this._bounds.addQuad(this.vertexData)},t.prototype._generateFillStyle=function(r,n,i){var o=r.fill;if(Array.isArray(o)){if(o.length===1)return o[0]}else return o;var a,u=r.dropShadow?r.dropShadowDistance:0,f=r.padding||0,h=this.canvas.width/this._resolution-u-f*2,d=this.canvas.height/this._resolution-u-f*2,p=o.slice(),v=r.fillGradientStops.slice();if(!v.length)for(var m=p.length+1,y=1;y<m;++y)v.push(y/m);if(p.unshift(o[0]),v.unshift(0),p.push(o[o.length-1]),v.push(1),r.fillGradientType===pl.LINEAR_VERTICAL){a=this.context.createLinearGradient(h/2,f,h/2,d+f);for(var E=i.fontProperties.fontSize+r.strokeThickness,y=0;y<n.length;y++){var g=i.lineHeight*(y-1)+E,x=i.lineHeight*y,w=x;y>0&&g>x&&(w=(x+g)/2);var N=x+E,O=i.lineHeight*(y+1),R=N;y+1<n.length&&O<N&&(R=(N+O)/2);for(var I=(R-w)/d,B=0;B<p.length;B++){var z=0;typeof v[B]=="number"?z=v[B]:z=B/p.length;var M=Math.min(1,Math.max(0,w/d+z*I));M=Number(M.toFixed(5)),a.addColorStop(M,p[B])}}}else{a=this.context.createLinearGradient(f,d/2,h+f,d/2);for(var $=p.length+1,de=1,y=0;y<p.length;y++){var ae=void 0;typeof v[y]=="number"?ae=v[y]:ae=de/$,a.addColorStop(ae,p[y]),de++}}return a},t.prototype.destroy=function(r){typeof r=="boolean"&&(r={children:r}),r=Object.assign({},C8,r),e.prototype.destroy.call(this,r),this._ownCanvas&&(this.canvas.height=this.canvas.width=0),this.context=null,this.canvas=null,this._style=null},Object.defineProperty(t.prototype,"width",{get:function(){return this.updateText(!0),Math.abs(this.scale.x)*this._texture.orig.width},set:function(r){this.updateText(!0);var n=Za(this.scale.x)||1;this.scale.x=n*r/this._texture.orig.width,this._width=r},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this.updateText(!0),Math.abs(this.scale.y)*this._texture.orig.height},set:function(r){this.updateText(!0);var n=Za(this.scale.y)||1;this.scale.y=n*r/this._texture.orig.height,this._height=r},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"style",{get:function(){return this._style},set:function(r){r=r||{},r instanceof bs?this._style=r:this._style=new bs(r),this.localStyleID=-1,this.dirty=!0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"text",{get:function(){return this._text},set:function(r){r=String(r==null?"":r),this._text!==r&&(this._text=r,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resolution",{get:function(){return this._resolution},set:function(r){this._autoResolution=!1,this._resolution!==r&&(this._resolution=r,this.dirty=!0)},enumerable:!1,configurable:!0}),t.nextLineHeightBehavior=!1,t.experimentalLetterSpacing=!1,t}(la);/*!
 * @pixi/prepare - v6.3.0
 * Compiled Wed, 23 Mar 2022 18:58:56 UTC
 *
 * @pixi/prepare is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */Te.UPLOADS_PER_FRAME=4;/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var gm=function(e,t){return gm=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},gm(e,t)};function I8(e,t){gm(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var R8=function(){function e(t){this.maxItemsPerFrame=t,this.itemsLeft=0}return e.prototype.beginFrame=function(){this.itemsLeft=this.maxItemsPerFrame},e.prototype.allowedToUpload=function(){return this.itemsLeft-- >0},e}();function N8(e,t){var r=!1;if(e&&e._textures&&e._textures.length){for(var n=0;n<e._textures.length;n++)if(e._textures[n]instanceof Se){var i=e._textures[n].baseTexture;t.indexOf(i)===-1&&(t.push(i),r=!0)}}return r}function P8(e,t){if(e.baseTexture instanceof Qe){var r=e.baseTexture;return t.indexOf(r)===-1&&t.push(r),!0}return!1}function A8(e,t){if(e._texture&&e._texture instanceof Se){var r=e._texture.baseTexture;return t.indexOf(r)===-1&&t.push(r),!0}return!1}function O8(e,t){return t instanceof eC?(t.updateText(!0),!0):!1}function L8(e,t){if(t instanceof bs){var r=t.toFontString();return gn.measureFont(r),!0}return!1}function F8(e,t){if(e instanceof eC){t.indexOf(e.style)===-1&&t.push(e.style),t.indexOf(e)===-1&&t.push(e);var r=e._texture.baseTexture;return t.indexOf(r)===-1&&t.push(r),!0}return!1}function U8(e,t){return e instanceof bs?(t.indexOf(e)===-1&&t.push(e),!0):!1}var k8=function(){function e(t){var r=this;this.limiter=new R8(Te.UPLOADS_PER_FRAME),this.renderer=t,this.uploadHookHelper=null,this.queue=[],this.addHooks=[],this.uploadHooks=[],this.completes=[],this.ticking=!1,this.delayedTick=function(){!r.queue||r.prepareItems()},this.registerFindHook(F8),this.registerFindHook(U8),this.registerFindHook(N8),this.registerFindHook(P8),this.registerFindHook(A8),this.registerUploadHook(O8),this.registerUploadHook(L8)}return e.prototype.upload=function(t,r){typeof t=="function"&&(r=t,t=null),t&&this.add(t),this.queue.length?(r&&this.completes.push(r),this.ticking||(this.ticking=!0,lr.system.addOnce(this.tick,this,bi.UTILITY))):r&&r()},e.prototype.tick=function(){setTimeout(this.delayedTick,0)},e.prototype.prepareItems=function(){for(this.limiter.beginFrame();this.queue.length&&this.limiter.allowedToUpload();){var t=this.queue[0],r=!1;if(t&&!t._destroyed){for(var n=0,i=this.uploadHooks.length;n<i;n++)if(this.uploadHooks[n](this.uploadHookHelper,t)){this.queue.shift(),r=!0;break}}r||this.queue.shift()}if(this.queue.length)lr.system.addOnce(this.tick,this,bi.UTILITY);else{this.ticking=!1;var o=this.completes.slice(0);this.completes.length=0;for(var n=0,i=o.length;n<i;n++)o[n]()}},e.prototype.registerFindHook=function(t){return t&&this.addHooks.push(t),this},e.prototype.registerUploadHook=function(t){return t&&this.uploadHooks.push(t),this},e.prototype.add=function(t){for(var r=0,n=this.addHooks.length;r<n&&!this.addHooks[r](t,this.queue);r++);if(t instanceof _n)for(var r=t.children.length-1;r>=0;r--)this.add(t.children[r]);return this},e.prototype.destroy=function(){this.ticking&&lr.system.remove(this.tick,this),this.ticking=!1,this.addHooks=null,this.uploadHooks=null,this.renderer=null,this.completes=null,this.queue=null,this.limiter=null,this.uploadHookHelper=null},e}();function tC(e,t){return t instanceof Qe?(t._glTextures[e.CONTEXT_UID]||e.texture.bind(t),!0):!1}function B8(e,t){if(!(t instanceof yc))return!1;var r=t.geometry;t.finishPoly(),r.updateBatches();for(var n=r.batches,i=0;i<n.length;i++){var o=n[i].style.texture;o&&tC(e,o.baseTexture)}return r.batchable||e.geometry.bind(r,t._resolveDirectShader(e)),!0}function M8(e,t){return e instanceof yc?(t.push(e),!0):!1}var D8=function(e){I8(t,e);function t(r){var n=e.call(this,r)||this;return n.uploadHookHelper=n.renderer,n.registerFindHook(M8),n.registerUploadHook(tC),n.registerUploadHook(B8),n}return t}(k8);/*!
 * @pixi/spritesheet - v6.3.0
 * Compiled Wed, 23 Mar 2022 18:58:56 UTC
 *
 * @pixi/spritesheet is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var G8=function(){function e(t,r,n){n===void 0&&(n=null),this._texture=t instanceof Se?t:null,this.baseTexture=t instanceof Qe?t:this._texture.baseTexture,this.textures={},this.animations={},this.data=r;var i=this.baseTexture.resource;this.resolution=this._updateResolution(n||(i?i.url:null)),this._frames=this.data.frames,this._frameKeys=Object.keys(this._frames),this._batchIndex=0,this._callback=null}return e.prototype._updateResolution=function(t){t===void 0&&(t=null);var r=this.data.meta.scale,n=pc(t,null);return n===null&&(n=r!==void 0?parseFloat(r):1),n!==1&&this.baseTexture.setResolution(n),n},e.prototype.parse=function(t){this._batchIndex=0,this._callback=t,this._frameKeys.length<=e.BATCH_SIZE?(this._processFrames(0),this._processAnimations(),this._parseComplete()):this._nextBatch()},e.prototype._processFrames=function(t){for(var r=t,n=e.BATCH_SIZE;r-t<n&&r<this._frameKeys.length;){var i=this._frameKeys[r],o=this._frames[i],a=o.frame;if(a){var u=null,f=null,h=o.trimmed!==!1&&o.sourceSize?o.sourceSize:o.frame,d=new it(0,0,Math.floor(h.w)/this.resolution,Math.floor(h.h)/this.resolution);o.rotated?u=new it(Math.floor(a.x)/this.resolution,Math.floor(a.y)/this.resolution,Math.floor(a.h)/this.resolution,Math.floor(a.w)/this.resolution):u=new it(Math.floor(a.x)/this.resolution,Math.floor(a.y)/this.resolution,Math.floor(a.w)/this.resolution,Math.floor(a.h)/this.resolution),o.trimmed!==!1&&o.spriteSourceSize&&(f=new it(Math.floor(o.spriteSourceSize.x)/this.resolution,Math.floor(o.spriteSourceSize.y)/this.resolution,Math.floor(a.w)/this.resolution,Math.floor(a.h)/this.resolution)),this.textures[i]=new Se(this.baseTexture,u,d,f,o.rotated?2:0,o.anchor),Se.addToCache(this.textures[i],i)}r++}},e.prototype._processAnimations=function(){var t=this.data.animations||{};for(var r in t){this.animations[r]=[];for(var n=0;n<t[r].length;n++){var i=t[r][n];this.animations[r].push(this.textures[i])}}},e.prototype._parseComplete=function(){var t=this._callback;this._callback=null,this._batchIndex=0,t.call(this,this.textures)},e.prototype._nextBatch=function(){var t=this;this._processFrames(this._batchIndex*e.BATCH_SIZE),this._batchIndex++,setTimeout(function(){t._batchIndex*e.BATCH_SIZE<t._frameKeys.length?t._nextBatch():(t._processAnimations(),t._parseComplete())},0)},e.prototype.destroy=function(t){var r;t===void 0&&(t=!1);for(var n in this.textures)this.textures[n].destroy();this._frames=null,this._frameKeys=null,this.data=null,this.textures=null,t&&((r=this._texture)===null||r===void 0||r.destroy(),this.baseTexture.destroy()),this._texture=null,this.baseTexture=null},e.BATCH_SIZE=1e3,e}(),H8=function(){function e(){}return e.use=function(t,r){var n,i,o=this,a=t.name+"_image";if(!t.data||t.type!==Mt.TYPE.JSON||!t.data.frames||o.resources[a]){r();return}var u=(i=(n=t.data)===null||n===void 0?void 0:n.meta)===null||i===void 0?void 0:i.related_multi_packs;if(Array.isArray(u))for(var f=function(y){if(typeof y!="string")return"continue";var E=y.replace(".json",""),g=Ka.resolve(t.url.replace(o.baseUrl,""),y);if(o.resources[E]||Object.values(o.resources).some(function(w){return Ka.format(Ka.parse(w.url))===g}))return"continue";var x={crossOrigin:t.crossOrigin,loadType:Mt.LOAD_TYPE.XHR,xhrType:Mt.XHR_RESPONSE_TYPE.JSON,parentResource:t,metadata:t.metadata};o.add(E,g,x)},h=0,d=u;h<d.length;h++){var p=d[h];f(p)}var v={crossOrigin:t.crossOrigin,metadata:t.metadata.imageMetadata,parentResource:t},m=e.getResourcePath(t,o.baseUrl);o.add(a,m,v,function(E){if(E.error){r(E.error);return}var g=new G8(E.texture,t.data,t.url);g.parse(function(){t.spritesheet=g,t.textures=g.textures,r()})})},e.getResourcePath=function(t,r){return t.isDataUrl?t.data.meta.image:Ka.resolve(t.url.replace(r,""),t.data.meta.image)},e}();/*!
 * @pixi/sprite-tiling - v6.3.0
 * Compiled Wed, 23 Mar 2022 18:58:56 UTC
 *
 * @pixi/sprite-tiling is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var ym=function(e,t){return ym=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},ym(e,t)};function rC(e,t){ym(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var Eu=new wt;(function(e){rC(t,e);function t(r,n,i){n===void 0&&(n=100),i===void 0&&(i=100);var o=e.call(this,r)||this;return o.tileTransform=new p2,o._width=n,o._height=i,o.uvMatrix=o.texture.uvMatrix||new t0(r),o.pluginName="tilingSprite",o.uvRespectAnchor=!1,o}return Object.defineProperty(t.prototype,"clampMargin",{get:function(){return this.uvMatrix.clampMargin},set:function(r){this.uvMatrix.clampMargin=r,this.uvMatrix.update(!0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"tileScale",{get:function(){return this.tileTransform.scale},set:function(r){this.tileTransform.scale.copyFrom(r)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"tilePosition",{get:function(){return this.tileTransform.position},set:function(r){this.tileTransform.position.copyFrom(r)},enumerable:!1,configurable:!0}),t.prototype._onTextureUpdate=function(){this.uvMatrix&&(this.uvMatrix.texture=this._texture),this._cachedTint=16777215},t.prototype._render=function(r){var n=this._texture;!n||!n.valid||(this.tileTransform.updateLocalTransform(),this.uvMatrix.update(),r.batch.setObjectRenderer(r.plugins[this.pluginName]),r.plugins[this.pluginName].render(this))},t.prototype._calculateBounds=function(){var r=this._width*-this._anchor._x,n=this._height*-this._anchor._y,i=this._width*(1-this._anchor._x),o=this._height*(1-this._anchor._y);this._bounds.addFrame(this.transform,r,n,i,o)},t.prototype.getLocalBounds=function(r){return this.children.length===0?(this._bounds.minX=this._width*-this._anchor._x,this._bounds.minY=this._height*-this._anchor._y,this._bounds.maxX=this._width*(1-this._anchor._x),this._bounds.maxY=this._height*(1-this._anchor._y),r||(this._localBoundsRect||(this._localBoundsRect=new it),r=this._localBoundsRect),this._bounds.getRectangle(r)):e.prototype.getLocalBounds.call(this,r)},t.prototype.containsPoint=function(r){this.worldTransform.applyInverse(r,Eu);var n=this._width,i=this._height,o=-n*this.anchor._x;if(Eu.x>=o&&Eu.x<o+n){var a=-i*this.anchor._y;if(Eu.y>=a&&Eu.y<a+i)return!0}return!1},t.prototype.destroy=function(r){e.prototype.destroy.call(this,r),this.tileTransform=null,this.uvMatrix=null},t.from=function(r,n){var i=r instanceof Se?r:Se.from(r,n);return new t(i,n.width,n.height)},Object.defineProperty(t.prototype,"width",{get:function(){return this._width},set:function(r){this._width=r},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this._height},set:function(r){this._height=r},enumerable:!1,configurable:!0}),t})(la);var X8=`#version 100
#define SHADER_NAME Tiling-Sprite-Simple-100

precision lowp float;

varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform vec4 uColor;

void main(void)
{
    vec4 texSample = texture2D(uSampler, vTextureCoord);
    gl_FragColor = texSample * uColor;
}
`,DE=`#version 100
#define SHADER_NAME Tiling-Sprite-100

precision lowp float;

attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTransform;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;
}
`,z8=`#version 100
#ifdef GL_EXT_shader_texture_lod
    #extension GL_EXT_shader_texture_lod : enable
#endif
#define SHADER_NAME Tiling-Sprite-100

precision lowp float;

varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform vec4 uColor;
uniform mat3 uMapCoord;
uniform vec4 uClampFrame;
uniform vec2 uClampOffset;

void main(void)
{
    vec2 coord = vTextureCoord + ceil(uClampOffset - vTextureCoord);
    coord = (uMapCoord * vec3(coord, 1.0)).xy;
    vec2 unclamped = coord;
    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);

    #ifdef GL_EXT_shader_texture_lod
        vec4 texSample = unclamped == coord
            ? texture2D(uSampler, coord) 
            : texture2DLodEXT(uSampler, coord, 0);
    #else
        vec4 texSample = texture2D(uSampler, coord);
    #endif

    gl_FragColor = texSample * uColor;
}
`,V8=`#version 300 es
#define SHADER_NAME Tiling-Sprite-300

precision lowp float;

in vec2 aVertexPosition;
in vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTransform;

out vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;
}
`,W8=`#version 300 es
#define SHADER_NAME Tiling-Sprite-100

precision lowp float;

in vec2 vTextureCoord;

out vec4 fragmentColor;

uniform sampler2D uSampler;
uniform vec4 uColor;
uniform mat3 uMapCoord;
uniform vec4 uClampFrame;
uniform vec2 uClampOffset;

void main(void)
{
    vec2 coord = vTextureCoord + ceil(uClampOffset - vTextureCoord);
    coord = (uMapCoord * vec3(coord, 1.0)).xy;
    vec2 unclamped = coord;
    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);

    vec4 texSample = texture(uSampler, coord, unclamped == coord ? 0.0f : -32.0f);// lod-bias very negative to force lod 0

    fragmentColor = texSample * uColor;
}
`,yh=new Wt,j8=function(e){rC(t,e);function t(r){var n=e.call(this,r)||this;return r.runners.contextChange.add(n),n.quad=new b2,n.state=ua.for2d(),n}return t.prototype.contextChange=function(){var r=this.renderer,n={globals:r.globalUniforms};this.simpleShader=ao.from(DE,X8,n),this.shader=r.context.webGLVersion>1?ao.from(V8,W8,n):ao.from(DE,z8,n)},t.prototype.render=function(r){var n=this.renderer,i=this.quad,o=i.vertices;o[0]=o[6]=r._width*-r.anchor.x,o[1]=o[3]=r._height*-r.anchor.y,o[2]=o[4]=r._width*(1-r.anchor.x),o[5]=o[7]=r._height*(1-r.anchor.y);var a=r.uvRespectAnchor?r.anchor.x:0,u=r.uvRespectAnchor?r.anchor.y:0;o=i.uvs,o[0]=o[6]=-a,o[1]=o[3]=-u,o[2]=o[4]=1-a,o[5]=o[7]=1-u,i.invalidate();var f=r._texture,h=f.baseTexture,d=r.tileTransform.localTransform,p=r.uvMatrix,v=h.isPowerOfTwo&&f.frame.width===h.width&&f.frame.height===h.height;v&&(h._glTextures[n.CONTEXT_UID]?v=h.wrapMode!==xi.CLAMP:h.wrapMode===xi.CLAMP&&(h.wrapMode=xi.REPEAT));var m=v?this.simpleShader:this.shader,y=f.width,E=f.height,g=r._width,x=r._height;yh.set(d.a*y/g,d.b*y/x,d.c*E/g,d.d*E/x,d.tx/g,d.ty/x),yh.invert(),v?yh.prepend(p.mapCoord):(m.uniforms.uMapCoord=p.mapCoord.toArray(!0),m.uniforms.uClampFrame=p.uClampFrame,m.uniforms.uClampOffset=p.uClampOffset),m.uniforms.uTransform=yh.toArray(!0),m.uniforms.uColor=h2(r.tint,r.worldAlpha,m.uniforms.uColor,h.alphaMode),m.uniforms.translationMatrix=r.transform.worldTransform.toArray(!0),m.uniforms.uSampler=f,n.shader.bind(m),n.geometry.bind(i),this.state.blendMode=f2(r.blendMode,h.alphaMode),n.state.set(this.state),n.geometry.draw(this.renderer.gl.TRIANGLES,6,0)},t}(ed);/*!
 * @pixi/mesh - v6.3.0
 * Compiled Wed, 23 Mar 2022 18:58:56 UTC
 *
 * @pixi/mesh is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var xm=function(e,t){return xm=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},xm(e,t)};function i0(e,t){xm(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var $8=function(){function e(t,r){this.uvBuffer=t,this.uvMatrix=r,this.data=null,this._bufferUpdateId=-1,this._textureUpdateId=-1,this._updateID=0}return e.prototype.update=function(t){if(!(!t&&this._bufferUpdateId===this.uvBuffer._updateID&&this._textureUpdateId===this.uvMatrix._updateID)){this._bufferUpdateId=this.uvBuffer._updateID,this._textureUpdateId=this.uvMatrix._updateID;var r=this.uvBuffer.data;(!this.data||this.data.length!==r.length)&&(this.data=new Float32Array(r.length)),this.uvMatrix.multiplyUvs(r,this.data),this._updateID++}},e}(),Vv=new wt,GE=new Mh,vl=function(e){i0(t,e);function t(r,n,i,o){o===void 0&&(o=Pn.TRIANGLES);var a=e.call(this)||this;return a.geometry=r,a.shader=n,a.state=i||ua.for2d(),a.drawMode=o,a.start=0,a.size=0,a.uvs=null,a.indices=null,a.vertexData=new Float32Array(1),a.vertexDirty=-1,a._transformID=-1,a._roundPixels=Te.ROUND_PIXELS,a.batchUvs=null,a}return Object.defineProperty(t.prototype,"geometry",{get:function(){return this._geometry},set:function(r){this._geometry!==r&&(this._geometry&&(this._geometry.refCount--,this._geometry.refCount===0&&this._geometry.dispose()),this._geometry=r,this._geometry&&this._geometry.refCount++,this.vertexDirty=-1)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"uvBuffer",{get:function(){return this.geometry.buffers[1]},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"verticesBuffer",{get:function(){return this.geometry.buffers[0]},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"material",{get:function(){return this.shader},set:function(r){this.shader=r},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"blendMode",{get:function(){return this.state.blendMode},set:function(r){this.state.blendMode=r},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"roundPixels",{get:function(){return this._roundPixels},set:function(r){this._roundPixels!==r&&(this._transformID=-1),this._roundPixels=r},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"tint",{get:function(){return"tint"in this.shader?this.shader.tint:null},set:function(r){this.shader.tint=r},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"texture",{get:function(){return"texture"in this.shader?this.shader.texture:null},set:function(r){this.shader.texture=r},enumerable:!1,configurable:!0}),t.prototype._render=function(r){var n=this.geometry.buffers[0].data,i=this.shader;i.batchable&&this.drawMode===Pn.TRIANGLES&&n.length<t.BATCHABLE_SIZE*2?this._renderToBatch(r):this._renderDefault(r)},t.prototype._renderDefault=function(r){var n=this.shader;n.alpha=this.worldAlpha,n.update&&n.update(),r.batch.flush(),n.uniforms.translationMatrix=this.transform.worldTransform.toArray(!0),r.shader.bind(n),r.state.set(this.state),r.geometry.bind(this.geometry,n),r.geometry.draw(this.drawMode,this.size,this.start,this.geometry.instanceCount)},t.prototype._renderToBatch=function(r){var n=this.geometry,i=this.shader;i.uvMatrix&&(i.uvMatrix.update(),this.calculateUvs()),this.calculateVertices(),this.indices=n.indexBuffer.data,this._tintRGB=i._tintRGB,this._texture=i.texture;var o=this.material.pluginName;r.batch.setObjectRenderer(r.plugins[o]),r.plugins[o].render(this)},t.prototype.calculateVertices=function(){var r=this.geometry,n=r.buffers[0],i=n.data,o=n._updateID;if(!(o===this.vertexDirty&&this._transformID===this.transform._worldID)){this._transformID=this.transform._worldID,this.vertexData.length!==i.length&&(this.vertexData=new Float32Array(i.length));for(var a=this.transform.worldTransform,u=a.a,f=a.b,h=a.c,d=a.d,p=a.tx,v=a.ty,m=this.vertexData,y=0;y<m.length/2;y++){var E=i[y*2],g=i[y*2+1];m[y*2]=u*E+h*g+p,m[y*2+1]=f*E+d*g+v}if(this._roundPixels)for(var x=Te.RESOLUTION,y=0;y<m.length;++y)m[y]=Math.round((m[y]*x|0)/x);this.vertexDirty=o}},t.prototype.calculateUvs=function(){var r=this.geometry.buffers[1],n=this.shader;n.uvMatrix.isSimple?this.uvs=r.data:(this.batchUvs||(this.batchUvs=new $8(r,n.uvMatrix)),this.batchUvs.update(),this.uvs=this.batchUvs.data)},t.prototype._calculateBounds=function(){this.calculateVertices(),this._bounds.addVertexData(this.vertexData,0,this.vertexData.length)},t.prototype.containsPoint=function(r){if(!this.getBounds().contains(r.x,r.y))return!1;this.worldTransform.applyInverse(r,Vv);for(var n=this.geometry.getBuffer("aVertexPosition").data,i=GE.points,o=this.geometry.getIndex().data,a=o.length,u=this.drawMode===4?3:1,f=0;f+2<a;f+=u){var h=o[f]*2,d=o[f+1]*2,p=o[f+2]*2;if(i[0]=n[h],i[1]=n[h+1],i[2]=n[d],i[3]=n[d+1],i[4]=n[p],i[5]=n[p+1],GE.contains(Vv.x,Vv.y))return!0}return!1},t.prototype.destroy=function(r){e.prototype.destroy.call(this,r),this._cachedTexture&&(this._cachedTexture.destroy(),this._cachedTexture=null),this.geometry=null,this.shader=null,this.state=null,this.uvs=null,this.indices=null,this.vertexData=null},t.BATCHABLE_SIZE=100,t}(_n),Y8=`varying vec2 vTextureCoord;
uniform vec4 uColor;

uniform sampler2D uSampler;

void main(void)
{
    gl_FragColor = texture2D(uSampler, vTextureCoord) * uColor;
}
`,q8=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTextureMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;
}
`,_l=function(e){i0(t,e);function t(r,n){var i=this,o={uSampler:r,alpha:1,uTextureMatrix:Wt.IDENTITY,uColor:new Float32Array([1,1,1,1])};return n=Object.assign({tint:16777215,alpha:1,pluginName:"batch"},n),n.uniforms&&Object.assign(o,n.uniforms),i=e.call(this,n.program||Al.from(q8,Y8),o)||this,i._colorDirty=!1,i.uvMatrix=new t0(r),i.batchable=n.program===void 0,i.pluginName=n.pluginName,i.tint=n.tint,i.alpha=n.alpha,i}return Object.defineProperty(t.prototype,"texture",{get:function(){return this.uniforms.uSampler},set:function(r){this.uniforms.uSampler!==r&&(this.uniforms.uSampler=r,this.uvMatrix.texture=r)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"alpha",{get:function(){return this._alpha},set:function(r){r!==this._alpha&&(this._alpha=r,this._colorDirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"tint",{get:function(){return this._tint},set:function(r){r!==this._tint&&(this._tint=r,this._tintRGB=(r>>16)+(r&65280)+((r&255)<<16),this._colorDirty=!0)},enumerable:!1,configurable:!0}),t.prototype.update=function(){if(this._colorDirty){this._colorDirty=!1;var r=this.texture.baseTexture;h2(this._tint,this._alpha,this.uniforms.uColor,r.alphaMode)}this.uvMatrix.update()&&(this.uniforms.uTextureMatrix=this.uvMatrix.mapCoord)},t}(ao),rd=function(e){i0(t,e);function t(r,n,i){var o=e.call(this)||this,a=new Kt(r),u=new Kt(n,!0),f=new Kt(i,!0,!0);return o.addAttribute("aVertexPosition",a,2,!1,we.FLOAT).addAttribute("aTextureCoord",u,2,!1,we.FLOAT).addIndex(f),o._updateId=-1,o}return Object.defineProperty(t.prototype,"vertexDirtyId",{get:function(){return this.buffers[0]._updateID},enumerable:!1,configurable:!0}),t}(Pl);/*!
 * @pixi/text-bitmap - v6.3.0
 * Compiled Wed, 23 Mar 2022 18:58:56 UTC
 *
 * @pixi/text-bitmap is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var Tm=function(e,t){return Tm=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},Tm(e,t)};function K8(e,t){Tm(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var Tc=function(){function e(){this.info=[],this.common=[],this.page=[],this.char=[],this.kerning=[],this.distanceField=[]}return e}(),Z8=function(){function e(){}return e.test=function(t){return typeof t=="string"&&t.indexOf("info face=")===0},e.parse=function(t){var r=t.match(/^[a-z]+\s+.+$/gm),n={info:[],common:[],page:[],char:[],chars:[],kerning:[],kernings:[],distanceField:[]};for(var i in r){var o=r[i].match(/^[a-z]+/gm)[0],a=r[i].match(/[a-zA-Z]+=([^\s"']+|"([^"]*)")/gm),u={};for(var f in a){var h=a[f].split("="),d=h[0],p=h[1].replace(/"/gm,""),v=parseFloat(p),m=isNaN(v)?p:v;u[d]=m}n[o].push(u)}var y=new Tc;return n.info.forEach(function(E){return y.info.push({face:E.face,size:parseInt(E.size,10)})}),n.common.forEach(function(E){return y.common.push({lineHeight:parseInt(E.lineHeight,10)})}),n.page.forEach(function(E){return y.page.push({id:parseInt(E.id,10),file:E.file})}),n.char.forEach(function(E){return y.char.push({id:parseInt(E.id,10),page:parseInt(E.page,10),x:parseInt(E.x,10),y:parseInt(E.y,10),width:parseInt(E.width,10),height:parseInt(E.height,10),xoffset:parseInt(E.xoffset,10),yoffset:parseInt(E.yoffset,10),xadvance:parseInt(E.xadvance,10)})}),n.kerning.forEach(function(E){return y.kerning.push({first:parseInt(E.first,10),second:parseInt(E.second,10),amount:parseInt(E.amount,10)})}),n.distanceField.forEach(function(E){return y.distanceField.push({distanceRange:parseInt(E.distanceRange,10),fieldType:E.fieldType})}),y},e}(),Em=function(){function e(){}return e.test=function(t){return t instanceof XMLDocument&&t.getElementsByTagName("page").length&&t.getElementsByTagName("info")[0].getAttribute("face")!==null},e.parse=function(t){for(var r=new Tc,n=t.getElementsByTagName("info"),i=t.getElementsByTagName("common"),o=t.getElementsByTagName("page"),a=t.getElementsByTagName("char"),u=t.getElementsByTagName("kerning"),f=t.getElementsByTagName("distanceField"),h=0;h<n.length;h++)r.info.push({face:n[h].getAttribute("face"),size:parseInt(n[h].getAttribute("size"),10)});for(var h=0;h<i.length;h++)r.common.push({lineHeight:parseInt(i[h].getAttribute("lineHeight"),10)});for(var h=0;h<o.length;h++)r.page.push({id:parseInt(o[h].getAttribute("id"),10)||0,file:o[h].getAttribute("file")});for(var h=0;h<a.length;h++){var d=a[h];r.char.push({id:parseInt(d.getAttribute("id"),10),page:parseInt(d.getAttribute("page"),10)||0,x:parseInt(d.getAttribute("x"),10),y:parseInt(d.getAttribute("y"),10),width:parseInt(d.getAttribute("width"),10),height:parseInt(d.getAttribute("height"),10),xoffset:parseInt(d.getAttribute("xoffset"),10),yoffset:parseInt(d.getAttribute("yoffset"),10),xadvance:parseInt(d.getAttribute("xadvance"),10)})}for(var h=0;h<u.length;h++)r.kerning.push({first:parseInt(u[h].getAttribute("first"),10),second:parseInt(u[h].getAttribute("second"),10),amount:parseInt(u[h].getAttribute("amount"),10)});for(var h=0;h<f.length;h++)r.distanceField.push({fieldType:f[h].getAttribute("fieldType"),distanceRange:parseInt(f[h].getAttribute("distanceRange"),10)});return r},e}(),J8=function(){function e(){}return e.test=function(t){if(typeof t=="string"&&t.indexOf("<font>")>-1){var r=new globalThis.DOMParser().parseFromString(t,"text/xml");return Em.test(r)}return!1},e.parse=function(t){var r=new globalThis.DOMParser().parseFromString(t,"text/xml");return Em.parse(r)},e}(),Wv=[Z8,Em,J8];function nC(e){for(var t=0;t<Wv.length;t++)if(Wv[t].test(e))return Wv[t];return null}function Q8(e,t,r,n,i,o){var a=r.fill;if(Array.isArray(a)){if(a.length===1)return a[0]}else return a;var u,f=r.dropShadow?r.dropShadowDistance:0,h=r.padding||0,d=e.width/n-f-h*2,p=e.height/n-f-h*2,v=a.slice(),m=r.fillGradientStops.slice();if(!m.length)for(var y=v.length+1,E=1;E<y;++E)m.push(E/y);if(v.unshift(a[0]),m.unshift(0),v.push(a[a.length-1]),m.push(1),r.fillGradientType===pl.LINEAR_VERTICAL){u=t.createLinearGradient(d/2,h,d/2,p+h);for(var g=0,x=o.fontProperties.fontSize+r.strokeThickness,w=x/p,E=0;E<i.length;E++)for(var N=o.lineHeight*E,O=0;O<v.length;O++){var R=0;typeof m[O]=="number"?R=m[O]:R=O/v.length;var I=N/p+R*w,B=Math.max(g,I);B=Math.min(B,1),u.addColorStop(B,v[O]),g=B}}else{u=t.createLinearGradient(h,p/2,d+h,p/2);for(var z=v.length+1,M=1,E=0;E<v.length;E++){var $=void 0;typeof m[E]=="number"?$=m[E]:$=M/z,u.addColorStop($,v[E]),M++}}return u}function e9(e,t,r,n,i,o,a){var u=r.text,f=r.fontProperties;t.translate(n,i),t.scale(o,o);var h=a.strokeThickness/2,d=-(a.strokeThickness/2);if(t.font=a.toFontString(),t.lineWidth=a.strokeThickness,t.textBaseline=a.textBaseline,t.lineJoin=a.lineJoin,t.miterLimit=a.miterLimit,t.fillStyle=Q8(e,t,a,o,[u],r),t.strokeStyle=a.stroke,a.dropShadow){var p=a.dropShadowColor,v=Es(typeof p=="number"?p:u2(p)),m=a.dropShadowBlur*o,y=a.dropShadowDistance*o;t.shadowColor="rgba("+v[0]*255+","+v[1]*255+","+v[2]*255+","+a.dropShadowAlpha+")",t.shadowBlur=m,t.shadowOffsetX=Math.cos(a.dropShadowAngle)*y,t.shadowOffsetY=Math.sin(a.dropShadowAngle)*y}else t.shadowColor="black",t.shadowBlur=0,t.shadowOffsetX=0,t.shadowOffsetY=0;a.stroke&&a.strokeThickness&&t.strokeText(u,h,d+r.lineHeight-f.descent),a.fill&&t.fillText(u,h,d+r.lineHeight-f.descent),t.setTransform(1,0,0,1,0,0),t.fillStyle="rgba(0, 0, 0, 0)"}function iC(e){return Array.from?Array.from(e):e.split("")}function t9(e){typeof e=="string"&&(e=[e]);for(var t=[],r=0,n=e.length;r<n;r++){var i=e[r];if(Array.isArray(i)){if(i.length!==2)throw new Error("[BitmapFont]: Invalid character range length, expecting 2 got "+i.length+".");var o=i[0].charCodeAt(0),a=i[1].charCodeAt(0);if(a<o)throw new Error("[BitmapFont]: Invalid character range.");for(var u=o,f=a;u<=f;u++)t.push(String.fromCharCode(u))}else t.push.apply(t,iC(i))}if(t.length===0)throw new Error("[BitmapFont]: Empty set when resolving characters.");return t}function Dh(e){return e.codePointAt?e.codePointAt(0):e.charCodeAt(0)}var Xa=function(){function e(t,r,n){var i,o,a=t.info[0],u=t.common[0],f=t.page[0],h=t.distanceField[0],d=pc(f.file),p={};this._ownsTextures=n,this.font=a.face,this.size=a.size,this.lineHeight=u.lineHeight/d,this.chars={},this.pageTextures=p;for(var v=0;v<t.page.length;v++){var m=t.page[v],y=m.id,E=m.file;p[y]=r instanceof Array?r[v]:r[E],(h==null?void 0:h.fieldType)&&h.fieldType!=="none"&&(p[y].baseTexture.alphaMode=On.NO_PREMULTIPLIED_ALPHA)}for(var v=0;v<t.char.length;v++){var g=t.char[v],y=g.id,x=g.page,w=t.char[v],N=w.x,O=w.y,R=w.width,I=w.height,B=w.xoffset,z=w.yoffset,M=w.xadvance;N/=d,O/=d,R/=d,I/=d,B/=d,z/=d,M/=d;var $=new it(N+p[x].frame.x/d,O+p[x].frame.y/d,R,I);this.chars[y]={xOffset:B,yOffset:z,xAdvance:M,kerning:{},texture:new Se(p[x].baseTexture,$),page:x}}for(var v=0;v<t.kerning.length;v++){var de=t.kerning[v],ae=de.first,pe=de.second,We=de.amount;ae/=d,pe/=d,We/=d,this.chars[pe]&&(this.chars[pe].kerning[ae]=We)}this.distanceFieldRange=h==null?void 0:h.distanceRange,this.distanceFieldType=(o=(i=h==null?void 0:h.fieldType)===null||i===void 0?void 0:i.toLowerCase())!==null&&o!==void 0?o:"none"}return e.prototype.destroy=function(){for(var t in this.chars)this.chars[t].texture.destroy(),this.chars[t].texture=null;for(var t in this.pageTextures)this._ownsTextures&&this.pageTextures[t].destroy(!0),this.pageTextures[t]=null;this.chars=null,this.pageTextures=null},e.install=function(t,r,n){var i;if(t instanceof Tc)i=t;else{var o=nC(t);if(!o)throw new Error("Unrecognized data format for font.");i=o.parse(t)}r instanceof Se&&(r=[r]);var a=new e(i,r,n);return e.available[a.font]=a,a},e.uninstall=function(t){var r=e.available[t];if(!r)throw new Error("No font found named '"+t+"'");r.destroy(),delete e.available[t]},e.from=function(t,r,n){if(!t)throw new Error("[BitmapFont] Property `name` is required.");var i=Object.assign({},e.defaultOptions,n),o=i.chars,a=i.padding,u=i.resolution,f=i.textureWidth,h=i.textureHeight,d=t9(o),p=r instanceof bs?r:new bs(r),v=f,m=new Tc;m.info[0]={face:p.fontFamily,size:p.fontSize},m.common[0]={lineHeight:p.fontSize};for(var y=0,E=0,g,x,w,N=0,O=[],R=0;R<d.length;R++){g||(g=document.createElement("canvas"),g.width=f,g.height=h,x=g.getContext("2d"),w=new Qe(g,{resolution:u}),O.push(new Se(w)),m.page.push({id:O.length-1,file:""}));var I=gn.measureText(d[R],p,!1,g),B=I.width,z=Math.ceil(I.height),M=Math.ceil((p.fontStyle==="italic"?2:1)*B);if(E>=h-z*u){if(E===0)throw new Error("[BitmapFont] textureHeight "+h+"px is "+("too small for "+p.fontSize+"px fonts"));--R,g=null,x=null,w=null,E=0,y=0,N=0;continue}if(N=Math.max(z+I.fontProperties.descent,N),M*u+y>=v){--R,E+=N*u,E=Math.ceil(E),y=0,N=0;continue}e9(g,x,I,y,E,u,p);var $=Dh(I.text);m.char.push({id:$,page:O.length-1,x:y/u,y:E/u,width:M,height:z,xoffset:0,yoffset:0,xadvance:Math.ceil(B-(p.dropShadow?p.dropShadowDistance:0)-(p.stroke?p.strokeThickness:0))}),y+=(M+2*a)*u,y=Math.ceil(y)}for(var R=0,de=d.length;R<de;R++)for(var ae=d[R],pe=0;pe<de;pe++){var We=d[pe],le=x.measureText(ae).width,fe=x.measureText(We).width,ye=x.measureText(ae+We).width,Oe=ye-(le+fe);Oe&&m.kerning.push({first:Dh(ae),second:Dh(We),amount:Oe})}var ht=new e(m,O,!0);return e.available[t]!==void 0&&e.uninstall(t),e.available[t]=ht,ht},e.ALPHA=[["a","z"],["A","Z"]," "],e.NUMERIC=[["0","9"]],e.ALPHANUMERIC=[["a","z"],["A","Z"],["0","9"]," "],e.ASCII=[[" ","~"]],e.defaultOptions={resolution:1,textureWidth:512,textureHeight:512,padding:4,chars:e.ALPHANUMERIC},e.available={},e}(),r9=`// Pixi texture info\r
varying vec2 vTextureCoord;\r
uniform sampler2D uSampler;\r
\r
// Tint\r
uniform vec4 uColor;\r
\r
// on 2D applications fwidth is screenScale / glyphAtlasScale * distanceFieldRange\r
uniform float uFWidth;\r
\r
void main(void) {\r
\r
  // To stack MSDF and SDF we need a non-pre-multiplied-alpha texture.\r
  vec4 texColor = texture2D(uSampler, vTextureCoord);\r
\r
  // MSDF\r
  float median = texColor.r + texColor.g + texColor.b -\r
                  min(texColor.r, min(texColor.g, texColor.b)) -\r
                  max(texColor.r, max(texColor.g, texColor.b));\r
  // SDF\r
  median = min(median, texColor.a);\r
\r
  float screenPxDistance = uFWidth * (median - 0.5);\r
  float alpha = clamp(screenPxDistance + 0.5, 0.0, 1.0);\r
\r
  // NPM Textures, NPM outputs\r
  gl_FragColor = vec4(uColor.rgb, uColor.a * alpha);\r
\r
}\r
`,n9=`// Mesh material default fragment\r
attribute vec2 aVertexPosition;\r
attribute vec2 aTextureCoord;\r
\r
uniform mat3 projectionMatrix;\r
uniform mat3 translationMatrix;\r
uniform mat3 uTextureMatrix;\r
\r
varying vec2 vTextureCoord;\r
\r
void main(void)\r
{\r
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\r
\r
    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;\r
}\r
`,i9=[],o9=[],HE=[];(function(e){K8(t,e);function t(r,n){n===void 0&&(n={});var i=e.call(this)||this;i._tint=16777215;var o=Object.assign({},t.styleDefaults,n),a=o.align,u=o.tint,f=o.maxWidth,h=o.letterSpacing,d=o.fontName,p=o.fontSize;if(!Xa.available[d])throw new Error('Missing BitmapFont "'+d+'"');return i._activePagesMeshData=[],i._textWidth=0,i._textHeight=0,i._align=a,i._tint=u,i._fontName=d,i._fontSize=p||Xa.available[d].size,i._text=r,i._maxWidth=f,i._maxLineHeight=0,i._letterSpacing=h,i._anchor=new Ja(function(){i.dirty=!0},i,0,0),i._roundPixels=Te.ROUND_PIXELS,i.dirty=!0,i._textureCache={},i}return t.prototype.updateText=function(){for(var r,n=Xa.available[this._fontName],i=this._fontSize/n.size,o=new wt,a=[],u=[],f=[],h=this._text.replace(/(?:\r\n|\r)/g,`
`)||" ",d=iC(h),p=this._maxWidth*n.size/this._fontSize,v=n.distanceFieldType==="none"?i9:o9,m=null,y=0,E=0,g=0,x=-1,w=0,N=0,O=0,R=0,I=0;I<d.length;I++){var B=d[I],z=Dh(B);if(/(?:\s)/.test(B)&&(x=I,w=y,R++),B==="\r"||B===`
`){u.push(y),f.push(-1),E=Math.max(E,y),++g,++N,o.x=0,o.y+=n.lineHeight,m=null,R=0;continue}var M=n.chars[z];if(!!M){m&&M.kerning[m]&&(o.x+=M.kerning[m]);var $=HE.pop()||{texture:Se.EMPTY,line:0,charCode:0,prevSpaces:0,position:new wt};$.texture=M.texture,$.line=g,$.charCode=z,$.position.x=o.x+M.xOffset+this._letterSpacing/2,$.position.y=o.y+M.yOffset,$.prevSpaces=R,a.push($),y=$.position.x+Math.max(M.xAdvance,M.texture.orig.width),o.x+=M.xAdvance+this._letterSpacing,O=Math.max(O,M.yOffset+M.texture.height),m=z,x!==-1&&p>0&&o.x>p&&(++N,cs(a,1+x-N,1+I-x),I=x,x=-1,u.push(w),f.push(a.length>0?a[a.length-1].prevSpaces:0),E=Math.max(E,w),g++,o.x=0,o.y+=n.lineHeight,m=null,R=0)}}var de=d[d.length-1];de!=="\r"&&de!==`
`&&(/(?:\s)/.test(de)&&(y=w),u.push(y),E=Math.max(E,y),f.push(-1));for(var ae=[],I=0;I<=g;I++){var pe=0;this._align==="right"?pe=E-u[I]:this._align==="center"?pe=(E-u[I])/2:this._align==="justify"&&(pe=f[I]<0?0:(E-u[I])/f[I]),ae.push(pe)}for(var We=a.length,le={},fe=[],ye=this._activePagesMeshData,I=0;I<ye.length;I++)v.push(ye[I]);for(var I=0;I<We;I++){var Oe=a[I].texture,ht=Oe.baseTexture.uid;if(!le[ht]){var Z=v.pop();if(!Z){var V=new rd,re=void 0,he=void 0;n.distanceFieldType==="none"?(re=new _l(Se.EMPTY),he=be.NORMAL):(re=new _l(Se.EMPTY,{program:Al.from(n9,r9),uniforms:{uFWidth:0}}),he=be.NORMAL_NPM);var Ee=new vl(V,re);Ee.blendMode=he,Z={index:0,indexCount:0,vertexCount:0,uvsCount:0,total:0,mesh:Ee,vertices:null,uvs:null,indices:null}}Z.index=0,Z.indexCount=0,Z.vertexCount=0,Z.uvsCount=0,Z.total=0;var Ae=this._textureCache;Ae[ht]=Ae[ht]||new Se(Oe.baseTexture),Z.mesh.texture=Ae[ht],Z.mesh.tint=this._tint,fe.push(Z),le[ht]=Z}le[ht].total++}for(var I=0;I<ye.length;I++)fe.indexOf(ye[I])===-1&&this.removeChild(ye[I].mesh);for(var I=0;I<fe.length;I++)fe[I].mesh.parent!==this&&this.addChild(fe[I].mesh);this._activePagesMeshData=fe;for(var I in le){var Z=le[I],ke=Z.total;if(!(((r=Z.indices)===null||r===void 0?void 0:r.length)>6*ke)||Z.vertices.length<vl.BATCHABLE_SIZE*2)Z.vertices=new Float32Array(4*2*ke),Z.uvs=new Float32Array(4*2*ke),Z.indices=new Uint16Array(6*ke);else for(var ot=Z.total,at=Z.vertices,je=ot*4*2;je<at.length;je++)at[je]=0;Z.mesh.size=6*ke}for(var I=0;I<We;I++){var B=a[I],yt=B.position.x+ae[B.line]*(this._align==="justify"?B.prevSpaces:1);this._roundPixels&&(yt=Math.round(yt));var Ye=yt*i,st=B.position.y*i,Oe=B.texture,Me=le[Oe.baseTexture.uid],lt=Oe.frame,et=Oe._uvs,Ve=Me.index++;Me.indices[Ve*6+0]=0+Ve*4,Me.indices[Ve*6+1]=1+Ve*4,Me.indices[Ve*6+2]=2+Ve*4,Me.indices[Ve*6+3]=0+Ve*4,Me.indices[Ve*6+4]=2+Ve*4,Me.indices[Ve*6+5]=3+Ve*4,Me.vertices[Ve*8+0]=Ye,Me.vertices[Ve*8+1]=st,Me.vertices[Ve*8+2]=Ye+lt.width*i,Me.vertices[Ve*8+3]=st,Me.vertices[Ve*8+4]=Ye+lt.width*i,Me.vertices[Ve*8+5]=st+lt.height*i,Me.vertices[Ve*8+6]=Ye,Me.vertices[Ve*8+7]=st+lt.height*i,Me.uvs[Ve*8+0]=et.x0,Me.uvs[Ve*8+1]=et.y0,Me.uvs[Ve*8+2]=et.x1,Me.uvs[Ve*8+3]=et.y1,Me.uvs[Ve*8+4]=et.x2,Me.uvs[Ve*8+5]=et.y2,Me.uvs[Ve*8+6]=et.x3,Me.uvs[Ve*8+7]=et.y3}this._textWidth=E*i,this._textHeight=(o.y+n.lineHeight)*i;for(var I in le){var Z=le[I];if(this.anchor.x!==0||this.anchor.y!==0)for(var Nt=0,Nr=this._textWidth*this.anchor.x,Ln=this._textHeight*this.anchor.y,en=0;en<Z.total;en++)Z.vertices[Nt++]-=Nr,Z.vertices[Nt++]-=Ln,Z.vertices[Nt++]-=Nr,Z.vertices[Nt++]-=Ln,Z.vertices[Nt++]-=Nr,Z.vertices[Nt++]-=Ln,Z.vertices[Nt++]-=Nr,Z.vertices[Nt++]-=Ln;this._maxLineHeight=O*i;var Jt=Z.mesh.geometry.getBuffer("aVertexPosition"),yn=Z.mesh.geometry.getBuffer("aTextureCoord"),Fn=Z.mesh.geometry.getIndex();Jt.data=Z.vertices,yn.data=Z.uvs,Fn.data=Z.indices,Jt.update(),yn.update(),Fn.update()}for(var I=0;I<a.length;I++)HE.push(a[I])},t.prototype.updateTransform=function(){this.validate(),this.containerUpdateTransform()},t.prototype._render=function(r){var n=Xa.available[this._fontName],i=n.distanceFieldRange,o=n.distanceFieldType,a=n.size;if(o!=="none")for(var u=this.worldTransform,f=u.a,h=u.b,d=u.c,p=u.d,v=Math.sqrt(f*f+h*h),m=Math.sqrt(d*d+p*p),y=(Math.abs(v)+Math.abs(m))/2,E=this._fontSize/a,g=0,x=this._activePagesMeshData;g<x.length;g++){var w=x[g];w.mesh.shader.uniforms.uFWidth=y*i*E*r.resolution}e.prototype._render.call(this,r)},t.prototype.getLocalBounds=function(){return this.validate(),e.prototype.getLocalBounds.call(this)},t.prototype.validate=function(){this.dirty&&(this.updateText(),this.dirty=!1)},Object.defineProperty(t.prototype,"tint",{get:function(){return this._tint},set:function(r){if(this._tint!==r){this._tint=r;for(var n=0;n<this._activePagesMeshData.length;n++)this._activePagesMeshData[n].mesh.tint=r}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"align",{get:function(){return this._align},set:function(r){this._align!==r&&(this._align=r,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fontName",{get:function(){return this._fontName},set:function(r){if(!Xa.available[r])throw new Error('Missing BitmapFont "'+r+'"');this._fontName!==r&&(this._fontName=r,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fontSize",{get:function(){return this._fontSize},set:function(r){this._fontSize!==r&&(this._fontSize=r,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"anchor",{get:function(){return this._anchor},set:function(r){typeof r=="number"?this._anchor.set(r):this._anchor.copyFrom(r)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"text",{get:function(){return this._text},set:function(r){r=String(r==null?"":r),this._text!==r&&(this._text=r,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxWidth",{get:function(){return this._maxWidth},set:function(r){this._maxWidth!==r&&(this._maxWidth=r,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxLineHeight",{get:function(){return this.validate(),this._maxLineHeight},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"textWidth",{get:function(){return this.validate(),this._textWidth},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"letterSpacing",{get:function(){return this._letterSpacing},set:function(r){this._letterSpacing!==r&&(this._letterSpacing=r,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"roundPixels",{get:function(){return this._roundPixels},set:function(r){r!==this._roundPixels&&(this._roundPixels=r,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"textHeight",{get:function(){return this.validate(),this._textHeight},enumerable:!1,configurable:!0}),t.prototype.destroy=function(r){var n=this._textureCache;for(var i in n){var o=n[i];o.destroy(),delete n[i]}this._textureCache=null,e.prototype.destroy.call(this,r)},t.styleDefaults={align:"left",tint:16777215,maxWidth:0,letterSpacing:0},t})(_n);var a9=function(){function e(){}return e.add=function(){Mt.setExtensionXhrType("fnt",Mt.XHR_RESPONSE_TYPE.TEXT)},e.use=function(t,r){var n=nC(t.data);if(!n){r();return}for(var i=e.getBaseUrl(this,t),o=n.parse(t.data),a={},u=function(E){a[E.metadata.pageFile]=E.texture,Object.keys(a).length===o.page.length&&(t.bitmapFont=Xa.install(o,a,!0),r())},f=0;f<o.page.length;++f){var h=o.page[f].file,d=i+h,p=!1;for(var v in this.resources){var m=this.resources[v];if(m.url===d){m.metadata.pageFile=h,m.texture?u(m):m.onAfterMiddleware.add(u),p=!0;break}}if(!p){var y={crossOrigin:t.crossOrigin,loadType:Mt.LOAD_TYPE.IMAGE,metadata:Object.assign({pageFile:h},t.metadata.imageMetadata),parentResource:t};this.add(d,y,u)}}},e.getBaseUrl=function(t,r){var n=r.isDataUrl?"":e.dirname(r.url);return r.isDataUrl&&(n==="."&&(n=""),t.baseUrl&&n&&t.baseUrl.charAt(t.baseUrl.length-1)==="/"&&(n+="/")),n=n.replace(t.baseUrl,""),n&&n.charAt(n.length-1)!=="/"&&(n+="/"),n},e.dirname=function(t){var r=t.replace(/\\/g,"/").replace(/\/$/,"").replace(/\/[^\/]*$/,"");return r===t?".":r===""?"/":r},e}();/*!
 * @pixi/filter-alpha - v6.3.0
 * Compiled Wed, 23 Mar 2022 18:58:56 UTC
 *
 * @pixi/filter-alpha is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var wm=function(e,t){return wm=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},wm(e,t)};function s9(e,t){wm(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var u9=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform float uAlpha;

void main(void)
{
   gl_FragColor = texture2D(uSampler, vTextureCoord) * uAlpha;
}
`;(function(e){s9(t,e);function t(r){r===void 0&&(r=1);var n=e.call(this,hG,u9,{uAlpha:1})||this;return n.alpha=r,n}return Object.defineProperty(t.prototype,"alpha",{get:function(){return this.uniforms.uAlpha},set:function(r){this.uniforms.uAlpha=r},enumerable:!1,configurable:!0}),t})(mo);/*!
 * @pixi/filter-blur - v6.3.0
 * Compiled Wed, 23 Mar 2022 18:58:56 UTC
 *
 * @pixi/filter-blur is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var bm=function(e,t){return bm=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},bm(e,t)};function oC(e,t){bm(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var l9=`
    attribute vec2 aVertexPosition;

    uniform mat3 projectionMatrix;

    uniform float strength;

    varying vec2 vBlurTexCoords[%size%];

    uniform vec4 inputSize;
    uniform vec4 outputFrame;

    vec4 filterVertexPosition( void )
    {
        vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

        return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
    }

    vec2 filterTextureCoord( void )
    {
        return aVertexPosition * (outputFrame.zw * inputSize.zw);
    }

    void main(void)
    {
        gl_Position = filterVertexPosition();

        vec2 textureCoord = filterTextureCoord();
        %blur%
    }`;function f9(e,t){var r=Math.ceil(e/2),n=l9,i="",o;t?o="vBlurTexCoords[%index%] =  textureCoord + vec2(%sampleIndex% * strength, 0.0);":o="vBlurTexCoords[%index%] =  textureCoord + vec2(0.0, %sampleIndex% * strength);";for(var a=0;a<e;a++){var u=o.replace("%index%",a.toString());u=u.replace("%sampleIndex%",a-(r-1)+".0"),i+=u,i+=`
`}return n=n.replace("%blur%",i),n=n.replace("%size%",e.toString()),n}var h9={5:[.153388,.221461,.250301],7:[.071303,.131514,.189879,.214607],9:[.028532,.067234,.124009,.179044,.20236],11:[.0093,.028002,.065984,.121703,.175713,.198596],13:[.002406,.009255,.027867,.065666,.121117,.174868,.197641],15:[489e-6,.002403,.009246,.02784,.065602,.120999,.174697,.197448]},c9=["varying vec2 vBlurTexCoords[%size%];","uniform sampler2D uSampler;","void main(void)","{","    gl_FragColor = vec4(0.0);","    %blur%","}"].join(`
`);function d9(e){for(var t=h9[e],r=t.length,n=c9,i="",o="gl_FragColor += texture2D(uSampler, vBlurTexCoords[%index%]) * %value%;",a,u=0;u<e;u++){var f=o.replace("%index%",u.toString());a=u,u>=r&&(a=e-u-1),f=f.replace("%value%",t[a].toString()),i+=f,i+=`
`}return n=n.replace("%blur%",i),n=n.replace("%size%",e.toString()),n}/*!
 * @pixi/constants - v6.3.0
 * Compiled Wed, 23 Mar 2022 18:58:56 UTC
 *
 * @pixi/constants is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var XE;(function(e){e[e.WEBGL_LEGACY=0]="WEBGL_LEGACY",e[e.WEBGL=1]="WEBGL",e[e.WEBGL2=2]="WEBGL2"})(XE||(XE={}));var zE;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.WEBGL=1]="WEBGL",e[e.CANVAS=2]="CANVAS"})(zE||(zE={}));var VE;(function(e){e[e.COLOR=16384]="COLOR",e[e.DEPTH=256]="DEPTH",e[e.STENCIL=1024]="STENCIL"})(VE||(VE={}));var WE;(function(e){e[e.NORMAL=0]="NORMAL",e[e.ADD=1]="ADD",e[e.MULTIPLY=2]="MULTIPLY",e[e.SCREEN=3]="SCREEN",e[e.OVERLAY=4]="OVERLAY",e[e.DARKEN=5]="DARKEN",e[e.LIGHTEN=6]="LIGHTEN",e[e.COLOR_DODGE=7]="COLOR_DODGE",e[e.COLOR_BURN=8]="COLOR_BURN",e[e.HARD_LIGHT=9]="HARD_LIGHT",e[e.SOFT_LIGHT=10]="SOFT_LIGHT",e[e.DIFFERENCE=11]="DIFFERENCE",e[e.EXCLUSION=12]="EXCLUSION",e[e.HUE=13]="HUE",e[e.SATURATION=14]="SATURATION",e[e.COLOR=15]="COLOR",e[e.LUMINOSITY=16]="LUMINOSITY",e[e.NORMAL_NPM=17]="NORMAL_NPM",e[e.ADD_NPM=18]="ADD_NPM",e[e.SCREEN_NPM=19]="SCREEN_NPM",e[e.NONE=20]="NONE",e[e.SRC_OVER=0]="SRC_OVER",e[e.SRC_IN=21]="SRC_IN",e[e.SRC_OUT=22]="SRC_OUT",e[e.SRC_ATOP=23]="SRC_ATOP",e[e.DST_OVER=24]="DST_OVER",e[e.DST_IN=25]="DST_IN",e[e.DST_OUT=26]="DST_OUT",e[e.DST_ATOP=27]="DST_ATOP",e[e.ERASE=26]="ERASE",e[e.SUBTRACT=28]="SUBTRACT",e[e.XOR=29]="XOR"})(WE||(WE={}));var jE;(function(e){e[e.POINTS=0]="POINTS",e[e.LINES=1]="LINES",e[e.LINE_LOOP=2]="LINE_LOOP",e[e.LINE_STRIP=3]="LINE_STRIP",e[e.TRIANGLES=4]="TRIANGLES",e[e.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",e[e.TRIANGLE_FAN=6]="TRIANGLE_FAN"})(jE||(jE={}));var $E;(function(e){e[e.RGBA=6408]="RGBA",e[e.RGB=6407]="RGB",e[e.RG=33319]="RG",e[e.RED=6403]="RED",e[e.RGBA_INTEGER=36249]="RGBA_INTEGER",e[e.RGB_INTEGER=36248]="RGB_INTEGER",e[e.RG_INTEGER=33320]="RG_INTEGER",e[e.RED_INTEGER=36244]="RED_INTEGER",e[e.ALPHA=6406]="ALPHA",e[e.LUMINANCE=6409]="LUMINANCE",e[e.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",e[e.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",e[e.DEPTH_STENCIL=34041]="DEPTH_STENCIL"})($E||($E={}));var YE;(function(e){e[e.TEXTURE_2D=3553]="TEXTURE_2D",e[e.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",e[e.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",e[e.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",e[e.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",e[e.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",e[e.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",e[e.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",e[e.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z"})(YE||(YE={}));var qE;(function(e){e[e.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",e[e.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",e[e.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",e[e.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",e[e.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",e[e.UNSIGNED_INT=5125]="UNSIGNED_INT",e[e.UNSIGNED_INT_10F_11F_11F_REV=35899]="UNSIGNED_INT_10F_11F_11F_REV",e[e.UNSIGNED_INT_2_10_10_10_REV=33640]="UNSIGNED_INT_2_10_10_10_REV",e[e.UNSIGNED_INT_24_8=34042]="UNSIGNED_INT_24_8",e[e.UNSIGNED_INT_5_9_9_9_REV=35902]="UNSIGNED_INT_5_9_9_9_REV",e[e.BYTE=5120]="BYTE",e[e.SHORT=5122]="SHORT",e[e.INT=5124]="INT",e[e.FLOAT=5126]="FLOAT",e[e.FLOAT_32_UNSIGNED_INT_24_8_REV=36269]="FLOAT_32_UNSIGNED_INT_24_8_REV",e[e.HALF_FLOAT=36193]="HALF_FLOAT"})(qE||(qE={}));var KE;(function(e){e[e.FLOAT=0]="FLOAT",e[e.INT=1]="INT",e[e.UINT=2]="UINT"})(KE||(KE={}));var ZE;(function(e){e[e.NEAREST=0]="NEAREST",e[e.LINEAR=1]="LINEAR"})(ZE||(ZE={}));var JE;(function(e){e[e.CLAMP=33071]="CLAMP",e[e.REPEAT=10497]="REPEAT",e[e.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT"})(JE||(JE={}));var QE;(function(e){e[e.OFF=0]="OFF",e[e.POW2=1]="POW2",e[e.ON=2]="ON",e[e.ON_MANUAL=3]="ON_MANUAL"})(QE||(QE={}));var ew;(function(e){e[e.NPM=0]="NPM",e[e.UNPACK=1]="UNPACK",e[e.PMA=2]="PMA",e[e.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",e[e.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",e[e.PREMULTIPLY_ALPHA=2]="PREMULTIPLY_ALPHA",e[e.PREMULTIPLIED_ALPHA=2]="PREMULTIPLIED_ALPHA"})(ew||(ew={}));var ml;(function(e){e[e.NO=0]="NO",e[e.YES=1]="YES",e[e.AUTO=2]="AUTO",e[e.BLEND=0]="BLEND",e[e.CLEAR=1]="CLEAR",e[e.BLIT=2]="BLIT"})(ml||(ml={}));var tw;(function(e){e[e.AUTO=0]="AUTO",e[e.MANUAL=1]="MANUAL"})(tw||(tw={}));var rw;(function(e){e.LOW="lowp",e.MEDIUM="mediump",e.HIGH="highp"})(rw||(rw={}));var nw;(function(e){e[e.NONE=0]="NONE",e[e.SCISSOR=1]="SCISSOR",e[e.STENCIL=2]="STENCIL",e[e.SPRITE=3]="SPRITE"})(nw||(nw={}));var iw;(function(e){e[e.NONE=0]="NONE",e[e.LOW=2]="LOW",e[e.MEDIUM=4]="MEDIUM",e[e.HIGH=8]="HIGH"})(iw||(iw={}));var ow;(function(e){e[e.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",e[e.ARRAY_BUFFER=34962]="ARRAY_BUFFER",e[e.UNIFORM_BUFFER=35345]="UNIFORM_BUFFER"})(ow||(ow={}));var aw=function(e){oC(t,e);function t(r,n,i,o,a){n===void 0&&(n=8),i===void 0&&(i=4),o===void 0&&(o=Te.FILTER_RESOLUTION),a===void 0&&(a=5);var u=this,f=f9(a,r),h=d9(a);return u=e.call(this,f,h)||this,u.horizontal=r,u.resolution=o,u._quality=0,u.quality=i,u.blur=n,u}return t.prototype.apply=function(r,n,i,o){if(i?this.horizontal?this.uniforms.strength=1/i.width*(i.width/n.width):this.uniforms.strength=1/i.height*(i.height/n.height):this.horizontal?this.uniforms.strength=1/r.renderer.width*(r.renderer.width/n.width):this.uniforms.strength=1/r.renderer.height*(r.renderer.height/n.height),this.uniforms.strength*=this.strength,this.uniforms.strength/=this.passes,this.passes===1)r.applyFilter(this,n,i,o);else{var a=r.getFilterTexture(),u=r.renderer,f=n,h=a;this.state.blend=!1,r.applyFilter(this,f,h,ml.CLEAR);for(var d=1;d<this.passes-1;d++){r.bindAndClear(f,ml.BLIT),this.uniforms.uSampler=h;var p=h;h=f,f=p,u.shader.bind(this),u.geometry.draw(5)}this.state.blend=!0,r.applyFilter(this,h,i,o),r.returnFilterTexture(a)}},Object.defineProperty(t.prototype,"blur",{get:function(){return this.strength},set:function(r){this.padding=1+Math.abs(r)*2,this.strength=r},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"quality",{get:function(){return this._quality},set:function(r){this._quality=r,this.passes=r},enumerable:!1,configurable:!0}),t}(mo);(function(e){oC(t,e);function t(r,n,i,o){r===void 0&&(r=8),n===void 0&&(n=4),i===void 0&&(i=Te.FILTER_RESOLUTION),o===void 0&&(o=5);var a=e.call(this)||this;return a.blurXFilter=new aw(!0,r,n,i,o),a.blurYFilter=new aw(!1,r,n,i,o),a.resolution=i,a.quality=n,a.blur=r,a.repeatEdgePixels=!1,a}return t.prototype.apply=function(r,n,i,o){var a=Math.abs(this.blurXFilter.strength),u=Math.abs(this.blurYFilter.strength);if(a&&u){var f=r.getFilterTexture();this.blurXFilter.apply(r,n,f,ml.CLEAR),this.blurYFilter.apply(r,f,i,o),r.returnFilterTexture(f)}else u?this.blurYFilter.apply(r,n,i,o):this.blurXFilter.apply(r,n,i,o)},t.prototype.updatePadding=function(){this._repeatEdgePixels?this.padding=0:this.padding=Math.max(Math.abs(this.blurXFilter.strength),Math.abs(this.blurYFilter.strength))*2},Object.defineProperty(t.prototype,"blur",{get:function(){return this.blurXFilter.blur},set:function(r){this.blurXFilter.blur=this.blurYFilter.blur=r,this.updatePadding()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"quality",{get:function(){return this.blurXFilter.quality},set:function(r){this.blurXFilter.quality=this.blurYFilter.quality=r},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"blurX",{get:function(){return this.blurXFilter.blur},set:function(r){this.blurXFilter.blur=r,this.updatePadding()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"blurY",{get:function(){return this.blurYFilter.blur},set:function(r){this.blurYFilter.blur=r,this.updatePadding()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"blendMode",{get:function(){return this.blurYFilter.blendMode},set:function(r){this.blurYFilter.blendMode=r},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"repeatEdgePixels",{get:function(){return this._repeatEdgePixels},set:function(r){this._repeatEdgePixels=r,this.updatePadding()},enumerable:!1,configurable:!0}),t})(mo);/*!
 * @pixi/filter-color-matrix - v6.3.0
 * Compiled Wed, 23 Mar 2022 18:58:56 UTC
 *
 * @pixi/filter-color-matrix is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var Sm=function(e,t){return Sm=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},Sm(e,t)};function p9(e,t){Sm(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var v9=`varying vec2 vTextureCoord;
uniform sampler2D uSampler;
uniform float m[20];
uniform float uAlpha;

void main(void)
{
    vec4 c = texture2D(uSampler, vTextureCoord);

    if (uAlpha == 0.0) {
        gl_FragColor = c;
        return;
    }

    // Un-premultiply alpha before applying the color matrix. See issue #3539.
    if (c.a > 0.0) {
      c.rgb /= c.a;
    }

    vec4 result;

    result.r = (m[0] * c.r);
        result.r += (m[1] * c.g);
        result.r += (m[2] * c.b);
        result.r += (m[3] * c.a);
        result.r += m[4];

    result.g = (m[5] * c.r);
        result.g += (m[6] * c.g);
        result.g += (m[7] * c.b);
        result.g += (m[8] * c.a);
        result.g += m[9];

    result.b = (m[10] * c.r);
       result.b += (m[11] * c.g);
       result.b += (m[12] * c.b);
       result.b += (m[13] * c.a);
       result.b += m[14];

    result.a = (m[15] * c.r);
       result.a += (m[16] * c.g);
       result.a += (m[17] * c.b);
       result.a += (m[18] * c.a);
       result.a += m[19];

    vec3 rgb = mix(c.rgb, result.rgb, uAlpha);

    // Premultiply alpha again.
    rgb *= result.a;

    gl_FragColor = vec4(rgb, result.a);
}
`,sw=function(e){p9(t,e);function t(){var r=this,n={m:new Float32Array([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0]),uAlpha:1};return r=e.call(this,j2,v9,n)||this,r.alpha=1,r}return t.prototype._loadMatrix=function(r,n){n===void 0&&(n=!1);var i=r;n&&(this._multiply(i,this.uniforms.m,r),i=this._colorMatrix(i)),this.uniforms.m=i},t.prototype._multiply=function(r,n,i){return r[0]=n[0]*i[0]+n[1]*i[5]+n[2]*i[10]+n[3]*i[15],r[1]=n[0]*i[1]+n[1]*i[6]+n[2]*i[11]+n[3]*i[16],r[2]=n[0]*i[2]+n[1]*i[7]+n[2]*i[12]+n[3]*i[17],r[3]=n[0]*i[3]+n[1]*i[8]+n[2]*i[13]+n[3]*i[18],r[4]=n[0]*i[4]+n[1]*i[9]+n[2]*i[14]+n[3]*i[19]+n[4],r[5]=n[5]*i[0]+n[6]*i[5]+n[7]*i[10]+n[8]*i[15],r[6]=n[5]*i[1]+n[6]*i[6]+n[7]*i[11]+n[8]*i[16],r[7]=n[5]*i[2]+n[6]*i[7]+n[7]*i[12]+n[8]*i[17],r[8]=n[5]*i[3]+n[6]*i[8]+n[7]*i[13]+n[8]*i[18],r[9]=n[5]*i[4]+n[6]*i[9]+n[7]*i[14]+n[8]*i[19]+n[9],r[10]=n[10]*i[0]+n[11]*i[5]+n[12]*i[10]+n[13]*i[15],r[11]=n[10]*i[1]+n[11]*i[6]+n[12]*i[11]+n[13]*i[16],r[12]=n[10]*i[2]+n[11]*i[7]+n[12]*i[12]+n[13]*i[17],r[13]=n[10]*i[3]+n[11]*i[8]+n[12]*i[13]+n[13]*i[18],r[14]=n[10]*i[4]+n[11]*i[9]+n[12]*i[14]+n[13]*i[19]+n[14],r[15]=n[15]*i[0]+n[16]*i[5]+n[17]*i[10]+n[18]*i[15],r[16]=n[15]*i[1]+n[16]*i[6]+n[17]*i[11]+n[18]*i[16],r[17]=n[15]*i[2]+n[16]*i[7]+n[17]*i[12]+n[18]*i[17],r[18]=n[15]*i[3]+n[16]*i[8]+n[17]*i[13]+n[18]*i[18],r[19]=n[15]*i[4]+n[16]*i[9]+n[17]*i[14]+n[18]*i[19]+n[19],r},t.prototype._colorMatrix=function(r){var n=new Float32Array(r);return n[4]/=255,n[9]/=255,n[14]/=255,n[19]/=255,n},t.prototype.brightness=function(r,n){var i=[r,0,0,0,0,0,r,0,0,0,0,0,r,0,0,0,0,0,1,0];this._loadMatrix(i,n)},t.prototype.tint=function(r,n){var i=r>>16&255,o=r>>8&255,a=r&255,u=[i/255,0,0,0,0,0,o/255,0,0,0,0,0,a/255,0,0,0,0,0,1,0];this._loadMatrix(u,n)},t.prototype.greyscale=function(r,n){var i=[r,r,r,0,0,r,r,r,0,0,r,r,r,0,0,0,0,0,1,0];this._loadMatrix(i,n)},t.prototype.blackAndWhite=function(r){var n=[.3,.6,.1,0,0,.3,.6,.1,0,0,.3,.6,.1,0,0,0,0,0,1,0];this._loadMatrix(n,r)},t.prototype.hue=function(r,n){r=(r||0)/180*Math.PI;var i=Math.cos(r),o=Math.sin(r),a=Math.sqrt,u=1/3,f=a(u),h=i+(1-i)*u,d=u*(1-i)-f*o,p=u*(1-i)+f*o,v=u*(1-i)+f*o,m=i+u*(1-i),y=u*(1-i)-f*o,E=u*(1-i)-f*o,g=u*(1-i)+f*o,x=i+u*(1-i),w=[h,d,p,0,0,v,m,y,0,0,E,g,x,0,0,0,0,0,1,0];this._loadMatrix(w,n)},t.prototype.contrast=function(r,n){var i=(r||0)+1,o=-.5*(i-1),a=[i,0,0,0,o,0,i,0,0,o,0,0,i,0,o,0,0,0,1,0];this._loadMatrix(a,n)},t.prototype.saturate=function(r,n){r===void 0&&(r=0);var i=r*2/3+1,o=(i-1)*-.5,a=[i,o,o,0,0,o,i,o,0,0,o,o,i,0,0,0,0,0,1,0];this._loadMatrix(a,n)},t.prototype.desaturate=function(){this.saturate(-1)},t.prototype.negative=function(r){var n=[-1,0,0,1,0,0,-1,0,1,0,0,0,-1,1,0,0,0,0,1,0];this._loadMatrix(n,r)},t.prototype.sepia=function(r){var n=[.393,.7689999,.18899999,0,0,.349,.6859999,.16799999,0,0,.272,.5339999,.13099999,0,0,0,0,0,1,0];this._loadMatrix(n,r)},t.prototype.technicolor=function(r){var n=[1.9125277891456083,-.8545344976951645,-.09155508482755585,0,11.793603434377337,-.3087833385928097,1.7658908555458428,-.10601743074722245,0,-70.35205161461398,-.231103377548616,-.7501899197440212,1.847597816108189,0,30.950940869491138,0,0,0,1,0];this._loadMatrix(n,r)},t.prototype.polaroid=function(r){var n=[1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0];this._loadMatrix(n,r)},t.prototype.toBGR=function(r){var n=[0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0];this._loadMatrix(n,r)},t.prototype.kodachrome=function(r){var n=[1.1285582396593525,-.3967382283601348,-.03992559172921793,0,63.72958762196502,-.16404339962244616,1.0835251566291304,-.05498805115633132,0,24.732407896706203,-.16786010706155763,-.5603416277695248,1.6014850761964943,0,35.62982807460946,0,0,0,1,0];this._loadMatrix(n,r)},t.prototype.browni=function(r){var n=[.5997023498159715,.34553243048391263,-.2708298674538042,0,47.43192855600873,-.037703249837783157,.8609577587992641,.15059552388459913,0,-36.96841498319127,.24113635128153335,-.07441037908422492,.44972182064877153,0,-7.562075277591283,0,0,0,1,0];this._loadMatrix(n,r)},t.prototype.vintage=function(r){var n=[.6279345635605994,.3202183420819367,-.03965408211312453,0,9.651285835294123,.02578397704808868,.6441188644374771,.03259127616149294,0,7.462829176470591,.0466055556782719,-.0851232987247891,.5241648018700465,0,5.159190588235296,0,0,0,1,0];this._loadMatrix(n,r)},t.prototype.colorTone=function(r,n,i,o,a){r=r||.2,n=n||.15,i=i||16770432,o=o||3375104;var u=(i>>16&255)/255,f=(i>>8&255)/255,h=(i&255)/255,d=(o>>16&255)/255,p=(o>>8&255)/255,v=(o&255)/255,m=[.3,.59,.11,0,0,u,f,h,r,0,d,p,v,n,0,u-d,f-p,h-v,0,0];this._loadMatrix(m,a)},t.prototype.night=function(r,n){r=r||.1;var i=[r*-2,-r,0,0,0,-r,0,r,0,0,0,r,r*2,0,0,0,0,0,1,0];this._loadMatrix(i,n)},t.prototype.predator=function(r,n){var i=[11.224130630493164*r,-4.794486999511719*r,-2.8746118545532227*r,0*r,.40342438220977783*r,-3.6330697536468506*r,9.193157196044922*r,-2.951810836791992*r,0*r,-1.316135048866272*r,-3.2184197902679443*r,-4.2375030517578125*r,7.476448059082031*r,0*r,.8044459223747253*r,0,0,0,1,0];this._loadMatrix(i,n)},t.prototype.lsd=function(r){var n=[2,-.4,.5,0,0,-.5,2,-.4,0,0,-.4,-.5,3,0,0,0,0,0,1,0];this._loadMatrix(n,r)},t.prototype.reset=function(){var r=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0];this._loadMatrix(r,!1)},Object.defineProperty(t.prototype,"matrix",{get:function(){return this.uniforms.m},set:function(r){this.uniforms.m=r},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"alpha",{get:function(){return this.uniforms.uAlpha},set:function(r){this.uniforms.uAlpha=r},enumerable:!1,configurable:!0}),t}(mo);sw.prototype.grayscale=sw.prototype.greyscale;/*!
 * @pixi/filter-displacement - v6.3.0
 * Compiled Wed, 23 Mar 2022 18:58:56 UTC
 *
 * @pixi/filter-displacement is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var Cm=function(e,t){return Cm=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},Cm(e,t)};function _9(e,t){Cm(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var m9=`varying vec2 vFilterCoord;
varying vec2 vTextureCoord;

uniform vec2 scale;
uniform mat2 rotation;
uniform sampler2D uSampler;
uniform sampler2D mapSampler;

uniform highp vec4 inputSize;
uniform vec4 inputClamp;

void main(void)
{
  vec4 map =  texture2D(mapSampler, vFilterCoord);

  map -= 0.5;
  map.xy = scale * inputSize.zw * (rotation * map.xy);

  gl_FragColor = texture2D(uSampler, clamp(vec2(vTextureCoord.x + map.x, vTextureCoord.y + map.y), inputClamp.xy, inputClamp.zw));
}
`,g9=`attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;
uniform mat3 filterMatrix;

varying vec2 vTextureCoord;
varying vec2 vFilterCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aVertexPosition * (outputFrame.zw * inputSize.zw);
}

void main(void)
{
	gl_Position = filterVertexPosition();
	vTextureCoord = filterTextureCoord();
	vFilterCoord = ( filterMatrix * vec3( vTextureCoord, 1.0)  ).xy;
}
`;(function(e){_9(t,e);function t(r,n){var i=this,o=new Wt;return r.renderable=!1,i=e.call(this,g9,m9,{mapSampler:r._texture,filterMatrix:o,scale:{x:1,y:1},rotation:new Float32Array([1,0,0,1])})||this,i.maskSprite=r,i.maskMatrix=o,n==null&&(n=20),i.scale=new wt(n,n),i}return t.prototype.apply=function(r,n,i,o){this.uniforms.filterMatrix=r.calculateSpriteMatrix(this.maskMatrix,this.maskSprite),this.uniforms.scale.x=this.scale.x,this.uniforms.scale.y=this.scale.y;var a=this.maskSprite.worldTransform,u=Math.sqrt(a.a*a.a+a.b*a.b),f=Math.sqrt(a.c*a.c+a.d*a.d);u!==0&&f!==0&&(this.uniforms.rotation[0]=a.a/u,this.uniforms.rotation[1]=a.b/u,this.uniforms.rotation[2]=a.c/f,this.uniforms.rotation[3]=a.d/f),r.applyFilter(this,n,i,o)},Object.defineProperty(t.prototype,"map",{get:function(){return this.uniforms.mapSampler},set:function(r){this.uniforms.mapSampler=r},enumerable:!1,configurable:!0}),t})(mo);/*!
 * @pixi/filter-fxaa - v6.3.0
 * Compiled Wed, 23 Mar 2022 18:58:56 UTC
 *
 * @pixi/filter-fxaa is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var Im=function(e,t){return Im=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},Im(e,t)};function y9(e,t){Im(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var x9=`
attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;

varying vec2 v_rgbNW;
varying vec2 v_rgbNE;
varying vec2 v_rgbSW;
varying vec2 v_rgbSE;
varying vec2 v_rgbM;

varying vec2 vFragCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

void texcoords(vec2 fragCoord, vec2 inverseVP,
               out vec2 v_rgbNW, out vec2 v_rgbNE,
               out vec2 v_rgbSW, out vec2 v_rgbSE,
               out vec2 v_rgbM) {
    v_rgbNW = (fragCoord + vec2(-1.0, -1.0)) * inverseVP;
    v_rgbNE = (fragCoord + vec2(1.0, -1.0)) * inverseVP;
    v_rgbSW = (fragCoord + vec2(-1.0, 1.0)) * inverseVP;
    v_rgbSE = (fragCoord + vec2(1.0, 1.0)) * inverseVP;
    v_rgbM = vec2(fragCoord * inverseVP);
}

void main(void) {

   gl_Position = filterVertexPosition();

   vFragCoord = aVertexPosition * outputFrame.zw;

   texcoords(vFragCoord, inputSize.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);
}
`,T9=`varying vec2 v_rgbNW;
varying vec2 v_rgbNE;
varying vec2 v_rgbSW;
varying vec2 v_rgbSE;
varying vec2 v_rgbM;

varying vec2 vFragCoord;
uniform sampler2D uSampler;
uniform highp vec4 inputSize;


/**
 Basic FXAA implementation based on the code on geeks3d.com with the
 modification that the texture2DLod stuff was removed since it's
 unsupported by WebGL.

 --

 From:
 https://github.com/mitsuhiko/webgl-meincraft

 Copyright (c) 2011 by Armin Ronacher.

 Some rights reserved.

 Redistribution and use in source and binary forms, with or without
 modification, are permitted provided that the following conditions are
 met:

 * Redistributions of source code must retain the above copyright
 notice, this list of conditions and the following disclaimer.

 * Redistributions in binary form must reproduce the above
 copyright notice, this list of conditions and the following
 disclaimer in the documentation and/or other materials provided
 with the distribution.

 * The names of the contributors may not be used to endorse or
 promote products derived from this software without specific
 prior written permission.

 THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS
 "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT
 LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR
 A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT
 OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,
 SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT
 LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
 DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY
 THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
 (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE
 OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 */

#ifndef FXAA_REDUCE_MIN
#define FXAA_REDUCE_MIN   (1.0/ 128.0)
#endif
#ifndef FXAA_REDUCE_MUL
#define FXAA_REDUCE_MUL   (1.0 / 8.0)
#endif
#ifndef FXAA_SPAN_MAX
#define FXAA_SPAN_MAX     8.0
#endif

//optimized version for mobile, where dependent
//texture reads can be a bottleneck
vec4 fxaa(sampler2D tex, vec2 fragCoord, vec2 inverseVP,
          vec2 v_rgbNW, vec2 v_rgbNE,
          vec2 v_rgbSW, vec2 v_rgbSE,
          vec2 v_rgbM) {
    vec4 color;
    vec3 rgbNW = texture2D(tex, v_rgbNW).xyz;
    vec3 rgbNE = texture2D(tex, v_rgbNE).xyz;
    vec3 rgbSW = texture2D(tex, v_rgbSW).xyz;
    vec3 rgbSE = texture2D(tex, v_rgbSE).xyz;
    vec4 texColor = texture2D(tex, v_rgbM);
    vec3 rgbM  = texColor.xyz;
    vec3 luma = vec3(0.299, 0.587, 0.114);
    float lumaNW = dot(rgbNW, luma);
    float lumaNE = dot(rgbNE, luma);
    float lumaSW = dot(rgbSW, luma);
    float lumaSE = dot(rgbSE, luma);
    float lumaM  = dot(rgbM,  luma);
    float lumaMin = min(lumaM, min(min(lumaNW, lumaNE), min(lumaSW, lumaSE)));
    float lumaMax = max(lumaM, max(max(lumaNW, lumaNE), max(lumaSW, lumaSE)));

    mediump vec2 dir;
    dir.x = -((lumaNW + lumaNE) - (lumaSW + lumaSE));
    dir.y =  ((lumaNW + lumaSW) - (lumaNE + lumaSE));

    float dirReduce = max((lumaNW + lumaNE + lumaSW + lumaSE) *
                          (0.25 * FXAA_REDUCE_MUL), FXAA_REDUCE_MIN);

    float rcpDirMin = 1.0 / (min(abs(dir.x), abs(dir.y)) + dirReduce);
    dir = min(vec2(FXAA_SPAN_MAX, FXAA_SPAN_MAX),
              max(vec2(-FXAA_SPAN_MAX, -FXAA_SPAN_MAX),
                  dir * rcpDirMin)) * inverseVP;

    vec3 rgbA = 0.5 * (
                       texture2D(tex, fragCoord * inverseVP + dir * (1.0 / 3.0 - 0.5)).xyz +
                       texture2D(tex, fragCoord * inverseVP + dir * (2.0 / 3.0 - 0.5)).xyz);
    vec3 rgbB = rgbA * 0.5 + 0.25 * (
                                     texture2D(tex, fragCoord * inverseVP + dir * -0.5).xyz +
                                     texture2D(tex, fragCoord * inverseVP + dir * 0.5).xyz);

    float lumaB = dot(rgbB, luma);
    if ((lumaB < lumaMin) || (lumaB > lumaMax))
        color = vec4(rgbA, texColor.a);
    else
        color = vec4(rgbB, texColor.a);
    return color;
}

void main() {

      vec4 color;

      color = fxaa(uSampler, vFragCoord, inputSize.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);

      gl_FragColor = color;
}
`;(function(e){y9(t,e);function t(){return e.call(this,x9,T9)||this}return t})(mo);/*!
 * @pixi/filter-noise - v6.3.0
 * Compiled Wed, 23 Mar 2022 18:58:56 UTC
 *
 * @pixi/filter-noise is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var Rm=function(e,t){return Rm=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},Rm(e,t)};function E9(e,t){Rm(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var w9=`precision highp float;

varying vec2 vTextureCoord;
varying vec4 vColor;

uniform float uNoise;
uniform float uSeed;
uniform sampler2D uSampler;

float rand(vec2 co)
{
    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);
}

void main()
{
    vec4 color = texture2D(uSampler, vTextureCoord);
    float randomValue = rand(gl_FragCoord.xy * uSeed);
    float diff = (randomValue - 0.5) * uNoise;

    // Un-premultiply alpha before applying the color matrix. See issue #3539.
    if (color.a > 0.0) {
        color.rgb /= color.a;
    }

    color.r += diff;
    color.g += diff;
    color.b += diff;

    // Premultiply alpha again.
    color.rgb *= color.a;

    gl_FragColor = color;
}
`;(function(e){E9(t,e);function t(r,n){r===void 0&&(r=.5),n===void 0&&(n=Math.random());var i=e.call(this,j2,w9,{uNoise:0,uSeed:0})||this;return i.noise=r,i.seed=n,i}return Object.defineProperty(t.prototype,"noise",{get:function(){return this.uniforms.uNoise},set:function(r){this.uniforms.uNoise=r},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"seed",{get:function(){return this.uniforms.uSeed},set:function(r){this.uniforms.uSeed=r},enumerable:!1,configurable:!0}),t})(mo);/*!
 * @pixi/mixin-cache-as-bitmap - v6.3.0
 * Compiled Wed, 23 Mar 2022 18:58:56 UTC
 *
 * @pixi/mixin-cache-as-bitmap is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*!
 * @pixi/constants - v6.3.0
 * Compiled Wed, 23 Mar 2022 18:58:56 UTC
 *
 * @pixi/constants is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var uw;(function(e){e[e.WEBGL_LEGACY=0]="WEBGL_LEGACY",e[e.WEBGL=1]="WEBGL",e[e.WEBGL2=2]="WEBGL2"})(uw||(uw={}));var lw;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.WEBGL=1]="WEBGL",e[e.CANVAS=2]="CANVAS"})(lw||(lw={}));var fw;(function(e){e[e.COLOR=16384]="COLOR",e[e.DEPTH=256]="DEPTH",e[e.STENCIL=1024]="STENCIL"})(fw||(fw={}));var hw;(function(e){e[e.NORMAL=0]="NORMAL",e[e.ADD=1]="ADD",e[e.MULTIPLY=2]="MULTIPLY",e[e.SCREEN=3]="SCREEN",e[e.OVERLAY=4]="OVERLAY",e[e.DARKEN=5]="DARKEN",e[e.LIGHTEN=6]="LIGHTEN",e[e.COLOR_DODGE=7]="COLOR_DODGE",e[e.COLOR_BURN=8]="COLOR_BURN",e[e.HARD_LIGHT=9]="HARD_LIGHT",e[e.SOFT_LIGHT=10]="SOFT_LIGHT",e[e.DIFFERENCE=11]="DIFFERENCE",e[e.EXCLUSION=12]="EXCLUSION",e[e.HUE=13]="HUE",e[e.SATURATION=14]="SATURATION",e[e.COLOR=15]="COLOR",e[e.LUMINOSITY=16]="LUMINOSITY",e[e.NORMAL_NPM=17]="NORMAL_NPM",e[e.ADD_NPM=18]="ADD_NPM",e[e.SCREEN_NPM=19]="SCREEN_NPM",e[e.NONE=20]="NONE",e[e.SRC_OVER=0]="SRC_OVER",e[e.SRC_IN=21]="SRC_IN",e[e.SRC_OUT=22]="SRC_OUT",e[e.SRC_ATOP=23]="SRC_ATOP",e[e.DST_OVER=24]="DST_OVER",e[e.DST_IN=25]="DST_IN",e[e.DST_OUT=26]="DST_OUT",e[e.DST_ATOP=27]="DST_ATOP",e[e.ERASE=26]="ERASE",e[e.SUBTRACT=28]="SUBTRACT",e[e.XOR=29]="XOR"})(hw||(hw={}));var cw;(function(e){e[e.POINTS=0]="POINTS",e[e.LINES=1]="LINES",e[e.LINE_LOOP=2]="LINE_LOOP",e[e.LINE_STRIP=3]="LINE_STRIP",e[e.TRIANGLES=4]="TRIANGLES",e[e.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",e[e.TRIANGLE_FAN=6]="TRIANGLE_FAN"})(cw||(cw={}));var dw;(function(e){e[e.RGBA=6408]="RGBA",e[e.RGB=6407]="RGB",e[e.RG=33319]="RG",e[e.RED=6403]="RED",e[e.RGBA_INTEGER=36249]="RGBA_INTEGER",e[e.RGB_INTEGER=36248]="RGB_INTEGER",e[e.RG_INTEGER=33320]="RG_INTEGER",e[e.RED_INTEGER=36244]="RED_INTEGER",e[e.ALPHA=6406]="ALPHA",e[e.LUMINANCE=6409]="LUMINANCE",e[e.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",e[e.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",e[e.DEPTH_STENCIL=34041]="DEPTH_STENCIL"})(dw||(dw={}));var pw;(function(e){e[e.TEXTURE_2D=3553]="TEXTURE_2D",e[e.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",e[e.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",e[e.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",e[e.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",e[e.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",e[e.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",e[e.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",e[e.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z"})(pw||(pw={}));var vw;(function(e){e[e.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",e[e.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",e[e.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",e[e.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",e[e.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",e[e.UNSIGNED_INT=5125]="UNSIGNED_INT",e[e.UNSIGNED_INT_10F_11F_11F_REV=35899]="UNSIGNED_INT_10F_11F_11F_REV",e[e.UNSIGNED_INT_2_10_10_10_REV=33640]="UNSIGNED_INT_2_10_10_10_REV",e[e.UNSIGNED_INT_24_8=34042]="UNSIGNED_INT_24_8",e[e.UNSIGNED_INT_5_9_9_9_REV=35902]="UNSIGNED_INT_5_9_9_9_REV",e[e.BYTE=5120]="BYTE",e[e.SHORT=5122]="SHORT",e[e.INT=5124]="INT",e[e.FLOAT=5126]="FLOAT",e[e.FLOAT_32_UNSIGNED_INT_24_8_REV=36269]="FLOAT_32_UNSIGNED_INT_24_8_REV",e[e.HALF_FLOAT=36193]="HALF_FLOAT"})(vw||(vw={}));var _w;(function(e){e[e.FLOAT=0]="FLOAT",e[e.INT=1]="INT",e[e.UINT=2]="UINT"})(_w||(_w={}));var mw;(function(e){e[e.NEAREST=0]="NEAREST",e[e.LINEAR=1]="LINEAR"})(mw||(mw={}));var gw;(function(e){e[e.CLAMP=33071]="CLAMP",e[e.REPEAT=10497]="REPEAT",e[e.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT"})(gw||(gw={}));var yw;(function(e){e[e.OFF=0]="OFF",e[e.POW2=1]="POW2",e[e.ON=2]="ON",e[e.ON_MANUAL=3]="ON_MANUAL"})(yw||(yw={}));var xw;(function(e){e[e.NPM=0]="NPM",e[e.UNPACK=1]="UNPACK",e[e.PMA=2]="PMA",e[e.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",e[e.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",e[e.PREMULTIPLY_ALPHA=2]="PREMULTIPLY_ALPHA",e[e.PREMULTIPLIED_ALPHA=2]="PREMULTIPLIED_ALPHA"})(xw||(xw={}));var Tw;(function(e){e[e.NO=0]="NO",e[e.YES=1]="YES",e[e.AUTO=2]="AUTO",e[e.BLEND=0]="BLEND",e[e.CLEAR=1]="CLEAR",e[e.BLIT=2]="BLIT"})(Tw||(Tw={}));var Ew;(function(e){e[e.AUTO=0]="AUTO",e[e.MANUAL=1]="MANUAL"})(Ew||(Ew={}));var ww;(function(e){e.LOW="lowp",e.MEDIUM="mediump",e.HIGH="highp"})(ww||(ww={}));var bw;(function(e){e[e.NONE=0]="NONE",e[e.SCISSOR=1]="SCISSOR",e[e.STENCIL=2]="STENCIL",e[e.SPRITE=3]="SPRITE"})(bw||(bw={}));var Nm;(function(e){e[e.NONE=0]="NONE",e[e.LOW=2]="LOW",e[e.MEDIUM=4]="MEDIUM",e[e.HIGH=8]="HIGH"})(Nm||(Nm={}));var Sw;(function(e){e[e.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",e[e.ARRAY_BUFFER=34962]="ARRAY_BUFFER",e[e.UNIFORM_BUFFER=35345]="UNIFORM_BUFFER"})(Sw||(Sw={}));var aC=new Wt;jt.prototype._cacheAsBitmap=!1;jt.prototype._cacheData=null;jt.prototype._cacheAsBitmapResolution=null;jt.prototype._cacheAsBitmapMultisample=Nm.NONE;var b9=function(){function e(){this.textureCacheId=null,this.originalRender=null,this.originalRenderCanvas=null,this.originalCalculateBounds=null,this.originalGetLocalBounds=null,this.originalUpdateTransform=null,this.originalDestroy=null,this.originalMask=null,this.originalFilterArea=null,this.originalContainsPoint=null,this.sprite=null}return e}();Object.defineProperties(jt.prototype,{cacheAsBitmapResolution:{get:function(){return this._cacheAsBitmapResolution},set:function(e){e!==this._cacheAsBitmapResolution&&(this._cacheAsBitmapResolution=e,this.cacheAsBitmap&&(this.cacheAsBitmap=!1,this.cacheAsBitmap=!0))}},cacheAsBitmapMultisample:{get:function(){return this._cacheAsBitmapMultisample},set:function(e){e!==this._cacheAsBitmapMultisample&&(this._cacheAsBitmapMultisample=e,this.cacheAsBitmap&&(this.cacheAsBitmap=!1,this.cacheAsBitmap=!0))}},cacheAsBitmap:{get:function(){return this._cacheAsBitmap},set:function(e){if(this._cacheAsBitmap!==e){this._cacheAsBitmap=e;var t;e?(this._cacheData||(this._cacheData=new b9),t=this._cacheData,t.originalRender=this.render,t.originalRenderCanvas=this.renderCanvas,t.originalUpdateTransform=this.updateTransform,t.originalCalculateBounds=this.calculateBounds,t.originalGetLocalBounds=this.getLocalBounds,t.originalDestroy=this.destroy,t.originalContainsPoint=this.containsPoint,t.originalMask=this._mask,t.originalFilterArea=this.filterArea,this.render=this._renderCached,this.renderCanvas=this._renderCachedCanvas,this.destroy=this._cacheAsBitmapDestroy):(t=this._cacheData,t.sprite&&this._destroyCachedDisplayObject(),this.render=t.originalRender,this.renderCanvas=t.originalRenderCanvas,this.calculateBounds=t.originalCalculateBounds,this.getLocalBounds=t.originalGetLocalBounds,this.destroy=t.originalDestroy,this.updateTransform=t.originalUpdateTransform,this.containsPoint=t.originalContainsPoint,this._mask=t.originalMask,this.filterArea=t.originalFilterArea)}}}});jt.prototype._renderCached=function(t){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObject(t),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._render(t))};jt.prototype._initCachedDisplayObject=function(t){var r;if(!(this._cacheData&&this._cacheData.sprite)){var n=this.alpha;this.alpha=1,t.batch.flush();var i=this.getLocalBounds(null,!0).clone();if(this.filters&&this.filters.length){var o=this.filters[0].padding;i.pad(o)}i.ceil(Te.RESOLUTION);var a=t.renderTexture.current,u=t.renderTexture.sourceFrame.clone(),f=t.renderTexture.destinationFrame.clone(),h=t.projection.transform,d=ta.create({width:i.width,height:i.height,resolution:this.cacheAsBitmapResolution||t.resolution,multisample:(r=this.cacheAsBitmapMultisample)!==null&&r!==void 0?r:t.multisample}),p="cacheAsBitmap_"+Qo();this._cacheData.textureCacheId=p,Qe.addToCache(d.baseTexture,p),Se.addToCache(d,p);var v=this.transform.localTransform.copyTo(aC).invert().translate(-i.x,-i.y);this.render=this._cacheData.originalRender,t.render(this,{renderTexture:d,clear:!0,transform:v,skipUpdateTransform:!1}),t.framebuffer.blit(),t.projection.transform=h,t.renderTexture.bind(a,u,f),this.render=this._renderCached,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null,this.alpha=n;var m=new la(d);m.transform.worldTransform=this.transform.worldTransform,m.anchor.x=-(i.x/i.width),m.anchor.y=-(i.y/i.height),m.alpha=n,m._bounds=this._bounds,this._cacheData.sprite=m,this.transform._parentID=-1,this.parent?this.updateTransform():(this.enableTempParent(),this.updateTransform(),this.disableTempParent(null)),this.containsPoint=m.containsPoint.bind(m)}};jt.prototype._renderCachedCanvas=function(t){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObjectCanvas(t),this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._renderCanvas(t))};jt.prototype._initCachedDisplayObjectCanvas=function(t){if(!(this._cacheData&&this._cacheData.sprite)){var r=this.getLocalBounds(null,!0),n=this.alpha;this.alpha=1;var i=t.context,o=t._projTransform;r.ceil(Te.RESOLUTION);var a=ta.create({width:r.width,height:r.height}),u="cacheAsBitmap_"+Qo();this._cacheData.textureCacheId=u,Qe.addToCache(a.baseTexture,u),Se.addToCache(a,u);var f=aC;this.transform.localTransform.copyTo(f),f.invert(),f.tx-=r.x,f.ty-=r.y,this.renderCanvas=this._cacheData.originalRenderCanvas,t.render(this,{renderTexture:a,clear:!0,transform:f,skipUpdateTransform:!1}),t.context=i,t._projTransform=o,this.renderCanvas=this._renderCachedCanvas,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null,this.alpha=n;var h=new la(a);h.transform.worldTransform=this.transform.worldTransform,h.anchor.x=-(r.x/r.width),h.anchor.y=-(r.y/r.height),h.alpha=n,h._bounds=this._bounds,this._cacheData.sprite=h,this.transform._parentID=-1,this.parent?this.updateTransform():(this.parent=t._tempDisplayObjectParent,this.updateTransform(),this.parent=null),this.containsPoint=h.containsPoint.bind(h)}};jt.prototype._calculateCachedBounds=function(){this._bounds.clear(),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite._calculateBounds(),this._bounds.updateID=this._boundsID};jt.prototype._getCachedLocalBounds=function(){return this._cacheData.sprite.getLocalBounds(null)};jt.prototype._destroyCachedDisplayObject=function(){this._cacheData.sprite._texture.destroy(!0),this._cacheData.sprite=null,Qe.removeFromCache(this._cacheData.textureCacheId),Se.removeFromCache(this._cacheData.textureCacheId),this._cacheData.textureCacheId=null};jt.prototype._cacheAsBitmapDestroy=function(t){this.cacheAsBitmap=!1,this.destroy(t)};/*!
 * @pixi/mixin-get-child-by-name - v6.3.0
 * Compiled Wed, 23 Mar 2022 18:58:56 UTC
 *
 * @pixi/mixin-get-child-by-name is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */jt.prototype.name=null;_n.prototype.getChildByName=function(t,r){for(var n=0,i=this.children.length;n<i;n++)if(this.children[n].name===t)return this.children[n];if(r)for(var n=0,i=this.children.length;n<i;n++){var o=this.children[n];if(!!o.getChildByName){var a=this.children[n].getChildByName(t,!0);if(a)return a}}return null};/*!
 * @pixi/mixin-get-global-position - v6.3.0
 * Compiled Wed, 23 Mar 2022 18:58:56 UTC
 *
 * @pixi/mixin-get-global-position is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */jt.prototype.getGlobalPosition=function(t,r){return t===void 0&&(t=new wt),r===void 0&&(r=!1),this.parent?this.parent.toGlobal(this.position,t,r):(t.x=this.position.x,t.y=this.position.y),t};/*!
 * @pixi/mesh-extras - v6.3.0
 * Compiled Wed, 23 Mar 2022 18:58:56 UTC
 *
 * @pixi/mesh-extras is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var Pm=function(e,t){return Pm=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},Pm(e,t)};function Fs(e,t){Pm(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var S9=function(e){Fs(t,e);function t(r,n,i,o){r===void 0&&(r=100),n===void 0&&(n=100),i===void 0&&(i=10),o===void 0&&(o=10);var a=e.call(this)||this;return a.segWidth=i,a.segHeight=o,a.width=r,a.height=n,a.build(),a}return t.prototype.build=function(){for(var r=this.segWidth*this.segHeight,n=[],i=[],o=[],a=this.segWidth-1,u=this.segHeight-1,f=this.width/a,h=this.height/u,d=0;d<r;d++){var p=d%this.segWidth,v=d/this.segWidth|0;n.push(p*f,v*h),i.push(p/a,v/u)}for(var m=a*u,d=0;d<m;d++){var y=d%a,E=d/a|0,g=E*this.segWidth+y,x=E*this.segWidth+y+1,w=(E+1)*this.segWidth+y,N=(E+1)*this.segWidth+y+1;o.push(g,x,w,x,N,w)}this.buffers[0].data=new Float32Array(n),this.buffers[1].data=new Float32Array(i),this.indexBuffer.data=new Uint16Array(o),this.buffers[0].update(),this.buffers[1].update(),this.indexBuffer.update()},t}(rd),C9=function(e){Fs(t,e);function t(r,n,i){r===void 0&&(r=200),i===void 0&&(i=0);var o=e.call(this,new Float32Array(n.length*4),new Float32Array(n.length*4),new Uint16Array((n.length-1)*6))||this;return o.points=n,o._width=r,o.textureScale=i,o.build(),o}return Object.defineProperty(t.prototype,"width",{get:function(){return this._width},enumerable:!1,configurable:!0}),t.prototype.build=function(){var r=this.points;if(!!r){var n=this.getBuffer("aVertexPosition"),i=this.getBuffer("aTextureCoord"),o=this.getIndex();if(!(r.length<1)){n.data.length/4!==r.length&&(n.data=new Float32Array(r.length*4),i.data=new Float32Array(r.length*4),o.data=new Uint16Array((r.length-1)*6));var a=i.data,u=o.data;a[0]=0,a[1]=0,a[2]=0,a[3]=1;for(var f=0,h=r[0],d=this._width*this.textureScale,p=r.length,v=0;v<p;v++){var m=v*4;if(this.textureScale>0){var y=h.x-r[v].x,E=h.y-r[v].y,g=Math.sqrt(y*y+E*E);h=r[v],f+=g/d}else f=v/(p-1);a[m]=f,a[m+1]=0,a[m+2]=f,a[m+3]=1}for(var x=0,v=0;v<p-1;v++){var m=v*2;u[x++]=m,u[x++]=m+1,u[x++]=m+2,u[x++]=m+2,u[x++]=m+1,u[x++]=m+3}i.update(),o.update(),this.updateVertices()}}},t.prototype.updateVertices=function(){var r=this.points;if(!(r.length<1)){for(var n=r[0],i,o=0,a=0,u=this.buffers[0].data,f=r.length,h=0;h<f;h++){var d=r[h],p=h*4;h<r.length-1?i=r[h+1]:i=d,a=-(i.x-n.x),o=i.y-n.y;var v=Math.sqrt(o*o+a*a),m=this.textureScale>0?this.textureScale*this._width/2:this._width/2;o/=v,a/=v,o*=m,a*=m,u[p]=d.x+o,u[p+1]=d.y+a,u[p+2]=d.x-o,u[p+3]=d.y-a,n=d}this.buffers[0].update()}},t.prototype.update=function(){this.textureScale>0?this.build():this.updateVertices()},t}(rd);(function(e){Fs(t,e);function t(r,n,i){i===void 0&&(i=0);var o=this,a=new C9(r.height,n,i),u=new _l(r);return i>0&&(r.baseTexture.wrapMode=xi.REPEAT),o=e.call(this,a,u)||this,o.autoUpdate=!0,o}return t.prototype._render=function(r){var n=this.geometry;(this.autoUpdate||n._width!==this.shader.texture.height)&&(n._width=this.shader.texture.height,n.update()),e.prototype._render.call(this,r)},t})(vl);var I9=function(e){Fs(t,e);function t(r,n,i){var o=this,a=new S9(r.width,r.height,n,i),u=new _l(Se.WHITE);return o=e.call(this,a,u)||this,o.texture=r,o.autoResize=!0,o}return t.prototype.textureUpdated=function(){this._textureID=this.shader.texture._updateID;var r=this.geometry,n=this.shader.texture,i=n.width,o=n.height;this.autoResize&&(r.width!==i||r.height!==o)&&(r.width=this.shader.texture.width,r.height=this.shader.texture.height,r.build())},Object.defineProperty(t.prototype,"texture",{get:function(){return this.shader.texture},set:function(r){this.shader.texture!==r&&(this.shader.texture=r,this._textureID=-1,r.baseTexture.valid?this.textureUpdated():r.once("update",this.textureUpdated,this))},enumerable:!1,configurable:!0}),t.prototype._render=function(r){this._textureID!==this.shader.texture._updateID&&this.textureUpdated(),e.prototype._render.call(this,r)},t.prototype.destroy=function(r){this.shader.texture.off("update",this.textureUpdated,this),e.prototype.destroy.call(this,r)},t}(vl);(function(e){Fs(t,e);function t(r,n,i,o,a){r===void 0&&(r=Se.EMPTY);var u=this,f=new rd(n,i,o);f.getBuffer("aVertexPosition").static=!1;var h=new _l(r);return u=e.call(this,f,h,null,a)||this,u.autoUpdate=!0,u}return Object.defineProperty(t.prototype,"vertices",{get:function(){return this.geometry.getBuffer("aVertexPosition").data},set:function(r){this.geometry.getBuffer("aVertexPosition").data=r},enumerable:!1,configurable:!0}),t.prototype._render=function(r){this.autoUpdate&&this.geometry.getBuffer("aVertexPosition").update(),e.prototype._render.call(this,r)},t})(vl);var xh=10;(function(e){Fs(t,e);function t(r,n,i,o,a){n===void 0&&(n=xh),i===void 0&&(i=xh),o===void 0&&(o=xh),a===void 0&&(a=xh);var u=e.call(this,Se.WHITE,4,4)||this;return u._origWidth=r.orig.width,u._origHeight=r.orig.height,u._width=u._origWidth,u._height=u._origHeight,u._leftWidth=n,u._rightWidth=o,u._topHeight=i,u._bottomHeight=a,u.texture=r,u}return t.prototype.textureUpdated=function(){this._textureID=this.shader.texture._updateID,this._refresh()},Object.defineProperty(t.prototype,"vertices",{get:function(){return this.geometry.getBuffer("aVertexPosition").data},set:function(r){this.geometry.getBuffer("aVertexPosition").data=r},enumerable:!1,configurable:!0}),t.prototype.updateHorizontalVertices=function(){var r=this.vertices,n=this._getMinScale();r[9]=r[11]=r[13]=r[15]=this._topHeight*n,r[17]=r[19]=r[21]=r[23]=this._height-this._bottomHeight*n,r[25]=r[27]=r[29]=r[31]=this._height},t.prototype.updateVerticalVertices=function(){var r=this.vertices,n=this._getMinScale();r[2]=r[10]=r[18]=r[26]=this._leftWidth*n,r[4]=r[12]=r[20]=r[28]=this._width-this._rightWidth*n,r[6]=r[14]=r[22]=r[30]=this._width},t.prototype._getMinScale=function(){var r=this._leftWidth+this._rightWidth,n=this._width>r?1:this._width/r,i=this._topHeight+this._bottomHeight,o=this._height>i?1:this._height/i,a=Math.min(n,o);return a},Object.defineProperty(t.prototype,"width",{get:function(){return this._width},set:function(r){this._width=r,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this._height},set:function(r){this._height=r,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"leftWidth",{get:function(){return this._leftWidth},set:function(r){this._leftWidth=r,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"rightWidth",{get:function(){return this._rightWidth},set:function(r){this._rightWidth=r,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"topHeight",{get:function(){return this._topHeight},set:function(r){this._topHeight=r,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bottomHeight",{get:function(){return this._bottomHeight},set:function(r){this._bottomHeight=r,this._refresh()},enumerable:!1,configurable:!0}),t.prototype._refresh=function(){var r=this.texture,n=this.geometry.buffers[1].data;this._origWidth=r.orig.width,this._origHeight=r.orig.height;var i=1/this._origWidth,o=1/this._origHeight;n[0]=n[8]=n[16]=n[24]=0,n[1]=n[3]=n[5]=n[7]=0,n[6]=n[14]=n[22]=n[30]=1,n[25]=n[27]=n[29]=n[31]=1,n[2]=n[10]=n[18]=n[26]=i*this._leftWidth,n[4]=n[12]=n[20]=n[28]=1-i*this._rightWidth,n[9]=n[11]=n[13]=n[15]=o*this._topHeight,n[17]=n[19]=n[21]=n[23]=1-o*this._bottomHeight,this.updateHorizontalVertices(),this.updateVerticalVertices(),this.geometry.buffers[0].update(),this.geometry.buffers[1].update()},t})(I9);/*!
 * @pixi/sprite-animated - v6.3.0
 * Compiled Wed, 23 Mar 2022 18:58:56 UTC
 *
 * @pixi/sprite-animated is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var Am=function(e,t){return Am=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},Am(e,t)};function R9(e,t){Am(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}(function(e){R9(t,e);function t(r,n){n===void 0&&(n=!0);var i=e.call(this,r[0]instanceof Se?r[0]:r[0].texture)||this;return i._textures=null,i._durations=null,i._autoUpdate=n,i._isConnectedToTicker=!1,i.animationSpeed=1,i.loop=!0,i.updateAnchor=!1,i.onComplete=null,i.onFrameChange=null,i.onLoop=null,i._currentTime=0,i._playing=!1,i._previousFrame=null,i.textures=r,i}return t.prototype.stop=function(){!this._playing||(this._playing=!1,this._autoUpdate&&this._isConnectedToTicker&&(lr.shared.remove(this.update,this),this._isConnectedToTicker=!1))},t.prototype.play=function(){this._playing||(this._playing=!0,this._autoUpdate&&!this._isConnectedToTicker&&(lr.shared.add(this.update,this,bi.HIGH),this._isConnectedToTicker=!0))},t.prototype.gotoAndStop=function(r){this.stop();var n=this.currentFrame;this._currentTime=r,n!==this.currentFrame&&this.updateTexture()},t.prototype.gotoAndPlay=function(r){var n=this.currentFrame;this._currentTime=r,n!==this.currentFrame&&this.updateTexture(),this.play()},t.prototype.update=function(r){if(!!this._playing){var n=this.animationSpeed*r,i=this.currentFrame;if(this._durations!==null){var o=this._currentTime%1*this._durations[this.currentFrame];for(o+=n/60*1e3;o<0;)this._currentTime--,o+=this._durations[this.currentFrame];var a=Math.sign(this.animationSpeed*r);for(this._currentTime=Math.floor(this._currentTime);o>=this._durations[this.currentFrame];)o-=this._durations[this.currentFrame]*a,this._currentTime+=a;this._currentTime+=o/this._durations[this.currentFrame]}else this._currentTime+=n;this._currentTime<0&&!this.loop?(this.gotoAndStop(0),this.onComplete&&this.onComplete()):this._currentTime>=this._textures.length&&!this.loop?(this.gotoAndStop(this._textures.length-1),this.onComplete&&this.onComplete()):i!==this.currentFrame&&(this.loop&&this.onLoop&&(this.animationSpeed>0&&this.currentFrame<i?this.onLoop():this.animationSpeed<0&&this.currentFrame>i&&this.onLoop()),this.updateTexture())}},t.prototype.updateTexture=function(){var r=this.currentFrame;this._previousFrame!==r&&(this._previousFrame=r,this._texture=this._textures[r],this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this.uvs=this._texture._uvs.uvsFloat32,this.updateAnchor&&this._anchor.copyFrom(this._texture.defaultAnchor),this.onFrameChange&&this.onFrameChange(this.currentFrame))},t.prototype.destroy=function(r){this.stop(),e.prototype.destroy.call(this,r),this.onComplete=null,this.onFrameChange=null,this.onLoop=null},t.fromFrames=function(r){for(var n=[],i=0;i<r.length;++i)n.push(Se.from(r[i]));return new t(n)},t.fromImages=function(r){for(var n=[],i=0;i<r.length;++i)n.push(Se.from(r[i]));return new t(n)},Object.defineProperty(t.prototype,"totalFrames",{get:function(){return this._textures.length},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"textures",{get:function(){return this._textures},set:function(r){if(r[0]instanceof Se)this._textures=r,this._durations=null;else{this._textures=[],this._durations=[];for(var n=0;n<r.length;n++)this._textures.push(r[n].texture),this._durations.push(r[n].time)}this._previousFrame=null,this.gotoAndStop(0),this.updateTexture()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"currentFrame",{get:function(){var r=Math.floor(this._currentTime)%this._textures.length;return r<0&&(r+=this._textures.length),r},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"playing",{get:function(){return this._playing},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"autoUpdate",{get:function(){return this._autoUpdate},set:function(r){r!==this._autoUpdate&&(this._autoUpdate=r,!this._autoUpdate&&this._isConnectedToTicker?(lr.shared.remove(this.update,this),this._isConnectedToTicker=!1):this._autoUpdate&&!this._isConnectedToTicker&&this._playing&&(lr.shared.add(this.update,this),this._isConnectedToTicker=!0))},enumerable:!1,configurable:!0}),t})(la);/*!
 * pixi.js - v6.3.0
 * Compiled Wed, 23 Mar 2022 18:58:56 UTC
 *
 * pixi.js is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */go.registerPlugin("accessibility",Q6);go.registerPlugin("extract",TG);go.registerPlugin("interaction",o5);go.registerPlugin("particle",l8);go.registerPlugin("prepare",D8);go.registerPlugin("batch",vG);go.registerPlugin("tilingSprite",j8);qn.registerPlugin(a9);qn.registerPlugin(MG);qn.registerPlugin(t8);qn.registerPlugin(a8);qn.registerPlugin(H8);td.registerPlugin(e5);td.registerPlugin(PG);const N9=(e,t)=>{const n=se.currentPixi,i=new _n;n.stage.addChild(i);const o=Se.from("./game/tex/raindrop.png");i.x=n.screen.width/2,i.y=n.screen.height/2,i.pivot.x=i.width/2,i.pivot.y=i.height/2,i.scale.x=1,i.scale.y=1;const a=[];return n.ticker.add(u=>{for(let d=0;d<t;d++){const p=new la(o);let v=Math.random();v<=.5&&(v=.5),p.scale.x=.3*v,p.scale.y=.3*v,p.anchor.set(.5),p.x=Math.random()*1600-.5*1600,p.y=0-.5*900,p.dropSpeed=Math.random()*2,p.acc=Math.random(),p.alpha=Math.random(),p.alpha>=.5&&(p.alpha=.5),p.alpha<=.2&&(p.alpha=.2),i.addChild(p),a.push(p)}for(const d of a)d.dropSpeed=d.acc*.01+d.dropSpeed,d.y+=u*e*d.dropSpeed*1.1+3;a.length>=2500&&(a.unshift(),i.removeChild(i.children[0]))}),i},P9=e=>{const r=se.currentPixi,n=new _n;r.stage.addChild(n);const i=Se.from("./game/tex/snowFlake_min.png");n.x=r.screen.width/2,n.y=r.screen.height/2,n.pivot.x=n.width/2,n.pivot.y=n.height/2,n.scale.x=1,n.scale.y=1;const o=[];return r.ticker.add(a=>{const h=new la(i);let d=Math.random();d<=.5&&(d=.5),h.scale.x=.09*d,h.scale.y=.09*d,h.anchor.set(.5),h.x=Math.random()*1600-.5*1600,h.y=0-.5*900,h.dropSpeed=Math.random()*2,h.acc=Math.random(),n.addChild(h),o.push(h);let p=0;for(const v of o){p++;const m=Math.random();v.dropSpeed=v.acc*.01+v.dropSpeed,v.y+=a*e*v.dropSpeed*.3+.7,p%2===0?(v.x+=a*m*.5,v.rotation+=a*m*.03):(v.x-=a*m*.5,v.rotation-=a*m*.03)}o.length>=500&&(o.unshift(),n.removeChild(n.children[0]))}),n},A9=e=>{const t="PixiPerform"+e.content;se.performList.forEach(n=>{if(n.performName===t)return{performName:"none",duration:0,isOver:!1,isHoldOn:!0,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!1,stopTimeout:void 0}});let r;switch(e.content){case"rain":r=N9(6,10);break;case"snow":r=P9(3);break}return{performName:t,duration:0,isOver:!1,isHoldOn:!0,stopFunction:()=>{bt.warn("\u73B0\u5728\u6B63\u5728\u5378\u8F7Dpixi\u6F14\u51FA"),r.destroy({texture:!0,baseTexture:!0})},blockingNext:()=>!1,blockingAuto:()=>!1,stopTimeout:void 0}},O9=e=>{let t=e.content;return(e.content==="none"||e.content==="")&&(t=""),Ke("stageRef").setStage("miniAvatar",t),{performName:"none",duration:0,isOver:!1,isHoldOn:!0,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}},L9=e=>(se.performList.forEach(t=>{if(t.performName.match(/PixiPerform/)){bt.warn("pixi \u88AB\u811A\u672C\u91CD\u65B0\u521D\u59CB\u5316",t.performName);for(let n=0;n<se.performList.length;n++){const i=se.performList[n];i.performName===t.performName&&(i.stopFunction(),clearTimeout(i.stopTimeout),se.performList.splice(n,1),n--)}const r=Ke("stageRef");for(let n=0;n<r.stageState.PerformList.length;n++)r.stageState.PerformList[n].script.command===ue.pixi&&(r.stageState.PerformList.splice(n,1),n--)}}),{performName:"none",duration:0,isOver:!1,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}),F9=e=>{const t=$c();return gs.render(X("div",{className:ol.videoContainer,children:X("video",{className:ol.fullScreen_video,id:"playVideoElement",src:e.content,autoPlay:!0})}),document.getElementById("videoContainer")),setTimeout(()=>{let r=document.getElementById("playVideoElement");if(r!==null){r.currentTime=0;const n={performName:t,duration:1e3*60*60,isOver:!1,isHoldOn:!1,stopFunction:()=>{const i=Ke("userDataRef"),o=i.userDataState.optionData.volumeMain,a=o*.01*i.userDataState.optionData.vocalVolume*.01,u=o*.01*i.userDataState.optionData.bgmVolume*.01,f=document.getElementById("currentBgm");f&&(f.volume=u.toString());const h=document.getElementById("currentVocal");f&&(h.volume=a.toString()),gs.render(X("div",{}),document.getElementById("videoContainer")),Dr("nextSentence_target",0,0)},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0};se.performList.push(n),r.oncanplay=()=>{const a=document.getElementById("currentBgm");a&&(a.volume=0 .toString());const u=document.getElementById("currentVocal");a&&(u.volume=0 .toString()),r.play()},r.onended=()=>{for(const i of se.performList)i.performName===t&&(i.isOver=!0,i.stopFunction(),Yc(i.performName))}}},1),{performName:"none",duration:0,isOver:!1,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}},sC=e=>{const t=Le.currentSentenceId;let r=t;Le.currentScene.sentenceList.forEach((n,i)=>{n.command===ue.label&&n.content===e&&i>=t&&(r=i)}),Le.currentSentenceId=r,Dr("nextSentence_target",0,0)},U9=e=>(sC(e.content),{performName:"none",duration:0,isOver:!1,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}),k9=e=>({performName:"none",duration:0,isOver:!1,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}),B9="_Choose_Main_10dwa_1",M9="_Choose_item_10dwa_12";var Cw={Choose_Main:B9,Choose_item:M9};const D9=e=>{const n=e.content.split("|").map(i=>i.split(":")).map((i,o)=>X("div",{className:Cw.Choose_item,onClick:()=>{i[1].match(/\./)?KS(i[1],i[0]):sC(i[1]),Yc("choose")},children:i[0]},i[0]+o));return gs.render(X("div",{className:Cw.Choose_Main,children:n}),document.getElementById("chooseContainer")),{performName:"choose",duration:1e3*60*60*24,isOver:!1,isHoldOn:!1,stopFunction:()=>{gs.render(X("div",{}),document.getElementById("chooseContainer"))},blockingNext:()=>!0,blockingAuto:()=>!0,stopTimeout:void 0}},o0={oldBgName:"",bgName:"",figName:"",figNameLeft:"",figNameRight:"",showText:"",showName:"",command:"",choose:[],vocal:"",bgm:"",miniAvatar:"",GameVar:[],effects:[],bgFilter:"",bgTransform:"",PerformList:[]};function Ol(){const[e,t]=It.exports.useState(Cr.exports.cloneDeep(o0));return{stageState:e,setStage:(o,a)=>{t(u=>(u[o]=a,Yr({},u)))},getStageState:()=>e,restoreStage:o=>{t(a=>Yr(Yr({},a),o))}}}const G9=e=>{Sr.splice(0,Sr.length),Le.currentSentenceId=0,Le.sceneStack=[],Le.currentScene=Hg.currentScene;for(const a of se.performList)a.stopFunction();se.performList=[];for(const a of se.timeoutList)clearTimeout(a);se.timeoutList=[],se.isAuto=!1,se.isFast=!1;const t=se.autoInterval;t!==null&&clearInterval(t),se.autoInterval=null;const r=se.fastInterval;r!==null&&clearInterval(r),se.fastInterval=null;const n=se.autoTimeout;n!==null&&clearInterval(n),se.autoTimeout=null;const i=Cr.exports.cloneDeep(o0);for(const a in i)i.hasOwnProperty(a)&&Ke("stageRef").setStage(a,i[a]);const o=kr("start.txt",zt.scene);return Ii(o).then(a=>{Le.currentScene=Ri(a,"start.txt",o)}),Ke("GuiRef").setVisibility("showTitle",!0),{performName:"none",duration:0,isOver:!1,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}},H9=e=>{const r=Ke("stageRef").stageState.effects;let n=!1;return r.forEach(i=>{i.target==="MainStage_bg_MainContainer"&&(bt.warn("\u5DF2\u5B58\u5728\u6548\u679C\uFF0C\u6B63\u5728\u4FEE\u6539"),n=!0,i.filter=e.content)}),n||r.push({target:"MainStage_bg_MainContainer",transform:"",filter:e.content}),{performName:"none",duration:0,isOver:!1,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}},X9=e=>{const t=e.content;return setTimeout(()=>{const r=document.getElementById("MainStage_bg_MainContainer");r&&(r.style.animation="none",setTimeout(()=>{r.style.animation=t},1))},50),{performName:"bgAni",duration:0,isOver:!1,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}},z9=e=>{const t=e.content;return e.args.forEach(r=>{if(r.key==="left"&&r.value){const n=document.getElementById("figLeftContainer");n&&(n.style.animation="none",setTimeout(()=>{n.style.animation=t},1))}if(r.key==="center"&&r.value){const n=document.getElementById("figCenterContainer");n&&(n.style.animation="none",setTimeout(()=>{n.style.animation=t},1))}if(r.key==="right"&&r.value){const n=document.getElementById("figRightContainer");n&&(n.style.animation="none",setTimeout(()=>{n.style.animation=t},1))}}),{performName:"figAni",duration:0,isOver:!1,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}},V9=e=>{const r=Ke("stageRef").stageState.effects;let n=!1;return r.forEach(i=>{i.target==="MainStage_bg_MainContainer"&&(n=!0,i.transform=e.content)}),n||r.push({target:"MainStage_bg_MainContainer",transform:e.content,filter:""}),{performName:"none",duration:0,isOver:!1,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}},uC=e=>{let t=Ik,r=iT;const n=new Map([[ue.say,iT],[ue.changeBg,Uk],[ue.changeFigure,kk],[ue.bgm,Bk],[ue.callScene,Dk],[ue.changeScene,Gk],[ue.intro,Jk],[ue.pixi,A9],[ue.miniAvatar,O9],[ue.pixiInit,L9],[ue.video,F9],[ue.jumpLabel,U9],[ue.label,k9],[ue.choose,D9],[ue.end,G9],[ue.setBgFilter,H9],[ue.perform_bgAni,X9],[ue.perform_FigAni,z9],[ue.setBgTransform,V9]]);if(n.has(e.command)&&(r=n.get(e.command)),t=r(e),t.performName==="none"){bt.warn("\u672C\u6761\u8BED\u53E5\u4E0D\u6267\u884C\u6F14\u51FA");return}Ke("stageRef").stageState.PerformList.push({isHoldOn:t.isHoldOn,script:e}),t.stopTimeout=setTimeout(()=>{t.isOver=!0,t.isHoldOn||Yc(t.performName)},t.duration),se.performList.push(t)},W9=e=>{Ii(e.sceneUrl).then(t=>{Le.currentScene=Ri(t,e.sceneName,e.sceneUrl),Le.currentSentenceId=e.continueLine+1,bt.debug("\u73B0\u5728\u6062\u590D\u573A\u666F\uFF0C\u6062\u590D\u540E\u573A\u666F\uFF1A",Le.currentScene),Dr("nextSentence_target",0,0)})},lC=()=>{if(Le.currentSentenceId>Le.currentScene.sentenceList.length-1){if(Le.sceneStack.length!==0){const i=Le.sceneStack.pop();i!==void 0&&W9(i)}return}const e=Le.currentScene.sentenceList[Le.currentSentenceId];uC(e);let t=!1;e.args.forEach(i=>{i.key==="next"&&i.value&&(t=!0)});const r=e.command===ue.say;let n;if(t){Le.currentSentenceId++,lC();return}setTimeout(()=>{if(n=Ke("stageRef").getStageState(),bt.debug("\u672C\u6761\u8BED\u53E5\u6267\u884C\u7ED3\u679C",n),r){const o={currentStageState:Cr.exports.cloneDeep(n),saveScene:{currentSentenceId:Le.currentSentenceId,sceneStack:Cr.exports.cloneDeep(Le.sceneStack),sceneName:Le.currentScene.sceneName,sceneUrl:Le.currentScene.sceneUrl}};Sr.push(o)}},0),Le.currentSentenceId++},a0=()=>{let e=!1;if(se.performList.forEach(r=>{r.blockingNext()&&!r.isOver&&(e=!0)}),e){bt.warn("next \u88AB\u963B\u585E\uFF01");return}let t=!0;if(se.performList.forEach(r=>{r.isHoldOn||(t=!1)}),t){const r=Ke("stageRef");for(let n=0;n<r.stageState.PerformList.length;n++)r.stageState.PerformList[n].isHoldOn||(r.stageState.PerformList.splice(n,1),n--);lC();return}bt.warn("\u63D0\u524D\u7ED3\u675F\u88AB\u89E6\u53D1\uFF0C\u73B0\u5728\u6E05\u9664\u666E\u901A\u6F14\u51FA");for(let r=0;r<se.performList.length;r++){const n=se.performList[r];n.isHoldOn||(n.stopFunction(),clearTimeout(n.stopTimeout),se.performList.splice(r,1),r--)}},j9=()=>{Sr.splice(0,Sr.length),Le.currentSentenceId=0,Le.sceneStack=[],Le.currentScene=Hg.currentScene;for(const o of se.performList)o.stopFunction();se.performList=[];for(const o of se.timeoutList)clearTimeout(o);se.timeoutList=[],se.isAuto=!1,se.isFast=!1;const e=se.autoInterval;e!==null&&clearInterval(e),se.autoInterval=null;const t=se.fastInterval;t!==null&&clearInterval(t),se.fastInterval=null;const r=se.autoTimeout;r!==null&&clearInterval(r),se.autoTimeout=null;const n=Cr.exports.cloneDeep(o0);for(const o in n)n.hasOwnProperty(o)&&Ke("stageRef").setStage(o,n[o]);const i=kr("start.txt",zt.scene);Ii(i).then(o=>{Le.currentScene=Ri(o,"start.txt",i)}),Ke("GuiRef").setVisibility("showTitle",!1),a0()},$9=()=>{const e=Ir(sa),t=e.GuiState.titleBg,r=t===""?"rgba(0,0,0,1)":`url("${t}")`;return Pe(Os,{children:[e.GuiState.showTitle&&X("div",{className:At.Title_backup_background}),X("div",{id:"play_title_bgm_target",onClick:()=>{Xc(e.GuiState.titleBgm)}}),e.GuiState.showTitle&&X("div",{className:At.Title_main,style:{backgroundImage:r,backgroundSize:"cover"},children:Pe("div",{className:At.Title_buttonList,children:[Pe("div",{className:At.Title_button,onClick:j9,children:[X("div",{className:At.Title_button_text+" "+At.Title_button_text_up,children:"\u5F00\u59CB\u6E38\u620F"}),X("div",{className:At.Title_button_text,children:"START"})]}),Pe("div",{className:At.Title_button,onClick:()=>e.setVisibility("showTitle",!1),children:[X("div",{className:At.Title_button_text+" "+At.Title_button_text_up,children:"\u7EE7\u7EED\u6E38\u620F"}),X("div",{className:At.Title_button_text,children:"CONTINUE"})]}),Pe("div",{className:At.Title_button,onClick:()=>{e.setVisibility("showMenuPanel",!0),e.setMenuPanelTag(Xt.Option)},children:[X("div",{className:At.Title_button_text+" "+At.Title_button_text_up,children:"\u6E38\u620F\u9009\u9879"}),X("div",{className:At.Title_button_text,children:"OPTIONS"})]}),Pe("div",{className:At.Title_button,onClick:()=>{e.setVisibility("showMenuPanel",!0),e.setMenuPanelTag(Xt.Load)},children:[X("div",{className:At.Title_button_text+" "+At.Title_button_text_up,children:"\u8BFB\u53D6\u5B58\u6863"}),X("div",{className:At.Title_button_text,children:"LOAD"})]}),Pe("div",{className:At.Title_button,onClick:()=>{window.opener=null,window.open("","_self"),window.close()},children:[X("div",{className:At.Title_button_text+" "+At.Title_button_text_up,children:"\u9000\u51FA\u6E38\u620F"}),X("div",{className:At.Title_button_text,children:"EXIT"})]})]})})]})},Y9=e=>{qS.get(e).then(t=>{let r=t.data.split(`
`);r=r.map(i=>i.split(";")[0]);const n=r.map(i=>i.split(":"));if(bt.info("\u83B7\u53D6\u5230\u6E38\u620F\u4FE1\u606F",n),fs.GuiRef){const i=fs.GuiRef.current;n.forEach(o=>{if(o[0]==="Title_img"){const a=kr(o[1],zt.background);i.setGuiAsset("titleBg",a)}if(o[0]==="Title_bgm"){const a=kr(o[1],zt.bgm);i.setGuiAsset("titleBgm",a)}o[0]==="Game_name"&&(ys.gameName=o[1],document.title=o[1]),o[0]==="Game_key"&&(ys.gameKey=o[1],fc())})}Dr("play_title_bgm_target",1,0)})},Th=()=>{const r=window.innerHeight,n=window.innerWidth,i=r/900,o=n/1600,a=n/900,u=r/1600;let f=(900-r)/2,h=(1600-n)/2,d=1600/2-n/2,p=900/2-r/2;const v=document.getElementById("root");v&&(n>r?(h=-h,f=-f,n*(9/16)>=r&&(v.style.transform=`translate(${h}px, ${f}px) scale(${i},${i})`),n*(9/16)<r&&(v.style.transform=`translate(${h}px, ${f}px) scale(${o},${o})`)):(p=-p,r*(9/16)>=n&&(v.style.transform=`rotate(90deg) translate(${p}px, ${d}px) scale(${a},${a})`),r*(9/16)<n&&(v.style.transform=`rotate(90deg) translate(${p}px, ${d}px) scale(${u},${u})`)));const m=document.getElementById("Title_enter_page");f=(900-r)/2,h=(1600-n)/2,d=1600/2-n/2,p=900/2-r/2,m&&(n>r?(h=-h,f=-f,n*(9/16)>=r&&(m.style.transform=`translate(${h}px, ${f}px) scale(${i},${i})`),n*(9/16)<r&&(m.style.transform=`translate(${h}px, ${f}px) scale(${o},${o})`)):(p=-p,r*(9/16)>=n&&(m.style.transform=`rotate(90deg) translate(${p}px, ${d}px) scale(${a},${a})`),r*(9/16)<n&&(m.style.transform=`rotate(90deg) translate(${p}px, ${d}px) scale(${u},${u})`)))},fC=()=>{const e=Ke("userDataRef"),t=e.userDataState.optionData.volumeMain,r=t*.01*e.userDataState.optionData.vocalVolume*.01,n=t*.01*e.userDataState.optionData.bgmVolume*.01;bt.debug(`\u8BBE\u7F6E\u80CC\u666F\u97F3\u91CF\uFF1A${n},\u8BED\u97F3\u97F3\u91CF\uFF1A${r}`);const i=document.getElementById("currentBgm");i&&(i.volume=n.toString());const o=document.getElementById("currentVocal");i&&(o.volume=r.toString())},q9=e=>{if(e){let t=new td({backgroundAlpha:0});const r=document.getElementById("pixiContianer");r&&(r.innerHTML="",r.appendChild(t.view)),t.renderer.view.style.position="absolute",t.renderer.view.style.display="block",t.renderer.autoResize=!0;const n=document.getElementById("root");n&&t.renderer.resize(n.clientWidth,n.clientHeight),t.renderer.view.style.zIndex="5",se.currentPixi=t}else{const t=document.getElementById("pixiContianer");t&&(t.innerHTML="")}},K9=()=>{bt.info("WebGAL 4.0.3"),bt.info("Github: https://github.com/MakinoharaShoko/WebGAL "),bt.info("Made with \u2764 by MakinoharaShoko"),setTimeout(Th,100),Th(),window.onresize=Th,document.onkeydown=function(t){const r=t;r&&r.keyCode===122&&setTimeout(()=>{Th()},100)},Y9("./game/config.txt");const e=kr("start.txt",zt.scene);Ii(e).then(t=>{Le.currentScene=Ri(t,"start.txt",e)}),fC(),q9(!0)};var Gh=(e=>(e[e.slow=0]="slow",e[e.normal=1]="normal",e[e.fast=2]="fast",e))(Gh||{});const Z9={saveData:[],optionData:{slPage:1,volumeMain:100,textSpeed:1,autoSpeed:1,textSize:1,vocalVolume:100,bgmVolume:25}};function Us(){const[e,t]=It.exports.useState(Z9);return{userDataState:e,setUserData:(a,u)=>{t(f=>(f[a]=u,Yr({},f)))},replaceUserData:a=>{t(u=>Yr(Yr({},u),a))},setOptionData:(a,u)=>{t(f=>(f.optionData[a]=u,Yr({},f)))},setSlPage:a=>{t(u=>(u.optionData.slPage=a,Yr({},u)))}}}const J9="_Menu_main_h8wt8_1",Q9="_Menu_ShowSoftly_h8wt8_1",eH="_Menu_TagContent_h8wt8_9";var Iw={Menu_main:J9,Menu_ShowSoftly:Q9,Menu_TagContent:eH};const tH="_MenuPanel_main_cgbte_1",rH="_MenuPanel_button_cgbte_11",nH="_MenuPanel_button_icon_cgbte_33";var Qa={MenuPanel_main:tH,MenuPanel_button:rH,MenuPanel_button_icon:nH},iH=["size","strokeWidth","strokeLinecap","strokeLinejoin","theme","fill","className","spin"];function Rw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Nw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Rw(Object(r),!0).forEach(function(n){oH(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Rw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function oH(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function aH(e,t){if(e==null)return{};var r=sH(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&(!Object.prototype.propertyIsEnumerable.call(e,n)||(r[n]=e[n]))}return r}function sH(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,o;for(o=0;o<n.length;o++)i=n[o],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}var uH={size:"1em",strokeWidth:4,strokeLinecap:"round",strokeLinejoin:"round",rtl:!1,theme:"outline",colors:{outline:{fill:"#333",background:"transparent"},filled:{fill:"#333",background:"#FFF"},twoTone:{fill:"#333",twoTone:"#2F88FF"},multiColor:{outStrokeColor:"#333",outFillColor:"#2F88FF",innerStrokeColor:"#FFF",innerFillColor:"#43CCF8"}},prefix:"i"};function lH(){return"icon-"+((1+Math.random())*4294967296|0).toString(16).substring(1)}function fH(e,t,r){var n=typeof t.fill=="string"?[t.fill]:t.fill||[],i=[],o=t.theme||r.theme;switch(o){case"outline":i.push(typeof n[0]=="string"?n[0]:"currentColor"),i.push("none"),i.push(typeof n[0]=="string"?n[0]:"currentColor"),i.push("none");break;case"filled":i.push(typeof n[0]=="string"?n[0]:"currentColor"),i.push(typeof n[0]=="string"?n[0]:"currentColor"),i.push("#FFF"),i.push("#FFF");break;case"two-tone":i.push(typeof n[0]=="string"?n[0]:"currentColor"),i.push(typeof n[1]=="string"?n[1]:r.colors.twoTone.twoTone),i.push(typeof n[0]=="string"?n[0]:"currentColor"),i.push(typeof n[1]=="string"?n[1]:r.colors.twoTone.twoTone);break;case"multi-color":i.push(typeof n[0]=="string"?n[0]:"currentColor"),i.push(typeof n[1]=="string"?n[1]:r.colors.multiColor.outFillColor),i.push(typeof n[2]=="string"?n[2]:r.colors.multiColor.innerStrokeColor),i.push(typeof n[3]=="string"?n[3]:r.colors.multiColor.innerFillColor);break}return{size:t.size||r.size,strokeWidth:t.strokeWidth||r.strokeWidth,strokeLinecap:t.strokeLinecap||r.strokeLinecap,strokeLinejoin:t.strokeLinejoin||r.strokeLinejoin,colors:i,id:e}}var hC=It.exports.createContext(uH);hC.Provider;function Hr(e,t,r){return function(n){var i=n.size,o=n.strokeWidth,a=n.strokeLinecap,u=n.strokeLinejoin,f=n.theme,h=n.fill,d=n.className,p=n.spin,v=aH(n,iH),m=It.exports.useContext(hC),y=It.exports.useMemo(lH,[]),E=fH(y,{size:i,strokeWidth:o,strokeLinecap:a,strokeLinejoin:u,theme:f,fill:h},m),g=[m.prefix+"-icon"];return g.push(m.prefix+"-icon-"+e),t&&m.rtl&&g.push(m.prefix+"-icon-rtl"),p&&g.push(m.prefix+"-icon-spin"),d&&g.push(d),X("span",m1(Yr({},Nw(Nw({},v),{},{className:g.join(" ")})),{children:r(E)}))}}var hH=Hr("align-text-left-one",!0,function(e){return xe.createElement("svg",{width:e.size,height:e.size,viewBox:"0 0 48 48",fill:"none"},xe.createElement("path",{d:"M39 6H9C7.34315 6 6 7.34315 6 9V39C6 40.6569 7.34315 42 9 42H39C40.6569 42 42 40.6569 42 39V9C42 7.34315 40.6569 6 39 6Z",fill:e.colors[1],stroke:e.colors[0],strokeWidth:e.strokeWidth,strokeLinejoin:e.strokeLinejoin}),xe.createElement("path",{d:"M26 24H14",stroke:e.colors[2],strokeWidth:e.strokeWidth,strokeLinecap:e.strokeLinecap,strokeLinejoin:e.strokeLinejoin}),xe.createElement("path",{d:"M34 15H14",stroke:e.colors[2],strokeWidth:e.strokeWidth,strokeLinecap:e.strokeLinecap,strokeLinejoin:e.strokeLinejoin}),xe.createElement("path",{d:"M32 33H14",stroke:e.colors[2],strokeWidth:e.strokeWidth,strokeLinecap:e.strokeLinecap,strokeLinejoin:e.strokeLinejoin}))}),cH=Hr("close-small",!1,function(e){return xe.createElement("svg",{width:e.size,height:e.size,viewBox:"0 0 48 48",fill:"none"},xe.createElement("path",{d:"M14 14L34 34",stroke:e.colors[0],strokeWidth:e.strokeWidth,strokeLinecap:e.strokeLinecap,strokeLinejoin:e.strokeLinejoin}),xe.createElement("path",{d:"M14 34L34 14",stroke:e.colors[0],strokeWidth:e.strokeWidth,strokeLinecap:e.strokeLinecap,strokeLinejoin:e.strokeLinejoin}))}),dH=Hr("double-right",!0,function(e){return xe.createElement("svg",{width:e.size,height:e.size,viewBox:"0 0 48 48",fill:"none"},xe.createElement("path",{d:"M12 12L24 24L12 36",stroke:e.colors[0],strokeWidth:e.strokeWidth,strokeLinecap:e.strokeLinecap,strokeLinejoin:e.strokeLinejoin}),xe.createElement("path",{d:"M24 12L36 24L24 36",stroke:e.colors[0],strokeWidth:e.strokeWidth,strokeLinecap:e.strokeLinecap,strokeLinejoin:e.strokeLinejoin}))}),cC=Hr("folder-open",!0,function(e){return xe.createElement("svg",{width:e.size,height:e.size,viewBox:"0 0 48 48",fill:"none"},xe.createElement("path",{d:"M4 9V41L9 21H39.5V15C39.5 13.8954 38.6046 13 37.5 13H24L19 7H6C4.89543 7 4 7.89543 4 9Z",stroke:e.colors[0],strokeWidth:e.strokeWidth,strokeLinecap:e.strokeLinecap,strokeLinejoin:e.strokeLinejoin}),xe.createElement("path",{d:"M40 41L44 21H8.8125L4 41H40Z",fill:e.colors[1],stroke:e.colors[0],strokeWidth:e.strokeWidth,strokeLinecap:e.strokeLinecap,strokeLinejoin:e.strokeLinejoin}))}),dC=Hr("home",!1,function(e){return xe.createElement("svg",{width:e.size,height:e.size,viewBox:"0 0 48 48",fill:"none"},xe.createElement("path",{d:"M9 18V42H39V18L24 6L9 18Z",fill:e.colors[1]}),xe.createElement("path",{d:"M9 42V18L4 22L24 6L44 22L39 18V42H9Z",stroke:e.colors[0],strokeWidth:e.strokeWidth,strokeLinecap:e.strokeLinecap,strokeLinejoin:e.strokeLinejoin}),xe.createElement("path",{d:"M19 29V42H29V29H19Z",fill:e.colors[3],stroke:e.colors[2],strokeWidth:e.strokeWidth,strokeLinejoin:e.strokeLinejoin}),xe.createElement("path",{d:"M9 42H39",stroke:e.colors[0],strokeWidth:e.strokeWidth,strokeLinecap:e.strokeLinecap}))}),pH=Hr("logout",!0,function(e){return xe.createElement("svg",{width:e.size,height:e.size,viewBox:"0 0 48 48",fill:"none"},xe.createElement("path",{d:"M23.9917 6L6 6L6 42H24",stroke:e.colors[0],strokeWidth:e.strokeWidth,strokeLinecap:e.strokeLinecap,strokeLinejoin:e.strokeLinejoin}),xe.createElement("path",{d:"M33 33L42 24L33 15",stroke:e.colors[0],strokeWidth:e.strokeWidth,strokeLinecap:e.strokeLinecap,strokeLinejoin:e.strokeLinejoin}),xe.createElement("path",{d:"M16 23.9917H42",stroke:e.colors[0],strokeWidth:e.strokeWidth,strokeLinecap:e.strokeLinecap,strokeLinejoin:e.strokeLinejoin}))}),vH=Hr("play-one",!0,function(e){return xe.createElement("svg",{width:e.size,height:e.size,viewBox:"0 0 48 48",fill:"none"},xe.createElement("path",{d:"M15 24V11.8756L25.5 17.9378L36 24L25.5 30.0622L15 36.1244V24Z",fill:e.colors[1],stroke:e.colors[0],strokeWidth:e.strokeWidth,strokeLinejoin:e.strokeLinejoin}))}),_H=Hr("preview-close-one",!0,function(e){return xe.createElement("svg",{width:e.size,height:e.size,viewBox:"0 0 48 48",fill:"none"},xe.createElement("path",{d:"M9.85786 18C6.23858 21 4 24 4 24C4 24 12.9543 36 24 36C25.3699 36 26.7076 35.8154 28 35.4921M20.0318 12.5C21.3144 12.1816 22.6414 12 24 12C35.0457 12 44 24 44 24C44 24 41.7614 27 38.1421 30",stroke:e.colors[0],strokeWidth:e.strokeWidth,strokeLinecap:e.strokeLinecap,strokeLinejoin:e.strokeLinejoin}),xe.createElement("path",{d:"M20.3142 20.6213C19.4981 21.5112 19 22.6974 19 24C19 26.7614 21.2386 29 24 29C25.3627 29 26.5981 28.4548 27.5 27.5707",stroke:e.colors[0],strokeWidth:e.strokeWidth,strokeLinecap:e.strokeLinecap,strokeLinejoin:e.strokeLinejoin}),xe.createElement("path",{d:"M42 42L6 6",stroke:e.colors[0],strokeWidth:e.strokeWidth,strokeLinecap:e.strokeLinecap,strokeLinejoin:e.strokeLinejoin}))}),mH=Hr("preview-open",!1,function(e){return xe.createElement("svg",{width:e.size,height:e.size,viewBox:"0 0 48 48",fill:"none"},xe.createElement("path",{d:"M24 36C35.0457 36 44 24 44 24C44 24 35.0457 12 24 12C12.9543 12 4 24 4 24C4 24 12.9543 36 24 36Z",fill:e.colors[1],stroke:e.colors[0],strokeWidth:e.strokeWidth,strokeLinejoin:e.strokeLinejoin}),xe.createElement("path",{d:"M24 29C26.7614 29 29 26.7614 29 24C29 21.2386 26.7614 19 24 19C21.2386 19 19 21.2386 19 24C19 26.7614 21.2386 29 24 29Z",fill:e.colors[3],stroke:e.colors[2],strokeWidth:e.strokeWidth,strokeLinejoin:e.strokeLinejoin}))}),gH=Hr("replay-music",!0,function(e){return xe.createElement("svg",{width:e.size,height:e.size,viewBox:"0 0 48 48",fill:"none"},xe.createElement("path",{d:"M21 24V18L26 21L31 24L26 27L21 30V24Z",fill:e.colors[1],stroke:e.colors[0],strokeWidth:e.strokeWidth,strokeLinejoin:e.strokeLinejoin}),xe.createElement("path",{d:"M11.2721 36.7279C14.5294 39.9853 19.0294 42 24 42C33.9411 42 42 33.9411 42 24C42 14.0589 33.9411 6 24 6C19.0294 6 14.5294 8.01472 11.2721 11.2721C9.6141 12.9301 6 17 6 17",stroke:e.colors[0],strokeWidth:e.strokeWidth,strokeLinecap:e.strokeLinecap,strokeLinejoin:e.strokeLinejoin}),xe.createElement("path",{d:"M6 9V17H14",stroke:e.colors[0],strokeWidth:e.strokeWidth,strokeLinecap:e.strokeLinecap,strokeLinejoin:e.strokeLinejoin}))}),yH=Hr("return",!0,function(e){return xe.createElement("svg",{width:e.size,height:e.size,viewBox:"0 0 48 48",fill:"none"},xe.createElement("path",{d:"M12.9998 8L6 14L12.9998 21",stroke:e.colors[0],strokeWidth:e.strokeWidth,strokeLinecap:e.strokeLinecap,strokeLinejoin:e.strokeLinejoin}),xe.createElement("path",{d:"M6 14H28.9938C35.8768 14 41.7221 19.6204 41.9904 26.5C42.2739 33.7696 36.2671 40 28.9938 40H11.9984",stroke:e.colors[0],strokeWidth:e.strokeWidth,strokeLinecap:e.strokeLinecap,strokeLinejoin:e.strokeLinejoin}))}),pC=Hr("save",!0,function(e){return xe.createElement("svg",{width:e.size,height:e.size,viewBox:"0 0 48 48",fill:"none"},xe.createElement("path",{d:"M6 9C6 7.34315 7.34315 6 9 6H34.2814L42 13.2065V39C42 40.6569 40.6569 42 39 42H9C7.34315 42 6 40.6569 6 39V9Z",fill:e.colors[1],stroke:e.colors[0],strokeWidth:e.strokeWidth,strokeLinejoin:e.strokeLinejoin}),xe.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M24.0083 6L24 13.3846C24 13.7245 23.5523 14 23 14H15C14.4477 14 14 13.7245 14 13.3846L14 6",fill:e.colors[3]}),xe.createElement("path",{d:"M24.0083 6L24 13.3846C24 13.7245 23.5523 14 23 14H15C14.4477 14 14 13.7245 14 13.3846L14 6H24.0083Z",stroke:e.colors[2],strokeWidth:e.strokeWidth,strokeLinejoin:e.strokeLinejoin}),xe.createElement("path",{d:"M9 6H34.2814",stroke:e.colors[0],strokeWidth:e.strokeWidth,strokeLinecap:e.strokeLinecap,strokeLinejoin:e.strokeLinejoin}),xe.createElement("path",{d:"M14 26H34",stroke:e.colors[2],strokeWidth:e.strokeWidth,strokeLinecap:e.strokeLinecap,strokeLinejoin:e.strokeLinejoin}),xe.createElement("path",{d:"M14 34H24.0083",stroke:e.colors[2],strokeWidth:e.strokeWidth,strokeLinecap:e.strokeLinecap,strokeLinejoin:e.strokeLinejoin}))}),vC=Hr("setting-two",!1,function(e){return xe.createElement("svg",{width:e.size,height:e.size,viewBox:"0 0 48 48",fill:"none"},xe.createElement("path",{d:"M18.2838 43.1712C14.9327 42.1735 11.9498 40.3212 9.58787 37.8669C10.469 36.8226 11 35.4733 11 34C11 30.6863 8.31371 28 5 28C4.79955 28 4.60139 28.0098 4.40599 28.029C4.13979 26.7276 4 25.3801 4 24C4 21.9094 4.32077 19.8937 4.91579 17.9994C4.94381 17.9998 4.97188 18 5 18C8.31371 18 11 15.3137 11 12C11 11.0487 10.7786 10.1491 10.3846 9.34999C12.6975 7.19937 15.5205 5.5899 18.6521 4.72302C19.6444 6.66807 21.6667 8.00001 24 8.00001C26.3333 8.00001 28.3556 6.66807 29.3479 4.72302C32.4795 5.5899 35.3025 7.19937 37.6154 9.34999C37.2214 10.1491 37 11.0487 37 12C37 15.3137 39.6863 18 43 18C43.0281 18 43.0562 17.9998 43.0842 17.9994C43.6792 19.8937 44 21.9094 44 24C44 25.3801 43.8602 26.7276 43.594 28.029C43.3986 28.0098 43.2005 28 43 28C39.6863 28 37 30.6863 37 34C37 35.4733 37.531 36.8226 38.4121 37.8669C36.0502 40.3212 33.0673 42.1735 29.7162 43.1712C28.9428 40.7518 26.676 39 24 39C21.324 39 19.0572 40.7518 18.2838 43.1712Z",fill:e.colors[1],stroke:e.colors[0],strokeWidth:e.strokeWidth,strokeLinejoin:e.strokeLinejoin}),xe.createElement("path",{d:"M24 31C27.866 31 31 27.866 31 24C31 20.134 27.866 17 24 17C20.134 17 17 20.134 17 24C17 27.866 20.134 31 24 31Z",fill:e.colors[3],stroke:e.colors[2],strokeWidth:e.strokeWidth,strokeLinejoin:e.strokeLinejoin}))}),xH=Hr("volume-notice",!0,function(e){return xe.createElement("svg",{width:e.size,height:e.size,viewBox:"0 0 48 48",fill:"none"},xe.createElement("path",{d:"M24 6V42C17 42 11.7985 32.8391 11.7985 32.8391H6C4.89543 32.8391 4 31.9437 4 30.8391V17.0108C4 15.9062 4.89543 15.0108 6 15.0108H11.7985C11.7985 15.0108 17 6 24 6Z",fill:e.colors[1],stroke:e.colors[0],strokeWidth:e.strokeWidth,strokeLinejoin:e.strokeLinejoin}),xe.createElement("path",{d:"M32 15L32 15C32.6232 15.5565 33.1881 16.1797 33.6841 16.8588C35.1387 18.8504 36 21.3223 36 24C36 26.6545 35.1535 29.1067 33.7218 31.0893C33.2168 31.7885 32.6391 32.4293 32 33",stroke:e.colors[0],strokeWidth:e.strokeWidth,strokeLinecap:e.strokeLinecap,strokeLinejoin:e.strokeLinejoin}),xe.createElement("path",{d:"M34.2358 41.1857C40.0835 37.6953 43.9999 31.305 43.9999 24C43.9999 16.8085 40.2042 10.5035 34.507 6.97906",stroke:e.colors[0],strokeWidth:e.strokeWidth,strokeLinecap:e.strokeLinecap}))});const TH=e=>{let t;switch(e.iconName){case"save":t=X(pC,{theme:"outline",size:"1.2em",fill:e.iconColor,strokeWidth:2});break;case"load":t=X(cC,{theme:"outline",size:"1.2em",fill:e.iconColor,strokeWidth:2});break;case"option":t=X(vC,{theme:"outline",size:"1.2em",fill:e.iconColor,strokeWidth:2});break;case"title":t=X(dC,{theme:"outline",size:"1.2em",fill:"rgba(185,185,185,1)",strokeWidth:2});break;case"exit":t=X(pH,{theme:"outline",size:"1.2em",fill:"rgba(185,185,185,1)",strokeWidth:2});break;default:t=X("div",{})}return t},wu=e=>{let t=Qa.MenuPanel_button;return e.hasOwnProperty("buttonOnClassName")&&(t=t+e.buttonOnClassName),Pe("div",{className:t,onClick:()=>{e.clickFunc()},style:{color:e.tagColor},children:[X("div",{className:Qa.MenuPanel_button_icon,children:X(TH,{iconName:e.iconName,iconColor:e.iconColor})}),e.tagName]})},EH=()=>{const e=Ir(sa),t=e.GuiState.currentMenuTag===Xt.Save?` ${Qa.MenuPanel_button_hl}`:"",r=e.GuiState.currentMenuTag===Xt.Load?` ${Qa.MenuPanel_button_hl}`:"",n=e.GuiState.currentMenuTag===Xt.Option?` ${Qa.MenuPanel_button_hl}`:"",i=e.GuiState.currentMenuTag===Xt.Save?"rgba(74, 34, 93, 0.9)":"rgba(8, 8, 8, 0.3)",o=e.GuiState.currentMenuTag===Xt.Load?"rgba(11, 52, 110, 0.9)":"rgba(8, 8, 8, 0.3)",a=e.GuiState.currentMenuTag===Xt.Option?"rgba(81, 110, 65, 0.9)":"rgba(8, 8, 8, 0.3)",u=e.GuiState.currentMenuTag===Xt.Save?"rgba(74, 34, 93, 0.9)":"rgba(185, 185, 185, 1)",f=e.GuiState.currentMenuTag===Xt.Load?"rgba(11, 52, 110, 0.9)":"rgba(185, 185, 185, 1)",h=e.GuiState.currentMenuTag===Xt.Option?"rgba(81, 110, 65, 0.9)":"rgba(185, 185, 185, 1)";return Pe("div",{className:Qa.MenuPanel_main,children:[X(wu,{iconName:"save",buttonOnClassName:t,iconColor:u,tagColor:i,clickFunc:()=>{e.setMenuPanelTag(Xt.Save)},tagName:"\u5B58\u6863"},"saveButton"),X(wu,{iconName:"load",buttonOnClassName:r,iconColor:f,tagColor:o,clickFunc:()=>{e.setMenuPanelTag(Xt.Load)},tagName:"\u8BFB\u6863"},"loadButton"),X(wu,{iconName:"option",buttonOnClassName:n,iconColor:h,tagColor:a,clickFunc:()=>{e.setMenuPanelTag(Xt.Option)},tagName:"\u9009\u9879"},"optionButton"),X(wu,{iconName:"title",clickFunc:()=>{e.setVisibility("showTitle",!0),e.setVisibility("showMenuPanel",!1),Xc(e.GuiState.titleBgm)},tagName:"\u6807\u9898"},"titleIcon"),X(wu,{iconName:"exit",clickFunc:()=>{e.setVisibility("showMenuPanel",!1)},tagName:"\u8FD4\u56DE"},"exitIcon")]})},wH="_Save_Load_main_12bzc_2",bH="_Save_Load_top_12bzc_9",SH="_Elements_in_12bzc_1",CH="_Save_Load_title_12bzc_19",IH="_Save_title_text_12bzc_30",RH="_Load_title_text_12bzc_40",NH="_Save_Load_top_buttonList_12bzc_50",PH="_Save_Load_top_button_12bzc_50",AH="_Save_Load_top_button_text_12bzc_69",OH="_Save_Load_top_button_on_12bzc_80",LH="_Load_top_button_on_12bzc_93",FH="_Load_top_button_12bzc_93",UH="_Save_Load_content_12bzc_106",kH="_Save_Load_content_element_12bzc_115",BH="_Elements_in_transform_12bzc_1",MH="_Save_Load_content_element_top_12bzc_133",DH="_Save_Load_content_element_top_index_12bzc_139",GH="_Load_content_elememt_top_index_12bzc_148",HH="_Save_Load_content_element_top_date_12bzc_152",XH="_Load_content_element_top_date_12bzc_161",zH="_Save_Load_content_text_12bzc_165",VH="_Save_Load_content_text_padding_12bzc_176",WH="_Save_Load_content_speaker_12bzc_180",jH="_Load_content_speaker_12bzc_187",$H="_Load_content_text_12bzc_191",YH="_Save_Load_content_miniRen_12bzc_195",qH="_Save_Load_content_miniRen_bg_12bzc_201",KH="_Save_Load_content_miniRen_figure_12bzc_207",ZH="_Save_Load_content_miniRen_figLeft_12bzc_215",JH="_Save_Load_content_miniRen_figRight_12bzc_220";var Ie={Save_Load_main:wH,Save_Load_top:bH,Elements_in:SH,Save_Load_title:CH,Save_title_text:IH,Load_title_text:RH,Save_Load_top_buttonList:NH,Save_Load_top_button:PH,Save_Load_top_button_text:AH,Save_Load_top_button_on:OH,Load_top_button_on:LH,Load_top_button:FH,Save_Load_content:UH,Save_Load_content_element:kH,Elements_in_transform:BH,Save_Load_content_element_top:MH,Save_Load_content_element_top_index:DH,Load_content_elememt_top_index:GH,Save_Load_content_element_top_date:HH,Load_content_element_top_date:XH,Save_Load_content_text:zH,Save_Load_content_text_padding:VH,Save_Load_content_speaker:WH,Load_content_speaker:jH,Load_content_text:$H,Save_Load_content_miniRen:YH,Save_Load_content_miniRen_bg:qH,Save_Load_content_miniRen_figure:KH,Save_Load_content_miniRen_figLeft:ZH,Save_Load_content_miniRen_figRight:JH};const QH=e=>{const t=Ke("userDataRef"),r=Cr.exports.cloneDeep(Sr),n={nowStageState:Cr.exports.cloneDeep(Ke("stageRef").stageState),backlog:r,index:e,saveTime:new Date().toLocaleDateString()+" "+new Date().toLocaleTimeString("chinese",{hour12:!1}),sceneData:{currentSentenceId:Le.currentSentenceId,sceneStack:Cr.exports.cloneDeep(Le.sceneStack),sceneName:Le.currentScene.sceneName,sceneUrl:Le.currentScene.sceneUrl}},i=t.userDataState.saveData;i[e]=n,t.setUserData("saveData",[...i]),bt.debug("\u5B58\u6863\u5B8C\u6210\uFF0C\u5B58\u6863\u7ED3\u679C\uFF1A",t.userDataState),FU()},e7=()=>{const e=Ir(Us),t=[];for(let a=1;a<=20;a++){let u=Ie.Save_Load_top_button;a===e.userDataState.optionData.slPage&&(u=u+" "+Ie.Save_Load_top_button_on);const f=X("div",{onClick:()=>{e.setSlPage(a),dr()},className:u,children:X("div",{className:Ie.Save_Load_top_button_text,children:a})},"Save_element_page"+a);t.push(f)}const r=[],n=(e.userDataState.optionData.slPage-1)*10+1,i=n+9;let o=0;for(let a=n;a<=i;a++){o++;const u=e.userDataState.saveData[a];let f=X("div",{});if(u){const d=u.nowStageState.showName===""?"":`${u.nowStageState.showName}`;f=Pe(Os,{children:[Pe("div",{className:Ie.Save_Load_content_element_top,children:[X("div",{className:Ie.Save_Load_content_element_top_index,children:u.index}),X("div",{className:Ie.Save_Load_content_element_top_date,children:u.saveTime})]}),Pe("div",{className:Ie.Save_Load_content_miniRen,children:[u.nowStageState.bgName!==""&&X("img",{className:Ie.Save_Load_content_miniRen_bg,alt:"Save_img_preview",src:u.nowStageState.bgName}),u.nowStageState.bgName===""&&X("div",{style:{background:"rgba(0,0,0,0.6)",width:"100%",height:"100%"}}),u.nowStageState.figNameLeft!==""&&X("img",{className:Ie.Save_Load_content_miniRen_figure+" "+Ie.Save_Load_content_miniRen_figLeft,alt:"Save_img_previewLeft",src:u.nowStageState.figNameLeft}),u.nowStageState.figNameRight!==""&&X("img",{className:Ie.Save_Load_content_miniRen_figure+" "+Ie.Save_Load_content_miniRen_figRight,alt:"Save_img_preview",src:u.nowStageState.figNameRight}),u.nowStageState.figName!==""&&X("div",{style:{display:"flex",width:"100%",height:"100%",position:"absolute",bottom:"0",justifyContent:"center"},children:X("img",{className:Ie.Save_Load_content_miniRen_figure,alt:"Save_img_preview",src:u.nowStageState.figName})})]}),Pe("div",{className:Ie.Save_Load_content_text,children:[X("div",{className:Ie.Save_Load_content_speaker,children:d}),X("div",{className:Ie.Save_Load_content_text_padding,children:u.nowStageState.showText})]})]})}const h=X("div",{onClick:()=>QH(a),className:Ie.Save_Load_content_element,style:{animationDelay:`${o*30}ms`},children:f},"saveElement_"+a);r.push(h)}return Pe("div",{className:Ie.Save_Load_main,children:[Pe("div",{className:Ie.Save_Load_top,children:[X("div",{className:Ie.Save_Load_title,children:X("div",{className:Ie.Save_title_text,children:"\u5B58\u6863"})}),X("div",{className:Ie.Save_Load_top_buttonList,children:t})]}),X("div",{className:Ie.Save_Load_content,id:"Save_content_page_"+e.userDataState.optionData.slPage,children:r})]})},t7=e=>{const t=Ke("userDataRef").userDataState.saveData[e];bt.debug("\u8BFB\u53D6\u7684\u5B58\u6863\u6570\u636E",t),Ii(t.sceneData.sceneUrl).then(o=>{Le.currentScene=Ri(o,t.sceneData.sceneName,t.sceneData.sceneUrl)}),Le.currentSentenceId=t.sceneData.currentSentenceId,Le.sceneStack=Cr.exports.cloneDeep(t.sceneData.sceneStack),bt.warn("\u6E05\u9664\u6240\u6709\u6F14\u51FA");for(let o=0;o<se.performList.length;o++){const a=se.performList[o];a.stopFunction(),clearTimeout(a.stopTimeout),se.performList.splice(o,1),o--}const r=t.backlog;Sr.splice(0,Sr.length);for(const o of r)Sr.push(o);const n=Cr.exports.cloneDeep(t.nowStageState);Ke("stageRef").restoreStage(n),Dr("restorePerform_target",0,1);const i=Ke("GuiRef");i.setVisibility("showTitle",!1),i.setVisibility("showMenuPanel",!1)},r7=()=>{const e=Ir(Us),t=[];for(let a=1;a<=20;a++){let u=Ie.Save_Load_top_button+" "+Ie.Load_top_button;a===e.userDataState.optionData.slPage&&(u=u+" "+Ie.Save_Load_top_button_on+" "+Ie.Load_top_button_on);const f=X("div",{onClick:()=>{e.setSlPage(a),dr()},className:u,children:X("div",{className:Ie.Save_Load_top_button_text,children:a})},"Load_element_page"+a);t.push(f)}const r=[],n=(e.userDataState.optionData.slPage-1)*10+1,i=n+9;let o=0;for(let a=n;a<=i;a++){o++;const u=e.userDataState.saveData[a];let f=X("div",{});if(u){const d=u.nowStageState.showName===""?"":`${u.nowStageState.showName}`;f=Pe(Os,{children:[Pe("div",{className:Ie.Save_Load_content_element_top,children:[X("div",{className:Ie.Save_Load_content_element_top_index+" "+Ie.Load_content_elememt_top_index,children:u.index}),X("div",{className:Ie.Save_Load_content_element_top_date+" "+Ie.Load_content_element_top_date,children:u.saveTime})]}),Pe("div",{className:Ie.Save_Load_content_miniRen,children:[u.nowStageState.bgName!==""&&X("img",{className:Ie.Save_Load_content_miniRen_bg,alt:"Save_img_preview",src:u.nowStageState.bgName}),u.nowStageState.bgName===""&&X("div",{style:{background:"rgba(0,0,0,0.6)",width:"100%",height:"100%"}}),u.nowStageState.figNameLeft!==""&&X("img",{className:Ie.Save_Load_content_miniRen_figure+" "+Ie.Save_Load_content_miniRen_figLeft,alt:"Save_img_previewLeft",src:u.nowStageState.figNameLeft}),u.nowStageState.figNameRight!==""&&X("img",{className:Ie.Save_Load_content_miniRen_figure+" "+Ie.Save_Load_content_miniRen_figRight,alt:"Save_img_preview",src:u.nowStageState.figNameRight}),u.nowStageState.figName!==""&&X("div",{style:{display:"flex",width:"100%",height:"100%",position:"absolute",bottom:"0",justifyContent:"center"},children:X("img",{className:Ie.Save_Load_content_miniRen_figure,alt:"Save_img_preview",src:u.nowStageState.figName})})]}),Pe("div",{className:Ie.Save_Load_content_text,children:[X("div",{className:Ie.Save_Load_content_speaker+" "+Ie.Load_content_speaker,children:d}),X("div",{className:Ie.Save_Load_content_text_padding,children:u.nowStageState.showText})]})]})}const h=X("div",{onClick:()=>t7(a),className:Ie.Save_Load_content_element,style:{animationDelay:`${o*30}ms`},children:f},"loadElement_"+a);r.push(h)}return Pe("div",{className:Ie.Save_Load_main,children:[Pe("div",{className:Ie.Save_Load_top,children:[X("div",{className:Ie.Save_Load_title,children:X("div",{className:Ie.Load_title_text,children:"\u8BFB\u6863"})}),X("div",{className:Ie.Save_Load_top_buttonList,children:t})]}),X("div",{className:Ie.Save_Load_content,id:"Load_content_page_"+e.userDataState.optionData.slPage,children:r})]})},n7="_Options_main_eqm20_1",i7="_Options_top_eqm20_8",o7="_Options_title_eqm20_15",a7="_Option_title_text_eqm20_22",s7="_Elements_in_eqm20_1",u7="_Option_title_text_shadow_eqm20_31",l7="_Option_title_text_ts_eqm20_38",f7="_Options_main_content_eqm20_45",h7="_Options_main_content_half_eqm20_50";var Uo={Options_main:n7,Options_top:i7,Options_title:o7,Option_title_text:a7,Elements_in:s7,Option_title_text_shadow:u7,Option_title_text_ts:l7,Options_main_content:f7,Options_main_content_half:h7};const c7="_NormalButton_1y8da_1",d7="_NormalButtonChecked_1y8da_17";var jv={NormalButton:c7,NormalButtonChecked:d7};const $v=e=>{const t=e.textList.length,r=[];for(let n=0;n<t;n++)if(n===e.currentChecked){const i=X("div",{className:jv.NormalButton+" "+jv.NormalButtonChecked,onClick:e.functionList[n],children:e.textList[n]},e.textList[n]+n+e);r.push(i)}else{const i=X("div",{className:jv.NormalButton,onClick:e.functionList[n],children:e.textList[n]},e.textList[n]+n);r.push(i)}return X(Os,{children:r})},p7="_NormalOption_mh1vg_1",v7="_Elements_in_mh1vg_1",_7="_NormalOption_title_mh1vg_10",m7="_NormalOption_title_bef_mh1vg_19",g7="_NormalOption_title_sd_mh1vg_29",y7="_NormalOption_buttonList_mh1vg_39";var Yv={NormalOption:p7,Elements_in:v7,NormalOption_title:_7,NormalOption_title_bef:m7,NormalOption_title_sd:g7,NormalOption_buttonList:y7};const ko=e=>Pe("div",{className:Yv.NormalOption,children:[X("div",{className:Yv.NormalOption_title,children:e.title}),X("div",{className:Yv.NormalOption_buttonList,children:e.children})]});const qv=e=>(It.exports.useEffect(()=>{setTimeout(()=>{const t=document.getElementById(e.uniqueID);t!==null&&t.setAttribute("value",e.initValue.toString())},1)},[]),X("div",{className:"Option_WebGAL_slider",children:X("input",{id:e.uniqueID,type:"range",onChange:e.onChange})})),x7="_textPreviewMain_1fl30_1",T7="_singleText_1fl30_8",E7="_TextDelayShow_1fl30_1",w7="_singleText1_1fl30_14",b7="_TextDelayShow1_1fl30_1",S7="_singleText2_1fl30_20",C7="_TextDelayShow2_1fl30_1";var bu={textPreviewMain:x7,singleText:T7,TextDelayShow:E7,singleText1:w7,TextDelayShow1:b7,singleText2:S7,TextDelayShow2:C7};const I7=e=>{const t=Ir(Us),r=55-20*t.userDataState.optionData.textSpeed,n="\u73B0\u5728\u9884\u89C8\u7684\u662F\u6587\u672C\u6846\u5B57\u4F53\u5927\u5C0F\u548C\u64AD\u653E\u901F\u5EA6\u7684\u60C5\u51B5\uFF0C\u60A8\u53EF\u4EE5\u6839\u636E\u60A8\u7684\u89C2\u611F\u8C03\u6574\u4E0A\u9762\u7684\u9009\u9879\u3002",i=t.userDataState.optionData.textSize*50+200+"%";let o=bu.singleText;switch(t.userDataState.optionData.textSpeed){case Gh.normal:o=bu.singleText;break;case Gh.slow:o=bu.singleText1;break;case Gh.fast:o=bu.singleText2;break}const a=n.split("").map((u,f)=>X("span",{id:r+"text"+f,style:{fontSize:i,animationDelay:String(f*r)+"ms"},className:o,children:u},u+f));return X("div",{className:bu.textPreviewMain,children:a})},R7=()=>{const e=Ir(Us);return It.exports.useEffect(fc,[]),Pe("div",{className:Uo.Options_main,children:[X("div",{className:Uo.Options_top,children:X("div",{className:Uo.Options_title,children:X("div",{className:Uo.Option_title_text,children:"\u9009\u9879"})})}),Pe("div",{className:Uo.Options_main_content,children:[Pe("div",{className:Uo.Options_main_content_half,children:[X(ko,{title:"\u6587\u5B57\u663E\u793A\u901F\u5EA6",children:X($v,{textList:["\u6162","\u4E2D","\u5FEB"],functionList:[()=>{e.setOptionData("textSpeed",0),dr()},()=>{e.setOptionData("textSpeed",1),dr()},()=>{e.setOptionData("textSpeed",2),dr()}],currentChecked:e.userDataState.optionData.textSpeed})},"option0"),X(ko,{title:"\u81EA\u52A8\u64AD\u653E\u901F\u5EA6",children:X($v,{textList:["\u6162","\u4E2D","\u5FEB"],functionList:[()=>{e.setOptionData("autoSpeed",0),dr()},()=>{e.setOptionData("autoSpeed",1),dr()},()=>{e.setOptionData("autoSpeed",2),dr()}],currentChecked:e.userDataState.optionData.autoSpeed})},"option1"),X(ko,{title:"\u6587\u672C\u5927\u5C0F",children:X($v,{textList:["\u5C0F","\u4E2D","\u5927"],functionList:[()=>{e.setOptionData("textSize",0),dr()},()=>{e.setOptionData("textSize",1),dr()},()=>{e.setOptionData("textSize",2),dr()}],currentChecked:e.userDataState.optionData.textSize})},"option2"),X(ko,{title:"\u6587\u672C\u663E\u793A\u9884\u89C8",children:X(I7,{})},"option3")]}),Pe("div",{className:Uo.Options_main_content_half,children:[X(ko,{title:"\u4E3B\u97F3\u91CF",children:X(qv,{initValue:e.userDataState.optionData.volumeMain,uniqueID:"\u4E3B\u97F3\u91CF",onChange:t=>{const r=t.target.value;e.setOptionData("volumeMain",Number(r)),dr(),Dr("setVolume_target",0,10)}})},"option4"),X(ko,{title:"\u8BED\u97F3\u97F3\u91CF",children:X(qv,{initValue:e.userDataState.optionData.vocalVolume,uniqueID:"\u8BED\u97F3\u97F3\u91CF",onChange:t=>{const r=t.target.value;e.setOptionData("vocalVolume",Number(r)),dr(),Dr("setVolume_target",0,10)}})},"option5"),X(ko,{title:"\u80CC\u666F\u97F3\u4E50\u97F3\u91CF",children:X(qv,{initValue:e.userDataState.optionData.bgmVolume,uniqueID:"\u80CC\u666F\u97F3\u4E50\u97F3\u91CF",onChange:t=>{const r=t.target.value;e.setOptionData("bgmVolume",Number(r)),dr(),Dr("setVolume_target",0,10)}})},"option6")]})]})]})},N7=()=>{const e=Ir(sa);let t,r="linear-gradient(135deg, rgba(253,251,251,0.95) 0%, rgba(235,237,238,1) 100%)";switch(e.GuiState.currentMenuTag){case Xt.Save:t=X(e7,{});break;case Xt.Load:t=X(r7,{});break;case Xt.Option:t=X(R7,{});break}return X(Os,{children:e.GuiState.showMenuPanel&&Pe("div",{className:Iw.Menu_main,style:{background:r},children:[X("div",{className:Iw.Menu_TagContent,children:t}),X(EH,{})]})})},P7=()=>{It.exports.useEffect(()=>{});const e=Ir(Ol),t=Ir(Us),r=55-20*t.userDataState.optionData.textSpeed,n=t.userDataState.optionData.textSize*50+200+"%",o=e.stageState.showText.split("").map((a,u)=>X("span",{className:pi.TextBox_textElement_start,style:{animationDelay:String(u*r)+"ms"},children:a},u+"textElement"+a+e.stageState.showText));return Pe("div",{id:"textBoxMain",className:pi.TextBox_main,children:[X("div",{id:"miniAvatar",className:pi.miniAvatarContainer,children:e.stageState.miniAvatar!==""&&X("img",{className:pi.miniAvatarImg,alt:"miniAvatar",src:e.stageState.miniAvatar})}),e.stageState.showName!==""&&X("div",{className:pi.TextBox_showName,style:{fontSize:"200%"},children:e.stageState.showName}),X("div",{style:{fontSize:n},children:o})]})},A7="_FigureContainer_main_u637y_1",O7="_figurePic_u637y_10",L7="_figContainer_u637y_18",F7="_figContainerLeft_u637y_29",U7="_figContainerCenter_u637y_33",k7="_figContainerRight_u637y_37";var zi={FigureContainer_main:A7,figurePic:O7,figContainer:L7,figContainerLeft:F7,figContainerCenter:U7,figContainerRight:k7};const B7=()=>{const e=Ir(Ol);return Pe("div",{className:zi.FigureContainer_main,children:[X("div",{className:zi.figContainerLeft+" "+zi.figContainer,id:"figLeftContainer",children:e.stageState.figNameLeft!==""&&X("img",{className:zi.figurePic,src:e.stageState.figNameLeft,alt:"fig_left"})}),X("div",{className:zi.figContainerCenter+" "+zi.figContainer,id:"figCenterContainer",children:e.stageState.figName!==""&&X("img",{src:e.stageState.figName,alt:"fig_center"})}),X("div",{className:zi.figContainerRight+" "+zi.figContainer,id:"figRightContainer",children:e.stageState.figNameRight!==""&&X("img",{src:e.stageState.figNameRight,alt:"fig_right"})})]})},M7=()=>{const e=Ir(Ol),t=i=>{uC(Ke("stageRef").stageState.PerformList[i].script)},r=()=>{const i=Ke("stageRef").stageState.PerformList.length;for(let o=0;o<i;o++){const a=new MouseEvent("click",{view:window,bubbles:!0,cancelable:!0,clientX:o}),u=document.getElementById("restoreOne_target");u!==null&&u.dispatchEvent(a)}},n=()=>{a0(),se.autoTimeout=null};return Pe("div",{children:[X("audio",{id:"currentBgm",src:e.stageState.bgm,loop:!0,autoPlay:!0}),X("audio",{id:"currentVocal",src:e.stageState.vocal}),X("div",{id:"nextSentence_target",onClick:n}),X("div",{id:"restoreOne_target",style:{display:"none"},onClick:i=>t(i.clientX)}),X("div",{id:"restorePerform_target",onClick:r,style:{display:"none"}}),X("div",{id:"setVolume_target",onClick:fC})]})},D7=()=>Pe("div",{className:ol.FullScreenPerform_main,children:[X("div",{id:"videoContainer"}),X("div",{className:ol.introContainer,id:"introContainer"}),X("div",{id:"pixiContianer"}),X("div",{id:"chooseContainer"})]}),G7="_main_116gi_1",H7="_button_116gi_15",X7="_button_text_116gi_21",z7="_button_on_116gi_26",V7="_singleButton_116gi_36";var Je={main:G7,button:H7,button_text:X7,button_on:z7,singleButton:V7};const Om=e=>{const t=document.getElementById("Button_ControlPanel_auto");t&&(e?t.className=Je.button_on:t.className=Je.singleButton)},W7=()=>{se.isAuto=!1,Om(!1),se.autoInterval!==null&&(clearInterval(se.autoInterval),se.autoInterval=null),se.autoTimeout!==null&&(clearTimeout(se.autoTimeout),se.autoTimeout=null)},j7=()=>{se.isAuto?(se.isAuto=!1,Om(!1),se.autoInterval!==null&&(clearInterval(se.autoInterval),se.autoInterval=null)):(se.isAuto=!0,Om(!0),se.autoInterval=setInterval($7,100))},$7=()=>{const e=750-250*Ke("userDataRef").userDataState.optionData.autoSpeed;let t=!1;se.performList.forEach(r=>{r.blockingAuto()&&!r.isOver&&(t=!0)}),!t&&se.autoTimeout===null&&(se.autoTimeout=Dr("nextSentence_target",0,e))},Lm=e=>{const t=document.getElementById("Button_ControlPanel_fast");t&&(e?t.className=Je.button_on:t.className=Je.singleButton)},Y7=()=>{se.isFast=!1,Lm(!1),se.fastInterval!==null&&(clearInterval(se.fastInterval),se.fastInterval=null)},q7=()=>{Y7(),W7()},K7=()=>{se.isFast?(se.isFast=!1,Lm(!1),se.fastInterval!==null&&(clearInterval(se.fastInterval),se.fastInterval=null)):(se.isFast=!0,Lm(!0),se.fastInterval=setInterval(()=>{Dr("nextSentence_target",0,0)},100))},Z7=()=>{const e=Ir(Ol),t=Ir(sa);return It.exports.useEffect(()=>{const r=e.stageState.effects;setTimeout(()=>{r.forEach(n=>{const i=document.getElementById(n.target);i&&(n.filter!==""&&(i.style.filter=n.filter),n.transform!==""&&(i.style.transform=n.transform))})},100)}),Pe("div",{className:Bh.MainStage_main,children:[X("div",{id:"MainStage_bg_MainContainer",className:Bh.MainStage_bgContainer,style:{backgroundImage:`url("${e.stageState.bgName}")`,backgroundSize:"cover"}},"bgMain"+e.stageState.bgName),X("div",{id:"MainStage_bg_OldContainer",className:Bh.MainStage_oldBgContainer,style:{backgroundImage:`url("${e.stageState.oldBgName}")`,backgroundSize:"cover"}},"bgOld"+e.stageState.oldBgName),X(B7,{}),t.GuiState.showTextBox&&X(P7,{}),X(M7,{}),X(D7,{}),X("div",{onClick:()=>{if(!t.GuiState.showTextBox){t.setVisibility("showTextBox",!0);return}q7(),a0()},id:"FullScreenClcck",style:{width:"100%",height:"100%",position:"absolute",zIndex:"12",top:"0"}})]})},J7=()=>{const e=Ir(sa);return Pe("div",{className:Je.main,children:[e.GuiState.showTextBox&&Pe("span",{className:Je.singleButton,onClick:()=>e.setVisibility("showTextBox",!1),children:[X(_H,{className:Je.button,theme:"outline",size:"30",fill:"#f5f5f7",strokeWidth:3.5}),X("span",{className:Je.button_text,children:"\u9690\u85CF"})]}),!e.GuiState.showTextBox&&Pe("span",{className:Je.singleButton,onClick:()=>e.setVisibility("showTextBox",!0),children:[X(mH,{className:Je.button,theme:"outline",size:"30",fill:"#f5f5f7",strokeWidth:3.5}),X("span",{className:Je.button_text,children:"\u663E\u793A"})]}),Pe("span",{className:Je.singleButton,onClick:()=>e.setVisibility("showBacklog",!0),children:[X(hH,{className:Je.button,theme:"outline",size:"30",fill:"#f5f5f7",strokeWidth:3.5}),X("span",{className:Je.button_text,children:"\u56DE\u60F3"})]}),Pe("span",{className:Je.singleButton,onClick:()=>{let t=document.getElementById("currentVocal");t!==null&&(t.currentTime=0,t.pause(),t.play())},children:[X(gH,{className:Je.button,theme:"outline",size:"30",fill:"#f5f5f7",strokeWidth:3.5}),X("span",{className:Je.button_text,children:"\u91CD\u64AD"})]}),Pe("span",{id:"Button_ControlPanel_auto",className:Je.singleButton,onClick:j7,children:[X(vH,{className:Je.button,theme:"outline",size:"30",fill:"#f5f5f7",strokeWidth:3.5}),X("span",{className:Je.button_text,children:"\u81EA\u52A8"})]}),Pe("span",{id:"Button_ControlPanel_fast",className:Je.singleButton,onClick:K7,children:[X(dH,{className:Je.button,theme:"outline",size:"30",fill:"#f5f5f7",strokeWidth:3.5}),X("span",{className:Je.button_text,children:"\u5FEB\u8FDB"})]}),Pe("span",{className:Je.singleButton,onClick:()=>{e.setMenuPanelTag(Xt.Save),e.setVisibility("showMenuPanel",!0)},children:[X(pC,{className:Je.button,theme:"outline",size:"30",fill:"#f5f5f7",strokeWidth:3.5}),X("span",{className:Je.button_text,children:"\u5B58\u6863"})]}),Pe("span",{className:Je.singleButton,onClick:()=>{e.setMenuPanelTag(Xt.Load),e.setVisibility("showMenuPanel",!0)},children:[X(cC,{className:Je.button,theme:"outline",size:"30",fill:"#f5f5f7",strokeWidth:3.5}),X("span",{className:Je.button_text,children:"\u8BFB\u6863"})]}),Pe("span",{className:Je.singleButton,onClick:()=>{e.setMenuPanelTag(Xt.Option),e.setVisibility("showMenuPanel",!0)},children:[X(vC,{className:Je.button,theme:"outline",size:"30",fill:"#f5f5f7",strokeWidth:3.5}),X("span",{className:Je.button_text,children:"\u9009\u9879"})]}),Pe("span",{className:Je.singleButton,onClick:()=>{e.setVisibility("showTitle",!0),Xc(e.GuiState.titleBgm)},children:[X(dC,{className:Je.button,theme:"outline",size:"30",fill:"#f5f5f7",strokeWidth:3.5}),X("span",{className:Je.button_text,children:"\u6807\u9898"})]})]})},Q7="_Backlog_main_zh6te_1",eX="_backlog_soft_in_zh6te_1",tX="_backlog_top_zh6te_13",rX="_backlog_top_icon_zh6te_19",nX="_backlog_icon_softin_zh6te_1",iX="_backlog_title_zh6te_38",oX="_backlog_content_zh6te_48",aX="_backlog_item_zh6te_60",sX="_backlog_item_in_zh6te_1",uX="_backlog_item_content_zh6te_70",lX="_backlog_item_button_list_zh6te_75",fX="_backlog_item_button_element_zh6te_82",hX="_backlog_item_content_name_zh6te_96",cX="_backlog_item_content_text_zh6te_102";var fn={Backlog_main:Q7,backlog_soft_in:eX,backlog_top:tX,backlog_top_icon:rX,backlog_icon_softin:nX,backlog_title:iX,backlog_content:oX,backlog_item:aX,backlog_item_in:sX,backlog_item_content:uX,backlog_item_button_list:lX,backlog_item_button_element:fX,backlog_item_content_name:hX,backlog_item_content_text:cX};const dX=e=>{const t=Sr[e];bt.debug("\u8BFB\u53D6\u7684backlog\u6570\u636E",t),Ii(t.saveScene.sceneUrl).then(n=>{Le.currentScene=Ri(n,t.saveScene.sceneName,t.saveScene.sceneUrl)}),Le.currentSentenceId=t.saveScene.currentSentenceId,Le.sceneStack=Cr.exports.cloneDeep(t.saveScene.sceneStack),bt.warn("\u6E05\u9664\u6240\u6709\u6F14\u51FA");for(let n=0;n<se.performList.length;n++){const i=se.performList[n];i.stopFunction(),clearTimeout(i.stopTimeout),se.performList.splice(n,1),n--}for(let n=Sr.length-1;n>e;n--)Sr.pop();const r=Cr.exports.cloneDeep(t.currentStageState);Ke("stageRef").restoreStage(r),Dr("restorePerform_target",0,1),Ke("GuiRef").setVisibility("showBacklog",!1)},pX=()=>{const e=Ir(sa),t=[];for(let r=0;r<Sr.length;r++){const n=Sr[r],i=Pe("div",{className:fn.backlog_item,style:{animationDelay:`${20*(Sr.length-r)}ms`},children:[Pe("div",{className:fn.backlog_item_button_list,children:[X("div",{onClick:o=>{dX(r),o.preventDefault(),o.stopPropagation()},className:fn.backlog_item_button_element,children:X(yH,{theme:"outline",size:"26",fill:"#ffffff",strokeWidth:3})}),X("div",{onClick:()=>{const o=document.getElementById("backlog_audio_play_element_"+r);if(o){o.currentTime=0;const a=Ke("userDataRef"),u=a.userDataState.optionData.volumeMain;o.volume=u*.01*a.userDataState.optionData.vocalVolume*.01,o.play()}},className:fn.backlog_item_button_element,children:X(xH,{theme:"outline",size:"26",fill:"#ffffff",strokeWidth:3})})]}),Pe("div",{className:fn.backlog_item_content,children:[Pe("span",{className:fn.backlog_item_content_name,children:[n.currentStageState.showName,n.currentStageState.showName===""?"":"\uFF1A"]}),X("span",{className:fn.backlog_item_content_text,children:n.currentStageState.showText})]}),X("audio",{id:"backlog_audio_play_element_"+r,src:n.currentStageState.vocal})]},"backlogItem"+n.currentStageState.showText+n.saveScene.currentSentenceId);t.unshift(i)}return X(Os,{children:e.GuiState.showBacklog&&Pe("div",{className:fn.Backlog_main,children:[Pe("div",{className:fn.backlog_top,children:[X(cH,{className:fn.backlog_top_icon,onClick:()=>e.setVisibility("showBacklog",!1),theme:"outline",size:"4em",fill:"#ffffff",strokeWidth:3}),X("div",{className:fn.backlog_title,children:"\u56DE\u60F3"})]}),X("div",{className:fn.backlog_content,children:t})]})})};function vX(){const e=It.exports.useRef(null),t=It.exports.useRef(null),r=It.exports.useRef(null);return It.exports.useEffect(()=>{fs.GuiRef=e,fs.stageRef=t,fs.userDataRef=r,K9()},[]),X("div",{className:"App",style:{height:"100%",width:"100%",background:"rgba(0, 0, 0, 0.6)"},children:X(Xu.Provider,{of:Us,storeRef:r,children:X(Xu.Provider,{of:Ol,storeRef:t,children:Pe(Xu.Provider,{of:sa,storeRef:e,children:[X($9,{}),X(N7,{}),X(Z7,{}),X(J7,{}),X(pX,{})]})})})})}gs.render(X(xe.StrictMode,{children:X(vX,{})}),document.getElementById("root"));
